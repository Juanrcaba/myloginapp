"use strict";(self.webpackChunkLogin_1=self.webpackChunkLogin_1||[]).push([[179],{7128:(kt,ke,O)=>{O.d(ke,{nm:()=>hi});var D=O(5813),le=(O(4650),O(3692),O(5867),O(5861)),Te=O(9681),ie=O(4859),Ee=O(2090),Me=O(1877);const Y=new Map,te={activated:!1,tokenObservers:[]},Re={initialized:!1,enabled:!1};function nt(Pe){return Y.get(Pe)||te}function ze(Pe,De){Y.set(Pe,De)}function Je(){return Re}class be{constructor(De,Ye,lt,Ct,Ht){if(this.operation=De,this.retryPolicy=Ye,this.getWaitDuration=lt,this.lowerBound=Ct,this.upperBound=Ht,this.pending=null,this.nextErrorWaitInterval=Ct,Ct>Ht)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(De){var Ye=this;return(0,le.Z)(function*(){Ye.stop();try{Ye.pending=new Ee.BH,yield function je(Pe){return new Promise(De=>{setTimeout(De,Pe)})}(Ye.getNextRun(De)),Ye.pending.resolve(),yield Ye.pending.promise,Ye.pending=new Ee.BH,yield Ye.operation(),Ye.pending.resolve(),yield Ye.pending.promise,Ye.process(!0).catch(()=>{})}catch(lt){Ye.retryPolicy(lt)?Ye.process(!1).catch(()=>{}):Ye.stop()}})()}getNextRun(De){if(De)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ye=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ye}}}const ge=new Ee.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ze(Pe){if(!nt(Pe).activated)throw ge.create("use-before-activation",{appName:Pe.name})}function Fe(Pe,De){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,le.Z)(function*({url:Pe,body:De},Ye){var lt,Ct;const Ht={"Content-Type":"application/json"},nr=Ye.getImmediate({optional:!0});if(nr){const Qr=yield nr.getHeartbeatsHeader();Qr&&(Ht["X-Firebase-Client"]=Qr)}const Zr={method:"POST",body:JSON.stringify(De),headers:Ht};let Dn,si;try{Dn=yield fetch(Pe,Zr)}catch(Qr){throw ge.create("fetch-network-error",{originalErrorMessage:null===(lt=Qr)||void 0===lt?void 0:lt.message})}if(200!==Dn.status)throw ge.create("fetch-status-error",{httpStatus:Dn.status});try{si=yield Dn.json()}catch(Qr){throw ge.create("fetch-parse-error",{originalErrorMessage:null===(Ct=Qr)||void 0===Ct?void 0:Ct.message})}const rs=si.ttl.match(/^([\d.]+)(s)$/);if(!rs||!rs[2]||isNaN(Number(rs[1])))throw ge.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${si.ttl}`});const Bs=1e3*Number(rs[1]),oi=Date.now();return{token:si.token,expireTimeMillis:oi+Bs,issuedAtTimeMillis:oi}})).apply(this,arguments)}function Tt(Pe,De){const{projectId:Ye,appId:lt,apiKey:Ct}=Pe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ye}/apps/${lt}:exchangeDebugToken?key=${Ct}`,body:{debug_token:De}}}const ht="firebase-app-check-store";let nn=null;function Xt(){return nn||(nn=new Promise((Pe,De)=>{var Ye;try{const lt=indexedDB.open("firebase-app-check-database",1);lt.onsuccess=Ct=>{Pe(Ct.target.result)},lt.onerror=Ct=>{var Ht;De(ge.create("storage-open",{originalErrorMessage:null===(Ht=Ct.target.error)||void 0===Ht?void 0:Ht.message}))},lt.onupgradeneeded=Ct=>{0===Ct.oldVersion&&Ct.target.result.createObjectStore(ht,{keyPath:"compositeKey"})}}catch(lt){De(ge.create("storage-open",{originalErrorMessage:null===(Ye=lt)||void 0===Ye?void 0:Ye.message}))}}),nn)}function pr(){return(pr=(0,le.Z)(function*(Pe,De){const lt=(yield Xt()).transaction(ht,"readwrite"),Ht=lt.objectStore(ht).put({compositeKey:Pe,value:De});return new Promise((nr,Zr)=>{Ht.onsuccess=Dn=>{nr()},lt.onerror=Dn=>{var si;Zr(ge.create("storage-set",{originalErrorMessage:null===(si=Dn.target.error)||void 0===si?void 0:si.message}))}})})).apply(this,arguments)}const lr=new Me.Yd("@firebase/app-check");function Pt(Pe,De){return(0,Ee.hl)()?function Jt(Pe,De){return function Pr(Pe,De){return pr.apply(this,arguments)}(function mr(Pe){return`${Pe.options.appId}-${Pe.name}`}(Pe),De)}(Pe,De).catch(Ye=>{lr.warn(`Failed to write token to IndexedDB. Error: ${Ye}`)}):Promise.resolve()}function an(){return Je().enabled}function Zt(){return vr.apply(this,arguments)}function vr(){return(vr=(0,le.Z)(function*(){const Pe=Je();if(Pe.enabled&&Pe.token)return Pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rt={error:"UNKNOWN_ERROR"};function he(Pe){return Ee.US.encodeString(JSON.stringify(Pe),!1)}function Ie(Pe){return ot.apply(this,arguments)}function ot(){return(ot=(0,le.Z)(function*(Pe,De=!1){const Ye=Pe.app;Ze(Ye);const lt=nt(Ye);let Ht,Ct=lt.token;if(!Ct){const Dn=yield lt.cachedTokenPromise;Dn&&zn(Dn)&&(Ct=Dn)}if(!De&&Ct&&zn(Ct))return{token:Ct.token};let Zr,nr=!1;if(an()){lt.exchangeTokenPromise||(lt.exchangeTokenPromise=Fe(Tt(Ye,yield Zt()),Pe.heartbeatServiceProvider).then(si=>(lt.exchangeTokenPromise=void 0,si)),nr=!0);const Dn=yield lt.exchangeTokenPromise;return yield Pt(Ye,Dn),ze(Ye,Object.assign(Object.assign({},lt),{token:Dn})),{token:Dn.token}}try{lt.exchangeTokenPromise||(lt.exchangeTokenPromise=lt.provider.getToken().then(Dn=>(lt.exchangeTokenPromise=void 0,Dn)),nr=!0),Ct=yield lt.exchangeTokenPromise}catch(Dn){"appCheck/throttled"===Dn.code?lr.warn(Dn.message):lr.error(Dn),Ht=Dn}return Ct?(Zr={token:Ct.token},ze(Ye,Object.assign(Object.assign({},lt),{token:Ct})),yield Pt(Ye,Ct)):Zr=on(Ht),nr&&St(Ye,Zr),Zr})).apply(this,arguments)}function ut(Pe,De){const Ye=nt(Pe),lt=Ye.tokenObservers.filter(Ct=>Ct.next!==De);0===lt.length&&Ye.tokenRefresher&&Ye.tokenRefresher.isRunning()&&Ye.tokenRefresher.stop(),ze(Pe,Object.assign(Object.assign({},Ye),{tokenObservers:lt}))}function Rn(Pe){const{app:De}=Pe,Ye=nt(De);let lt=Ye.tokenRefresher;lt||(lt=function Cn(Pe){const{app:De}=Pe;return new be((0,le.Z)(function*(){let lt;if(lt=nt(De).token?yield Ie(Pe,!0):yield Ie(Pe),lt.error)throw lt.error}),()=>!0,()=>{const Ye=nt(De);if(Ye.token){let lt=Ye.token.issuedAtTimeMillis+.5*(Ye.token.expireTimeMillis-Ye.token.issuedAtTimeMillis)+3e5;return lt=Math.min(lt,Ye.token.expireTimeMillis-3e5),Math.max(0,lt-Date.now())}return 0},3e4,96e4)}(Pe),ze(De,Object.assign(Object.assign({},Ye),{tokenRefresher:lt}))),!lt.isRunning()&&Ye.isTokenAutoRefreshEnabled&&lt.start()}function St(Pe,De){const Ye=nt(Pe).tokenObservers;for(const lt of Ye)try{"EXTERNAL"===lt.type&&null!=De.error?lt.error(De.error):lt.next(De)}catch{}}function zn(Pe){return Pe.expireTimeMillis-Date.now()>0}function on(Pe){return{token:he(rt),error:Pe}}class mn{constructor(De,Ye){this.app=De,this.heartbeatServiceProvider=Ye}_delete(){const{tokenObservers:De}=nt(this.app);for(const Ye of De)ut(this.app,Ye.next);return Promise.resolve()}}const Bn="app-check-internal";!function gr(){(0,Te._registerComponent)(new ie.wA("app-check",Pe=>function _n(Pe,De){return new mn(Pe,De)}(Pe.getProvider("app").getImmediate(),Pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pe,De,Ye)=>{Pe.getProvider(Bn).initialize()})),(0,Te._registerComponent)(new ie.wA(Bn,Pe=>function ue(Pe){return{getToken:De=>Ie(Pe,De),addTokenListener:De=>function Oe(Pe,De,Ye,lt){const{app:Ct}=Pe,Ht=nt(Ct),nr={next:Ye,error:lt,type:De};if(ze(Ct,Object.assign(Object.assign({},Ht),{tokenObservers:[...Ht.tokenObservers,nr]})),Ht.token&&zn(Ht.token)){const Zr=Ht.token;Promise.resolve().then(()=>{Ye({token:Zr.token}),Rn(Pe)}).catch(()=>{})}Ht.cachedTokenPromise.then(()=>Rn(Pe))}(Pe,"INTERNAL",De),removeTokenListener:De=>ut(Pe.app,De)}}(Pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Te.registerVersion)("@firebase/app-check","0.5.10")}();class hi{constructor(){return(0,D.vb)("app-check")}}typeof window<"u"&&window},3692:(kt,ke,O)=>{O.d(ke,{Ot:()=>U}),O(5867),O(4650);class U{constructor(Ve){return Ve}}},1205:(kt,ke,O)=>{O.d(ke,{zQ:()=>Be,rT:()=>Ce,f7:()=>Fe,L6:()=>L,_Q:()=>Ze,lh:()=>Ne,Qv:()=>ge,nw:()=>Ke});var D=O(4650),T=O(7579),U=O(9646),de=O(8306),le=O(8996),Te=O(6451),ie=O(6063);class Ee extends T.x{constructor(xt=1/0,Wt=1/0,ht=ie.l){super(),this._bufferSize=xt,this._windowTime=Wt,this._timestampProvider=ht,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Wt===1/0,this._bufferSize=Math.max(1,xt),this._windowTime=Math.max(1,Wt)}next(xt){const{isStopped:Wt,_buffer:ht,_infiniteTimeWindow:hn,_timestampProvider:nn,_windowTime:Xt}=this;Wt||(ht.push(xt),!hn&&ht.push(nn.now()+Xt)),this._trimBuffer(),super.next(xt)}_subscribe(xt){this._throwIfClosed(),this._trimBuffer();const Wt=this._innerSubscribe(xt),{_infiniteTimeWindow:ht,_buffer:hn}=this,nn=hn.slice();for(let Xt=0;Xt<nn.length&&!xt.closed;Xt+=ht?1:2)xt.next(nn[Xt]);return this._checkFinalizedStatuses(xt),Wt}_trimBuffer(){const{_bufferSize:xt,_timestampProvider:Wt,_buffer:ht,_infiniteTimeWindow:hn}=this,nn=(hn?1:2)*xt;if(xt<1/0&&nn<ht.length&&ht.splice(0,ht.length-nn),!hn){const Xt=Wt.now();let tn=0;for(let Jt=1;Jt<ht.length&&ht[Jt]<=Xt;Jt+=2)tn=Jt;tn&&ht.splice(0,tn+1)}}}var Me=O(3099);function Y(Tt,xt,Wt){let ht,hn=!1;return Tt&&"object"==typeof Tt?({bufferSize:ht=1/0,windowTime:xt=1/0,refCount:hn=!1,scheduler:Wt}=Tt):ht=Tt??1/0,(0,Me.B)({connector:()=>new Ee(ht,xt,Wt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:hn})}var te=O(3900),Re=O(576);function nt(Tt,xt){return(0,Re.m)(xt)?(0,te.w)(()=>Tt,xt):(0,te.w)(()=>Tt)}var ze=O(5363),Je=O(4004),ft=O(590),Ue=O(9468),$e=O(9300),_t=O(5813),pt=O(2011),Ve=O(6895),be=O(7128);O(127);const ge=new D.OlP("angularfire2.auth.use-emulator"),L=new D.OlP("angularfire2.auth.settings"),Ze=new D.OlP("angularfire2.auth.tenant-id"),Ce=new D.OlP("angularfire2.auth.langugage-code"),Ne=new D.OlP("angularfire2.auth.use-device-language"),Fe=new D.OlP("angularfire.auth.persistence"),Ke=(Tt,xt,Wt,ht,hn,nn,Xt,tn)=>(0,pt.cc)(`${Tt.name}.auth`,"AngularFireAuth",Tt.name,()=>{const Jt=xt.runOutsideAngular(()=>Tt.auth());if(Wt&&Jt.useEmulator(...Wt),ht&&(Jt.tenantId=ht),Jt.languageCode=hn,nn&&Jt.useDeviceLanguage(),Xt)for(const[Fn,fn]of Object.entries(Xt))Jt.settings[Fn]=fn;return tn&&Jt.setPersistence(tn),Jt},[Wt,ht,hn,nn,Xt,tn]);let Be=(()=>{class Tt{constructor(Wt,ht,hn,nn,Xt,tn,Jt,Fn,fn,Pr,pr,Un){const On=new T.x,mr=(0,U.of)(void 0).pipe((0,ze.Q)(Xt.outsideAngular),(0,te.w)(()=>nn.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,Je.U)(()=>(0,pt.on)(Wt,nn,ht)),(0,Je.U)(lr=>Ke(lr,nn,tn,Fn,fn,Pr,Jt,pr)),Y({bufferSize:1,refCount:!1}));if((0,Ve.PM)(hn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,U.of)(null);else{mr.pipe((0,ft.P)()).subscribe();const sr=mr.pipe((0,te.w)(Tn=>Tn.getRedirectResult().then(bn=>bn,()=>null)),_t.iC,Y({bufferSize:1,refCount:!1})),tr=mr.pipe((0,te.w)(Tn=>new de.y(bn=>({unsubscribe:nn.runOutsideAngular(()=>Tn.onAuthStateChanged(an=>bn.next(an),an=>bn.error(an),()=>bn.complete()))})))),Pt=mr.pipe((0,te.w)(Tn=>new de.y(bn=>({unsubscribe:nn.runOutsideAngular(()=>Tn.onIdTokenChanged(an=>bn.next(an),an=>bn.error(an),()=>bn.complete()))}))));this.authState=sr.pipe(nt(tr),(0,Ue.R)(Xt.outsideAngular),(0,ze.Q)(Xt.insideAngular)),this.user=sr.pipe(nt(Pt),(0,Ue.R)(Xt.outsideAngular),(0,ze.Q)(Xt.insideAngular)),this.idToken=this.user.pipe((0,te.w)(Tn=>Tn?(0,le.D)(Tn.getIdToken()):(0,U.of)(null))),this.idTokenResult=this.user.pipe((0,te.w)(Tn=>Tn?(0,le.D)(Tn.getIdTokenResult()):(0,U.of)(null))),this.credential=(0,Te.T)(sr,On,this.authState.pipe((0,$e.h)(Tn=>!Tn))).pipe((0,Je.U)(Tn=>Tn?.user?Tn:null),(0,Ue.R)(Xt.outsideAngular),(0,ze.Q)(Xt.insideAngular))}return(0,pt.pX)(this,mr,nn,{spy:{apply:(lr,sr,tr)=>{(lr.startsWith("signIn")||lr.startsWith("createUser"))&&tr.then(Pt=>On.next(Pt))}}})}}return Tt.\u0275fac=function(Wt){return new(Wt||Tt)(D.LFG(pt.Dh),D.LFG(pt.xv,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(_t.HU),D.LFG(ge,8),D.LFG(L,8),D.LFG(Ze,8),D.LFG(Ce,8),D.LFG(Ne,8),D.LFG(Fe,8),D.LFG(be.nm,8))},Tt.\u0275prov=D.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"any"}),Tt})()},7471:(kt,ke,O)=>{O.d(ke,{JS:()=>ar});var D=O(4650),T=O(4986),U=O(8306),de=O(9646),le=O(6451),Te=O(4482),ie=O(5403),Ee=O(8421),Me=O(4671),Y=O(5032),te=O(3269),ze=O(4004),Je=O(3099),ft=O(3900),Ue=O(5026),$e=O(1884),_t=O(5813),pt=O(2011),be=(O(5881),O(3942)),je=O(4859),wt=O(5861),ge=O(9681),L=O(2090),Ze=O(1877);const Ce="@firebase/database";let Fe="";function Ke(a){Fe=a}class Be{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,s){null==s?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,L.Pz)(s))}get(i){const s=this.domStorage_.getItem(this.prefixedName_(i));return null==s?null:(0,L.cI)(s)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class gt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,s){null==s?delete this.cache_[i]:this.cache_[i]=s}get(i){return(0,L.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const Tt=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const i=window[a];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new Be(i)}}catch{}return new gt},xt=Tt("localStorage"),Wt=Tt("sessionStorage"),ht=new Ze.Yd("@firebase/database"),hn=function(){let a=1;return function(){return a++}}(),nn=function(a){const i=(0,L.dS)(a),s=new L.gQ;s.update(i);const l=s.digest();return L.US.encodeByteArray(l)},Xt=function(...a){let i="";for(let s=0;s<a.length;s++){const l=a[s];Array.isArray(l)||l&&"object"==typeof l&&"number"==typeof l.length?i+=Xt.apply(null,l):i+="object"==typeof l?(0,L.Pz)(l):l,i+=" "}return i};let tn=null,Jt=!0;const Fn=function(a,i){(0,L.hu)(!i||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?(ht.logLevel=Ze.in.VERBOSE,tn=ht.log.bind(ht),i&&Wt.set("logging_enabled",!0)):"function"==typeof a?tn=a:(tn=null,Wt.remove("logging_enabled"))},fn=function(...a){if(!0===Jt&&(Jt=!1,null===tn&&!0===Wt.get("logging_enabled")&&Fn(!0)),tn){const i=Xt.apply(null,a);tn(i)}},Pr=function(a){return function(...i){fn(a,...i)}},pr=function(...a){const i="FIREBASE INTERNAL ERROR: "+Xt(...a);ht.error(i)},Un=function(...a){const i=`FIREBASE FATAL ERROR: ${Xt(...a)}`;throw ht.error(i),new Error(i)},On=function(...a){const i="FIREBASE WARNING: "+Xt(...a);ht.warn(i)},lr=function(a){return"number"==typeof a&&(a!=a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},tr="[MIN_NAME]",Pt="[MAX_NAME]",Tn=function(a,i){if(a===i)return 0;if(a===tr||i===Pt)return-1;if(i===tr||a===Pt)return 1;{const s=Cn(a),l=Cn(i);return null!==s?null!==l?s-l==0?a.length-i.length:s-l:-1:null!==l?1:a<i?-1:1}},bn=function(a,i){return a===i?0:a<i?-1:1},an=function(a,i){if(i&&a in i)return i[a];throw new Error("Missing required key ("+a+") in object: "+(0,L.Pz)(i))},Zt=function(a){if("object"!=typeof a||null===a)return(0,L.Pz)(a);const i=[];for(const l in a)i.push(l);i.sort();let s="{";for(let l=0;l<i.length;l++)0!==l&&(s+=","),s+=(0,L.Pz)(i[l]),s+=":",s+=Zt(a[i[l]]);return s+="}",s},vr=function(a,i){const s=a.length;if(s<=i)return[a];const l=[];for(let p=0;p<s;p+=i)l.push(a.substring(p,p+i>s?s:p+i));return l};function Vn(a,i){for(const s in a)a.hasOwnProperty(s)&&i(s,a[s])}const rt=function(a){(0,L.hu)(!lr(a),"Invalid JSON number");const l=1023;let p,I,N,W,Q;0===a?(I=0,N=0,p=1/a==-1/0?1:0):(p=a<0,(a=Math.abs(a))>=Math.pow(2,1-l)?(W=Math.min(Math.floor(Math.log(a)/Math.LN2),l),I=W+l,N=Math.round(a*Math.pow(2,52-W)-Math.pow(2,52))):(I=0,N=Math.round(a/Math.pow(2,-1074))));const se=[];for(Q=52;Q;Q-=1)se.push(N%2?1:0),N=Math.floor(N/2);for(Q=11;Q;Q-=1)se.push(I%2?1:0),I=Math.floor(I/2);se.push(p?1:0),se.reverse();const Qe=se.join("");let et="";for(Q=0;Q<64;Q+=8){let Dt=parseInt(Qe.substr(Q,8),2).toString(16);1===Dt.length&&(Dt="0"+Dt),et+=Dt}return et.toLowerCase()},Oe=new RegExp("^-?(0*)\\d{1,10}$"),ut=-2147483648,Rn=2147483647,Cn=function(a){if(Oe.test(a)){const i=Number(a);if(i>=ut&&i<=Rn)return i}return null},St=function(a){try{a()}catch(i){setTimeout(()=>{throw On("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},on=function(a,i){const s=setTimeout(a,i);return"object"==typeof s&&s.unref&&s.unref(),s};class mn{constructor(i,s){this.appName_=i,this.appCheckProvider=s,this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(l=>this.appCheck=l)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((s,l)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(s,l):s(null)},0)})}addTokenChangeListener(i){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(l=>l.addTokenListener(i))}notifyForInvalidToken(){On(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class _n{constructor(i,s,l){this.appName_=i,this.firebaseOptions_=s,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(p=>this.auth_=p)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(s=>s&&"auth/token-not-initialized"===s.code?(fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,l)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(s,l):s(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(s=>s.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(s=>s.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(i)}}let ue=(()=>{class a{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return a.OWNER="owner",a})();const bt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zt="websocket",pn="long_polling";class He{constructor(i,s,l,p,I=!1,N="",W=!1){this.secure=s,this.namespace=l,this.webSocketOnly=p,this.nodeAdmin=I,this.persistenceKey=N,this.includeNamespaceInQueryParams=W,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xt.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&xt.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ce(a,i,s){let l;if((0,L.hu)("string"==typeof i,"typeof type must == string"),(0,L.hu)("object"==typeof s,"typeof params must == object"),i===zt)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else{if(i!==pn)throw new Error("Unknown connection type: "+i);l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?"}(function oe(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams})(a)&&(s.ns=a.namespace);const p=[];return Vn(s,(I,N)=>{p.push(I+"="+N)}),l+p.join("&")}class Xe{constructor(){this.counters_={}}incrementCounter(i,s=1){(0,L.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=s}get(){return(0,L.p$)(this.counters_)}}const At={},Yt={};function st(a){const i=a.toString();return At[i]||(At[i]=new Xe),At[i]}class me{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,s){this.closeAfterResponse=i,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,s){for(this.pendingResponses[i]=s;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let p=0;p<l.length;++p)l[p]&&St(()=>{this.onMessage_(l[p])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ir{constructor(i,s,l,p,I,N,W){this.connId=i,this.repoInfo=s,this.applicationId=l,this.appCheckToken=p,this.authToken=I,this.transportSessionId=N,this.lastSessionId=W,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pr(i),this.stats_=st(s),this.urlFn=Q=>(this.appCheckToken&&(Q.ac=this.appCheckToken),ce(s,pn,Q))}open(i,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new me(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(a){if((0,L.Yr)()||"complete"===document.readyState)a();else{let i=!1;const s=function(){document.body?i||(i=!0,a()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yn((...I)=>{const[N,W,Q,se,Qe]=I;if(this.incrementIncomingBytes_(I),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===N)this.id=W,this.password=Q;else{if("close"!==N)throw new Error("Unrecognized command received: "+N);W?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(W,()=>{this.onClosed_()})):this.onClosed_()}},(...I)=>{const[N,W]=I;this.incrementIncomingBytes_(I),this.myPacketOrderer.handleResponse(N,W)},()=>{this.onClosed_()},this.urlFn);const l={start:"t"};l.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(l.cb=this.scriptTagHolder.uniqueCallbackIdentifier),l.v="5",this.transportSessionId&&(l.s=this.transportSessionId),this.lastSessionId&&(l.ls=this.lastSessionId),this.applicationId&&(l.p=this.applicationId),this.appCheckToken&&(l.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&bt.test(location.hostname)&&(l.r="f");const p=this.urlFn(l);this.log_("Connecting via long-poll to "+p),this.scriptTagHolder.addTag(p,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ir.forceAllow_=!0}static forceDisallow(){Ir.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!Ir.forceAllow_&&(Ir.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const s=(0,L.Pz)(i);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const l=(0,L.h$)(s),p=vr(l,1840);for(let I=0;I<p.length;I++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,p.length,p[I]),this.curSegmentNum++}addDisconnectPingFrame(i,s){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const l={dframe:"t"};l.id=i,l.pw=s,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const s=(0,L.Pz)(i).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Yn{constructor(i,s,l,p){if(this.onDisconnect=l,this.urlFn=p,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=i,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=hn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=Yn.createIFrame_();let I="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(I='<script>document.domain="'+document.domain+'";<\/script>');const N="<html><body>"+I+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(N),this.myIFrame.doc.close()}catch(W){fn("frame writing exception"),W.stack&&fn(W.stack),fn(W)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||fn("No IE domain setting required")}catch{const l=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,s){for(this.myID=i,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let s=this.urlFn(i),l="",p=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+l.length<=1870;){const N=this.pendingSegs.shift();l=l+"&seg"+p+"="+N.seg+"&ts"+p+"="+N.ts+"&d"+p+"="+N.d,p++}return s+=l,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(i,s,l){this.pendingSegs.push({seg:i,ts:s,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(i,s){this.outstandingRequests.add(s);const l=()=>{this.outstandingRequests.delete(s),this.newRequest_()},p=setTimeout(l,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(p),l()})}addTag(i,s){(0,L.Yr)()?this.doNodeLongPoll(i,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=i,l.onload=l.onreadystatechange=function(){const p=l.readyState;(!p||"loaded"===p||"complete"===p)&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),s())},l.onerror=()=>{fn("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}let Ci=null;typeof MozWebSocket<"u"?Ci=MozWebSocket:typeof WebSocket<"u"&&(Ci=WebSocket);let xi=(()=>{class a{constructor(s,l,p,I,N,W,Q){this.connId=s,this.applicationId=p,this.appCheckToken=I,this.authToken=N,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pr(this.connId),this.stats_=st(l),this.connURL=a.connectionURL_(l,W,Q,I,p),this.nodeAdmin=l.nodeAdmin}static connectionURL_(s,l,p,I,N){const W={v:"5"};return!(0,L.Yr)()&&typeof location<"u"&&location.hostname&&bt.test(location.hostname)&&(W.r="f"),l&&(W.s=l),p&&(W.ls=p),I&&(W.ac=I),N&&(W.p=N),ce(s,zt,W)}open(s,l){this.onDisconnect=l,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xt.set("previous_websocket_failure",!0);try{let p;if((0,L.Yr)()){const N={headers:{"User-Agent":`Firebase/5/${Fe}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(N.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(N.headers["X-Firebase-AppCheck"]=this.appCheckToken);const W=process.env,Q=0===this.connURL.indexOf("wss://")?W.HTTPS_PROXY||W.https_proxy:W.HTTP_PROXY||W.http_proxy;Q&&(N.proxy={origin:Q})}this.mySock=new Ci(this.connURL,[],p)}catch(p){this.log_("Error instantiating WebSocket.");const I=p.message||p.data;return I&&this.log_(I),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=p=>{this.handleIncomingFrame(p)},this.mySock.onerror=p=>{this.log_("WebSocket error.  Closing connection.");const I=p.message||p.data;I&&this.log_(I),this.onClosed_()}}start(){}static forceDisallow(){a.forceDisallow_=!0}static isAvailable(){let s=!1;if(typeof navigator<"u"&&navigator.userAgent){const p=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);p&&p.length>1&&parseFloat(p[1])<4.4&&(s=!0)}return!s&&null!==Ci&&!a.forceDisallow_}static previouslyFailed(){return xt.isInMemoryStorage||!0===xt.get("previous_websocket_failure")}markConnectionHealthy(){xt.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const p=(0,L.cI)(l);this.onMessage(p)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const l=Number(s);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const l=s.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(l);else{const p=this.extractFrameCount_(l);null!==p&&this.appendFrame_(p)}}send(s){this.resetKeepAlive();const l=(0,L.Pz)(s);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const p=vr(l,16384);p.length>1&&this.sendString_(String(p.length));for(let I=0;I<p.length;I++)this.sendString_(p[I])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return a.responsesRequiredToBeHealthy=2,a.healthyTimeout=3e4,a})(),Jr=(()=>{class a{constructor(s){this.initTransports_(s)}static get ALL_TRANSPORTS(){return[Ir,xi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(s){const l=xi&&xi.isAvailable();let p=l&&!xi.previouslyFailed();if(s.webSocketOnly&&(l||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),p=!0),p)this.transports_=[xi];else{const I=this.transports_=[];for(const N of a.ALL_TRANSPORTS)N&&N.isAvailable()&&I.push(N);a.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return a.globalTransportInitialized_=!1,a})();class Qr{constructor(i,s,l,p,I,N,W,Q,se,Qe){this.id=i,this.repoInfo_=s,this.applicationId_=l,this.appCheckToken_=p,this.authToken_=I,this.onMessage_=N,this.onReady_=W,this.onDisconnect_=Q,this.onKill_=se,this.lastSessionId=Qe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pr("c:"+this.id+":"),this.transportManager_=new Jr(s),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,l)},Math.floor(0));const p=i.healthyTimeout||0;p>0&&(this.healthyTimeout_=on(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(p)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return s=>{i===this.conn_?this.onConnectionLost_(s):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return s=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(s):i===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const s=i.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const s=an("t",i),l=an("d",i);if("c"===s)this.onSecondaryControl_(l);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(l)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const s=an("t",i),l=an("d",i);"c"===s?this.onControl_(l):"d"===s&&this.onDataMessage_(l)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const s=an("t",i);if("d"in i){const l=i.d;if("h"===s)this.onHandshake_(l);else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let p=0;p<this.pendingDataMessages.length;++p)this.onDataMessage_(this.pendingDataMessages[p]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(l):"r"===s?this.onReset_(l):"e"===s?pr("Server Error: "+l):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pr("Unknown control packet command: "+s)}}onHandshake_(i){const s=i.ts,l=i.v,p=i.h;this.sessionId=i.s,this.repoInfo_.host=p,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==l&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,l),on(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,s){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):on(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class wi{put(i,s,l,p){}merge(i,s,l,p){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,s,l){}onDisconnectMerge(i,s,l){}onDisconnectCancel(i,s){}reportStats(i){}}class Xr{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,L.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...s){if(Array.isArray(this.listeners_[i])){const l=[...this.listeners_[i]];for(let p=0;p<l.length;p++)l[p].callback.apply(l[p].context,s)}}on(i,s,l){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:s,context:l});const p=this.getInitialEvent(i);p&&s.apply(l,p)}off(i,s,l){this.validateEventType_(i);const p=this.listeners_[i]||[];for(let I=0;I<p.length;I++)if(p[I].callback===s&&(!l||l===p[I].context))return void p.splice(I,1)}validateEventType_(i){(0,L.hu)(this.allowedEvents_.find(s=>s===i),"Unknown event: "+i)}}class Vs extends Xr{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Vs}getInitialEvent(i){return(0,L.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class dr{constructor(i,s){if(void 0===s){this.pieces_=i.split("/");let l=0;for(let p=0;p<this.pieces_.length;p++)this.pieces_[p].length>0&&(this.pieces_[l]=this.pieces_[p],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=s}toString(){let i="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(i+="/"+this.pieces_[s]);return i||"/"}}function hr(){return new dr("")}function Mn(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function li(a){return a.pieces_.length-a.pieceNum_}function or(a){let i=a.pieceNum_;return i<a.pieces_.length&&i++,new dr(a.pieces_,i)}function js(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function Is(a,i=0){return a.pieces_.slice(a.pieceNum_+i)}function Ri(a){if(a.pieceNum_>=a.pieces_.length)return null;const i=[];for(let s=a.pieceNum_;s<a.pieces_.length-1;s++)i.push(a.pieces_[s]);return new dr(i,0)}function Er(a,i){const s=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)s.push(a.pieces_[l]);if(i instanceof dr)for(let l=i.pieceNum_;l<i.pieces_.length;l++)s.push(i.pieces_[l]);else{const l=i.split("/");for(let p=0;p<l.length;p++)l[p].length>0&&s.push(l[p])}return new dr(s,0)}function Qn(a){return a.pieceNum_>=a.pieces_.length}function Tr(a,i){const s=Mn(a),l=Mn(i);if(null===s)return i;if(s===l)return Tr(or(a),or(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+a+")")}function Wo(a,i){const s=Is(a,0),l=Is(i,0);for(let p=0;p<s.length&&p<l.length;p++){const I=Tn(s[p],l[p]);if(0!==I)return I}return s.length===l.length?0:s.length<l.length?-1:1}function gi(a,i){if(li(a)!==li(i))return!1;for(let s=a.pieceNum_,l=i.pieceNum_;s<=a.pieces_.length;s++,l++)if(a.pieces_[s]!==i.pieces_[l])return!1;return!0}function Vr(a,i){let s=a.pieceNum_,l=i.pieceNum_;if(li(a)>li(i))return!1;for(;s<a.pieces_.length;){if(a.pieces_[s]!==i.pieces_[l])return!1;++s,++l}return!0}class Li{constructor(i,s){this.errorPrefix_=s,this.parts_=Is(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=(0,L.ug)(this.parts_[l]);Hs(this)}}function Hs(a){if(a.byteLength_>768)throw new Error(a.errorPrefix_+"has a key path longer than 768 bytes ("+a.byteLength_+").");if(a.parts_.length>32)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Zi(a))}function Zi(a){return 0===a.parts_.length?"":"in property '"+a.parts_.join(".")+"'"}class io extends Xr{constructor(){let i,s;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const l=!document[i];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}static getInstance(){return new io}getInitialEvent(i){return(0,L.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const Mi=1e3;let gs,is=(()=>{class a extends wi{constructor(s,l,p,I,N,W,Q,se){if(super(),this.repoInfo_=s,this.applicationId_=l,this.onDataUpdate_=p,this.onConnectStatus_=I,this.onServerInfoUpdate_=N,this.authTokenProvider_=W,this.appCheckTokenProvider_=Q,this.authOverride_=se,this.id=a.nextPersistentConnectionId_++,this.log_=Pr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,se&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");io.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&Vs.getInstance().on("online",this.onOnline_,this)}sendRequest(s,l,p){const I=++this.requestNumber_,N={r:I,a:s,b:l};this.log_((0,L.Pz)(N)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(N),p&&(this.requestCBHash_[I]=p)}get(s){this.initConnection_();const l=new L.BH,I={action:"g",request:{p:s._path.toString(),q:s._queryObject},onComplete:W=>{const Q=W.d;"ok"===W.s?l.resolve(Q):l.reject(Q)}};this.outstandingGets_.push(I),this.outstandingGetCount_++;const N=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const W=this.outstandingGets_[N];void 0===W||I!==W||(delete this.outstandingGets_[N],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+N+" timed out on connection"),l.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(N),l.promise}listen(s,l,p,I){this.initConnection_();const N=s._queryIdentifier,W=s._path.toString();this.log_("Listen called for "+W+" "+N),this.listens.has(W)||this.listens.set(W,new Map),(0,L.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(W).has(N),"listen() called twice for same path/queryId.");const Q={onComplete:I,hashFn:l,query:s,tag:p};this.listens.get(W).set(N,Q),this.connected_&&this.sendListen_(Q)}sendGet_(s){const l=this.outstandingGets_[s];this.sendRequest("g",l.request,p=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(p)})}sendListen_(s){const l=s.query,p=l._path.toString(),I=l._queryIdentifier;this.log_("Listen on "+p+" for "+I);const N={p};s.tag&&(N.q=l._queryObject,N.t=s.tag),N.h=s.hashFn(),this.sendRequest("q",N,Q=>{const se=Q.d,Qe=Q.s;a.warnOnListenWarnings_(se,l),(this.listens.get(p)&&this.listens.get(p).get(I))===s&&(this.log_("listen response",Q),"ok"!==Qe&&this.removeListen_(p,I),s.onComplete&&s.onComplete(Qe,se))})}static warnOnListenWarnings_(s,l){if(s&&"object"==typeof s&&(0,L.r3)(s,"w")){const p=(0,L.DV)(s,"w");if(Array.isArray(p)&&~p.indexOf("no_index")){const I='".indexOn": "'+l._queryParams.getIndex().toString()+'"',N=l._path.toString();On(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${I} at ${N} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,L.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,l=(0,L.w9)(s)?"auth":"gauth",p={cred:s};null===this.authOverride_?p.noauth=!0:"object"==typeof this.authOverride_&&(p.authvar=this.authOverride_),this.sendRequest(l,p,I=>{const N=I.s,W=I.d||"error";this.authToken_===s&&("ok"===N?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(N,W))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const l=s.s,p=s.d||"error";"ok"===l?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,p)})}unlisten(s,l){const p=s._path.toString(),I=s._queryIdentifier;this.log_("Unlisten called for "+p+" "+I),(0,L.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(p,I)&&this.connected_&&this.sendUnlisten_(p,I,s._queryObject,l)}sendUnlisten_(s,l,p,I){this.log_("Unlisten on "+s+" for "+l);const N={p:s};I&&(N.q=p,N.t=I),this.sendRequest("n",N)}onDisconnectPut(s,l,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,l,p):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:l,onComplete:p})}onDisconnectMerge(s,l,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,l,p):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:l,onComplete:p})}onDisconnectCancel(s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,l):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(s,l,p,I){const N={p:l,d:p};this.log_("onDisconnect "+s,N),this.sendRequest(s,N,W=>{I&&setTimeout(()=>{I(W.s,W.d)},Math.floor(0))})}put(s,l,p,I){this.putInternal("p",s,l,p,I)}merge(s,l,p,I){this.putInternal("m",s,l,p,I)}putInternal(s,l,p,I,N){this.initConnection_();const W={p:l,d:p};void 0!==N&&(W.h=N),this.outstandingPuts_.push({action:s,request:W,onComplete:I}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+l)}sendPut_(s){const l=this.outstandingPuts_[s].action,p=this.outstandingPuts_[s].request,I=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(l,p,N=>{this.log_(l+" response",N),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),I&&I(N.s,N.d)})}reportStats(s){if(this.connected_){const l={c:s};this.log_("reportStats",l),this.sendRequest("s",l,p=>{"ok"!==p.s&&this.log_("reportStats","Error sending stats: "+p.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,L.Pz)(s));const l=s.r,p=this.requestCBHash_[l];p&&(delete this.requestCBHash_[l],p(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,l){this.log_("handleServerMessage",s,l),"d"===s?this.onDataUpdate_(l.p,l.d,!1,l.t):"m"===s?this.onDataUpdate_(l.p,l.d,!0,l.t):"c"===s?this.onListenRevoked_(l.p,l.q):"ac"===s?this.onAuthRevoked_(l.s,l.d):"apc"===s?this.onAppCheckRevoked_(l.s,l.d):"sd"===s?this.onSecurityDebugPacket_(l):pr("Unrecognized action received from server: "+(0,L.Pz)(s)+"\nAre you using the latest client?")}onReady_(s,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Mi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let l=Math.max(0,this.reconnectDelay_-s);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,wt.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const l=s.onDataMessage_.bind(s),p=s.onReady_.bind(s),I=s.onRealtimeDisconnect_.bind(s),N=s.id+":"+a.nextConnectionId_++,W=s.lastSessionId;let Q=!1,se=null;const Qe=function(){se?se.close():(Q=!0,I())};s.realtime_={close:Qe,sendRequest:function(cn){(0,L.hu)(se,"sendRequest call when we're not connected not allowed."),se.sendRequest(cn)}};const Dt=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[cn,Ln]=yield Promise.all([s.authTokenProvider_.getToken(Dt),s.appCheckTokenProvider_.getToken(Dt)]);Q?fn("getToken() completed but was canceled"):(fn("getToken() completed. Creating connection."),s.authToken_=cn&&cn.accessToken,s.appCheckToken_=Ln&&Ln.token,se=new Qr(N,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,l,p,I,Wr=>{On(Wr+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},W))}catch(cn){s.log_("Failed to get token: "+cn),Q||(s.repoInfo_.nodeAdmin&&On(cn),Qe())}}})()}interrupt(s){fn("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){fn("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const l=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const l=this.outstandingPuts_[s];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,l){let p;p=l?l.map(N=>Zt(N)).join("$"):"default";const I=this.removeListen_(s,p);I&&I.onComplete&&I.onComplete("permission_denied")}removeListen_(s,l){const p=new dr(s).toString();let I;if(this.listens.has(p)){const N=this.listens.get(p);I=N.get(l),N.delete(l),0===N.size&&this.listens.delete(p)}else I=void 0;return I}onAuthRevoked_(s,l){fn("Auth token revoked: "+s+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,l){fn("App check token revoked: "+s+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const l of s.values())this.sendListen_(l);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let l="js";(0,L.Yr)()&&(l=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+l+"."+Fe.replace(/\./g,"-")]=1,(0,L.uI)()?s["framework.cordova"]=1:(0,L.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=Vs.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&s}}return a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a})();class kn{constructor(i,s){this.name=i,this.node=s}static Wrap(i,s){return new kn(i,s)}}class mi{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,s){const l=new kn(tr,i),p=new kn(tr,s);return 0!==this.compare(l,p)}minPost(){return kn.MIN}}class ss extends mi{static get __EMPTY_NODE(){return gs}static set __EMPTY_NODE(i){gs=i}compare(i,s){return Tn(i.name,s.name)}isDefinedOn(i){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,s){return!1}minPost(){return kn.MIN}maxPost(){return new kn(Pt,gs)}makePost(i,s){return(0,L.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new kn(i,gs)}toString(){return".key"}}const $n=new ss;class Yi{constructor(i,s,l,p,I=null){this.isReverse_=p,this.resultGenerator_=I,this.nodeStack_=[];let N=1;for(;!i.isEmpty();)if(N=s?l(i.key,s):1,p&&(N*=-1),N<0)i=this.isReverse_?i.left:i.right;else{if(0===N){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,i=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let z,Sr=(()=>{class a{constructor(s,l,p,I,N){this.key=s,this.value=l,this.color=p??a.RED,this.left=I??A.EMPTY_NODE,this.right=N??A.EMPTY_NODE}copy(s,l,p,I,N){return new a(s??this.key,l??this.value,p??this.color,I??this.left,N??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,l,p){let I=this;const N=p(s,I.key);return I=N<0?I.copy(null,null,null,I.left.insert(s,l,p),null):0===N?I.copy(null,l,null,null,null):I.copy(null,null,null,null,I.right.insert(s,l,p)),I.fixUp_()}removeMin_(){if(this.left.isEmpty())return A.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,l){let p,I;if(p=this,l(s,p.key)<0)!p.left.isEmpty()&&!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),p=p.copy(null,null,null,p.left.remove(s,l),null);else{if(p.left.isRed_()&&(p=p.rotateRight_()),!p.right.isEmpty()&&!p.right.isRed_()&&!p.right.left.isRed_()&&(p=p.moveRedRight_()),0===l(s,p.key)){if(p.right.isEmpty())return A.EMPTY_NODE;I=p.right.min_(),p=p.copy(I.key,I.value,null,null,p.right.removeMin_())}p=p.copy(null,null,null,null,p.right.remove(s,l))}return p.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,l)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return a.RED=!0,a.BLACK=!1,a})();class A{constructor(i,s=A.EMPTY_NODE){this.comparator_=i,this.root_=s}insert(i,s){return new A(this.comparator_,this.root_.insert(i,s,this.comparator_).copy(null,null,Sr.BLACK,null,null))}remove(i){return new A(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Sr.BLACK,null,null))}get(i){let s,l=this.root_;for(;!l.isEmpty();){if(s=this.comparator_(i,l.key),0===s)return l.value;s<0?l=l.left:s>0&&(l=l.right)}return null}getPredecessorKey(i){let s,l=this.root_,p=null;for(;!l.isEmpty();){if(s=this.comparator_(i,l.key),0===s){if(l.left.isEmpty())return p?p.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}s<0?l=l.left:s>0&&(p=l,l=l.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new Yi(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,s){return new Yi(this.root_,i,this.comparator_,!1,s)}getReverseIteratorFrom(i,s){return new Yi(this.root_,i,this.comparator_,!0,s)}getReverseIterator(i){return new Yi(this.root_,null,this.comparator_,!0,i)}}function $(a,i){return Tn(a.name,i.name)}function M(a,i){return Tn(a,i)}A.EMPTY_NODE=new class Ar{copy(i,s,l,p,I){return this}insert(i,s,l){return new Sr(i,s,null)}remove(i,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const it=function(a){return"number"==typeof a?"number:"+rt(a):"string:"+a},mt=function(a){if(a.isLeafNode()){const i=a.val();(0,L.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,L.r3)(i,".sv"),"Priority must be a string or number.")}else(0,L.hu)(a===z||a.isEmpty(),"priority of unexpected type.");(0,L.hu)(a===z||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Mt,rr,_r,fr=(()=>{class a{constructor(s,l=a.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=l,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),mt(this.priorityNode_)}static set __childrenNodeConstructor(s){Mt=s}static get __childrenNodeConstructor(){return Mt}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new a(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return Qn(s)?this:".priority"===Mn(s)?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,l){return null}updateImmediateChild(s,l){return".priority"===s?this.updatePriority(l):l.isEmpty()&&".priority"!==s?this:a.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,l).updatePriority(this.priorityNode_)}updateChild(s,l){const p=Mn(s);return null===p?l:l.isEmpty()&&".priority"!==p?this:((0,L.hu)(".priority"!==p||1===li(s),".priority must be the last token in a path"),this.updateImmediateChild(p,a.__childrenNodeConstructor.EMPTY_NODE.updateChild(or(s),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,l){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+it(this.priorityNode_.val())+":");const l=typeof this.value_;s+=l+":",s+="number"===l?rt(this.value_):this.value_,this.lazyHash_=nn(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===a.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof a.__childrenNodeConstructor?-1:((0,L.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const l=typeof s.value_,p=typeof this.value_,I=a.VALUE_TYPE_ORDER.indexOf(l),N=a.VALUE_TYPE_ORDER.indexOf(p);return(0,L.hu)(I>=0,"Unknown leaf type: "+l),(0,L.hu)(N>=0,"Unknown leaf type: "+p),I===N?"object"===p?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:N-I}withIndex(){return this}isIndexed(){return!0}equals(s){if(s===this)return!0;if(s.isLeafNode()){const l=s;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}return!1}}return a.VALUE_TYPE_ORDER=["object","boolean","number","string"],a})();const Nt=new class ir extends mi{compare(i,s){const l=i.node.getPriority(),p=s.node.getPriority(),I=l.compareTo(p);return 0===I?Tn(i.name,s.name):I}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,s){return!i.getPriority().equals(s.getPriority())}minPost(){return kn.MIN}maxPost(){return new kn(Pt,new fr("[PRIORITY-POST]",_r))}makePost(i,s){const l=rr(i);return new kn(s,new fr("[PRIORITY-POST]",l))}toString(){return".priority"}},Pi=Math.log(2);class Ii{constructor(i){this.count=parseInt(Math.log(i+1)/Pi,10),this.current_=this.count-1;const p=(I=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&p}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Bi=function(a,i,s,l){a.sort(i);const p=function(Q,se){const Qe=se-Q;let et,Dt;if(0===Qe)return null;if(1===Qe)return et=a[Q],Dt=s?s(et):et,new Sr(Dt,et.node,Sr.BLACK,null,null);{const cn=parseInt(Qe/2,10)+Q,Ln=p(Q,cn),Wr=p(cn+1,se);return et=a[cn],Dt=s?s(et):et,new Sr(Dt,et.node,Sr.BLACK,Ln,Wr)}},W=function(Q){let se=null,Qe=null,et=a.length;const Dt=function(Ln,Wr){const Wi=et-Ln,vl=et;et-=Ln;const da=p(Wi+1,vl),Ra=a[Wi],ud=s?s(Ra):Ra;cn(new Sr(ud,Ra.node,Wr,null,da))},cn=function(Ln){se?(se.left=Ln,se=Ln):(Qe=Ln,se=Ln)};for(let Ln=0;Ln<Q.count;++Ln){const Wr=Q.nextBitIsOne(),Wi=Math.pow(2,Q.count-(Ln+1));Wr?Dt(Wi,Sr.BLACK):(Dt(Wi,Sr.BLACK),Dt(Wi,Sr.RED))}return Qe}(new Ii(a.length));return new A(l||i,W)};let Ti;const Vi={};class ri{constructor(i,s){this.indexes_=i,this.indexSet_=s}static get Default(){return(0,L.hu)(Vi&&Nt,"ChildrenNode.ts has not been loaded"),Ti=Ti||new ri({".priority":Vi},{".priority":Nt}),Ti}get(i){const s=(0,L.DV)(this.indexes_,i);if(!s)throw new Error("No index defined for "+i);return s instanceof A?s:null}hasIndex(i){return(0,L.r3)(this.indexSet_,i.toString())}addIndex(i,s){(0,L.hu)(i!==$n,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let p=!1;const I=s.getIterator(kn.Wrap);let W,N=I.getNext();for(;N;)p=p||i.isDefinedOn(N.node),l.push(N),N=I.getNext();W=p?Bi(l,i.getCompare()):Vi;const Q=i.toString(),se=Object.assign({},this.indexSet_);se[Q]=i;const Qe=Object.assign({},this.indexes_);return Qe[Q]=W,new ri(Qe,se)}addToIndexes(i,s){const l=(0,L.UI)(this.indexes_,(p,I)=>{const N=(0,L.DV)(this.indexSet_,I);if((0,L.hu)(N,"Missing index implementation for "+I),p===Vi){if(N.isDefinedOn(i.node)){const W=[],Q=s.getIterator(kn.Wrap);let se=Q.getNext();for(;se;)se.name!==i.name&&W.push(se),se=Q.getNext();return W.push(i),Bi(W,N.getCompare())}return Vi}{const W=s.get(i.name);let Q=p;return W&&(Q=Q.remove(new kn(i.name,W))),Q.insert(i,i.node)}});return new ri(l,this.indexSet_)}removeFromIndexes(i,s){const l=(0,L.UI)(this.indexes_,p=>{if(p===Vi)return p;{const I=s.get(i.name);return I?p.remove(new kn(i.name,I)):p}});return new ri(l,this.indexSet_)}}let Qi,In=(()=>{class a{constructor(s,l,p){this.children_=s,this.priorityNode_=l,this.indexMap_=p,this.lazyHash_=null,this.priorityNode_&&mt(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qi||(Qi=new a(new A(M),null,ri.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qi}updatePriority(s){return this.children_.isEmpty()?this:new a(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const l=this.children_.get(s);return null===l?Qi:l}}getChild(s){const l=Mn(s);return null===l?this:this.getImmediateChild(l).getChild(or(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,l){if((0,L.hu)(l,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(l);{const p=new kn(s,l);let I,N;l.isEmpty()?(I=this.children_.remove(s),N=this.indexMap_.removeFromIndexes(p,this.children_)):(I=this.children_.insert(s,l),N=this.indexMap_.addToIndexes(p,this.children_));const W=I.isEmpty()?Qi:this.priorityNode_;return new a(I,W,N)}}updateChild(s,l){const p=Mn(s);if(null===p)return l;{(0,L.hu)(".priority"!==Mn(s)||1===li(s),".priority must be the last token in a path");const I=this.getImmediateChild(p).updateChild(or(s),l);return this.updateImmediateChild(p,I)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const l={};let p=0,I=0,N=!0;if(this.forEachChild(Nt,(W,Q)=>{l[W]=Q.val(s),p++,N&&a.INTEGER_REGEXP_.test(W)?I=Math.max(I,Number(W)):N=!1}),!s&&N&&I<2*p){const W=[];for(const Q in l)W[Q]=l[Q];return W}return s&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+it(this.getPriority().val())+":"),this.forEachChild(Nt,(l,p)=>{const I=p.hash();""!==I&&(s+=":"+l+":"+I)}),this.lazyHash_=""===s?"":nn(s)}return this.lazyHash_}getPredecessorChildName(s,l,p){const I=this.resolveIndex_(p);if(I){const N=I.getPredecessorKey(new kn(s,l));return N?N.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const l=this.resolveIndex_(s);if(l){const p=l.minKey();return p&&p.name}return this.children_.minKey()}getFirstChild(s){const l=this.getFirstChildName(s);return l?new kn(l,this.children_.get(l)):null}getLastChildName(s){const l=this.resolveIndex_(s);if(l){const p=l.maxKey();return p&&p.name}return this.children_.maxKey()}getLastChild(s){const l=this.getLastChildName(s);return l?new kn(l,this.children_.get(l)):null}forEachChild(s,l){const p=this.resolveIndex_(s);return p?p.inorderTraversal(I=>l(I.name,I.node)):this.children_.inorderTraversal(l)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,l){const p=this.resolveIndex_(l);if(p)return p.getIteratorFrom(s,I=>I);{const I=this.children_.getIteratorFrom(s.name,kn.Wrap);let N=I.peek();for(;null!=N&&l.compare(N,s)<0;)I.getNext(),N=I.peek();return I}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,l){const p=this.resolveIndex_(l);if(p)return p.getReverseIteratorFrom(s,I=>I);{const I=this.children_.getReverseIteratorFrom(s.name,kn.Wrap);let N=I.peek();for(;null!=N&&l.compare(N,s)>0;)I.getNext(),N=I.peek();return I}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===xn?-1:0}withIndex(s){if(s===$n||this.indexMap_.hasIndex(s))return this;{const l=this.indexMap_.addIndex(s,this.children_);return new a(this.children_,this.priorityNode_,l)}}isIndexed(s){return s===$n||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const l=s;if(this.getPriority().equals(l.getPriority())){if(this.children_.count()===l.children_.count()){const p=this.getIterator(Nt),I=l.getIterator(Nt);let N=p.getNext(),W=I.getNext();for(;N&&W;){if(N.name!==W.name||!N.node.equals(W.node))return!1;N=p.getNext(),W=I.getNext()}return null===N&&null===W}return!1}return!1}}resolveIndex_(s){return s===$n?null:this.indexMap_.get(s.toString())}}return a.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,a})();const xn=new class Et extends In{constructor(){super(new A(M),In.EMPTY_NODE,ri.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return In.EMPTY_NODE}isEmpty(){return!1}};function Cr(a,i=null){if(null===a)return In.EMPTY_NODE;if("object"==typeof a&&".priority"in a&&(i=a[".priority"]),(0,L.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new fr(a,Cr(i));if(a instanceof Array){let s=In.EMPTY_NODE;return Vn(a,(l,p)=>{if((0,L.r3)(a,l)&&"."!==l.substring(0,1)){const I=Cr(p);(I.isLeafNode()||!I.isEmpty())&&(s=s.updateImmediateChild(l,I))}}),s.updatePriority(Cr(i))}{const s=[];let l=!1;if(Vn(a,(N,W)=>{if("."!==N.substring(0,1)){const Q=Cr(W);Q.isEmpty()||(l=l||!Q.getPriority().isEmpty(),s.push(new kn(N,Q)))}}),0===s.length)return In.EMPTY_NODE;const I=Bi(s,$,N=>N.name,M);if(l){const N=Bi(s,Nt.getCompare());return new In(I,Cr(i),new ri({".priority":N},{".priority":Nt}))}return new In(I,Cr(i),ri.Default)}}Object.defineProperties(kn,{MIN:{value:new kn(tr,In.EMPTY_NODE)},MAX:{value:new kn(Pt,xn)}}),ss.__EMPTY_NODE=In.EMPTY_NODE,fr.__childrenNodeConstructor=In,function ve(a){z=a}(xn),function cr(a){_r=a}(xn),function Pn(a){rr=a}(Cr);class Lr extends mi{constructor(i){super(),this.indexPath_=i,(0,L.hu)(!Qn(i)&&".priority"!==Mn(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,s){const l=this.extractChild(i.node),p=this.extractChild(s.node),I=l.compareTo(p);return 0===I?Tn(i.name,s.name):I}makePost(i,s){const l=Cr(i),p=In.EMPTY_NODE.updateChild(this.indexPath_,l);return new kn(s,p)}maxPost(){const i=In.EMPTY_NODE.updateChild(this.indexPath_,xn);return new kn(Pt,i)}toString(){return Is(this.indexPath_,0).join("/")}}const Ms=new class os extends mi{compare(i,s){const l=i.node.compareTo(s.node);return 0===l?Tn(i.name,s.name):l}isDefinedOn(i){return!0}indexedValueChanged(i,s){return!i.equals(s)}minPost(){return kn.MIN}maxPost(){return kn.MAX}makePost(i,s){const l=Cr(i);return new kn(s,l)}toString(){return".value"}},ei="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zo=function(){let a=0;const i=[];return function(s){const l=s===a;let p;a=s;const I=new Array(8);for(p=7;p>=0;p--)I[p]=ei.charAt(s%64),s=Math.floor(s/64);(0,L.hu)(0===s,"Cannot push at time == 0");let N=I.join("");if(l){for(p=11;p>=0&&63===i[p];p--)i[p]=0;i[p]++}else for(p=0;p<12;p++)i[p]=Math.floor(64*Math.random());for(p=0;p<12;p++)N+=ei.charAt(i[p]);return(0,L.hu)(20===N.length,"nextPushId: Length should be 20."),N}}(),Go=function(a){if(a===""+Rn)return"-";const i=Cn(a);if(null!=i)return""+(i+1);const s=new Array(a.length);for(let N=0;N<s.length;N++)s[N]=a.charAt(N);if(s.length<786)return s.push("-"),s.join("");let l=s.length-1;for(;l>=0&&"z"===s[l];)l--;if(-1===l)return Pt;const I=ei.charAt(ei.indexOf(s[l])+1);return s[l]=I,s.slice(0,l+1).join("")},Ps=function(a){if(a===""+ut)return tr;const i=Cn(a);if(null!=i)return""+(i-1);const s=new Array(a.length);for(let l=0;l<s.length;l++)s[l]=a.charAt(l);return"-"===s[s.length-1]?1===s.length?""+Rn:(delete s[s.length-1],s.join("")):(s[s.length-1]=ei.charAt(ei.indexOf(s[s.length-1])-1),s.join("")+"z".repeat(786-s.length))};function ii(a){return{type:"value",snapshotNode:a}}function ui(a,i){return{type:"child_added",snapshotNode:i,childName:a}}function Ns(a,i){return{type:"child_removed",snapshotNode:i,childName:a}}function _i(a,i,s){return{type:"child_changed",snapshotNode:i,childName:a,oldSnap:s}}class ms{constructor(i){this.index_=i}updateChild(i,s,l,p,I,N){(0,L.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const W=i.getImmediateChild(s);return W.getChild(p).equals(l.getChild(p))&&W.isEmpty()===l.isEmpty()||(null!=N&&(l.isEmpty()?i.hasChild(s)?N.trackChildChange(Ns(s,W)):(0,L.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):W.isEmpty()?N.trackChildChange(ui(s,l)):N.trackChildChange(_i(s,l,W))),i.isLeafNode()&&l.isEmpty())?i:i.updateImmediateChild(s,l).withIndex(this.index_)}updateFullNode(i,s,l){return null!=l&&(i.isLeafNode()||i.forEachChild(Nt,(p,I)=>{s.hasChild(p)||l.trackChildChange(Ns(p,I))}),s.isLeafNode()||s.forEachChild(Nt,(p,I)=>{if(i.hasChild(p)){const N=i.getImmediateChild(p);N.equals(I)||l.trackChildChange(_i(p,I,N))}else l.trackChildChange(ui(p,I))})),s.withIndex(this.index_)}updatePriority(i,s){return i.isEmpty()?In.EMPTY_NODE:i.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $s{constructor(i){this.indexedFilter_=new ms(i.getIndex()),this.index_=i.getIndex(),this.startPost_=$s.getStartPost_(i),this.endPost_=$s.getEndPost_(i)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0}updateChild(i,s,l,p,I,N){return this.matches(new kn(s,l))||(l=In.EMPTY_NODE),this.indexedFilter_.updateChild(i,s,l,p,I,N)}updateFullNode(i,s,l){s.isLeafNode()&&(s=In.EMPTY_NODE);let p=s.withIndex(this.index_);p=p.updatePriority(In.EMPTY_NODE);const I=this;return s.forEachChild(Nt,(N,W)=>{I.matches(new kn(N,W))||(p=p.updateImmediateChild(N,In.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,p,l)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const s=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),s)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const s=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),s)}return i.getIndex().maxPost()}}class oo{constructor(i){this.rangedFilter_=new $s(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}updateChild(i,s,l,p,I,N){return this.rangedFilter_.matches(new kn(s,l))||(l=In.EMPTY_NODE),i.getImmediateChild(s).equals(l)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,s,l,p,I,N):this.fullLimitUpdateChild_(i,s,l,I,N)}updateFullNode(i,s,l){let p;if(s.isLeafNode()||s.isEmpty())p=In.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let I;p=In.EMPTY_NODE.withIndex(this.index_),I=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let N=0;for(;I.hasNext()&&N<this.limit_;){const W=I.getNext();let Q;if(Q=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),W)<=0:this.index_.compare(W,this.rangedFilter_.getEndPost())<=0,!Q)break;p=p.updateImmediateChild(W.name,W.node),N++}}else{let I,N,W,Q;if(p=s.withIndex(this.index_),p=p.updatePriority(In.EMPTY_NODE),this.reverse_){Q=p.getReverseIterator(this.index_),I=this.rangedFilter_.getEndPost(),N=this.rangedFilter_.getStartPost();const et=this.index_.getCompare();W=(Dt,cn)=>et(cn,Dt)}else Q=p.getIterator(this.index_),I=this.rangedFilter_.getStartPost(),N=this.rangedFilter_.getEndPost(),W=this.index_.getCompare();let se=0,Qe=!1;for(;Q.hasNext();){const et=Q.getNext();!Qe&&W(I,et)<=0&&(Qe=!0),Qe&&se<this.limit_&&W(et,N)<=0?se++:p=p.updateImmediateChild(et.name,In.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,p,l)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,s,l,p,I){let N;if(this.reverse_){const et=this.index_.getCompare();N=(Dt,cn)=>et(cn,Dt)}else N=this.index_.getCompare();const W=i;(0,L.hu)(W.numChildren()===this.limit_,"");const Q=new kn(s,l),se=this.reverse_?W.getFirstChild(this.index_):W.getLastChild(this.index_),Qe=this.rangedFilter_.matches(Q);if(W.hasChild(s)){const et=W.getImmediateChild(s);let Dt=p.getChildAfterChild(this.index_,se,this.reverse_);for(;null!=Dt&&(Dt.name===s||W.hasChild(Dt.name));)Dt=p.getChildAfterChild(this.index_,Dt,this.reverse_);const cn=null==Dt?1:N(Dt,Q);if(Qe&&!l.isEmpty()&&cn>=0)return I?.trackChildChange(_i(s,l,et)),W.updateImmediateChild(s,l);{I?.trackChildChange(Ns(s,et));const Wr=W.updateImmediateChild(s,In.EMPTY_NODE);return null!=Dt&&this.rangedFilter_.matches(Dt)?(I?.trackChildChange(ui(Dt.name,Dt.node)),Wr.updateImmediateChild(Dt.name,Dt.node)):Wr}}return l.isEmpty()?i:Qe&&N(se,Q)>=0?(null!=I&&(I.trackChildChange(Ns(se.name,se.node)),I.trackChildChange(ui(s,l))),W.updateImmediateChild(s,l).updateImmediateChild(se.name,In.EMPTY_NODE)):i}}class Eo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:tr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nt}copy(){const i=new Eo;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Do(a,i,s){const l=a.copy();return l.startSet_=!0,void 0===i&&(i=null),l.indexStartValue_=i,null!=s?(l.startNameSet_=!0,l.indexStartName_=s):(l.startNameSet_=!1,l.indexStartName_=""),l}function bs(a,i,s){const l=a.copy();return l.endSet_=!0,void 0===i&&(i=null),l.indexEndValue_=i,void 0!==s?(l.endNameSet_=!0,l.indexEndName_=s):(l.endNameSet_=!1,l.indexEndName_=""),l}function f(a,i){const s=a.copy();return s.index_=i,s}function m(a){const i={};if(a.isDefault())return i;let s;return a.index_===Nt?s="$priority":a.index_===Ms?s="$value":a.index_===$n?s="$key":((0,L.hu)(a.index_ instanceof Lr,"Unrecognized index type!"),s=a.index_.toString()),i.orderBy=(0,L.Pz)(s),a.startSet_&&(i.startAt=(0,L.Pz)(a.indexStartValue_),a.startNameSet_&&(i.startAt+=","+(0,L.Pz)(a.indexStartName_))),a.endSet_&&(i.endAt=(0,L.Pz)(a.indexEndValue_),a.endNameSet_&&(i.endAt+=","+(0,L.Pz)(a.indexEndName_))),a.limitSet_&&(a.isViewFromLeft()?i.limitToFirst=a.limit_:i.limitToLast=a.limit_),i}function R(a){const i={};if(a.startSet_&&(i.sp=a.indexStartValue_,a.startNameSet_&&(i.sn=a.indexStartName_)),a.endSet_&&(i.ep=a.indexEndValue_,a.endNameSet_&&(i.en=a.indexEndName_)),a.limitSet_){i.l=a.limit_;let s=a.viewFrom_;""===s&&(s=a.isViewFromLeft()?"l":"r"),i.vf=s}return a.index_!==Nt&&(i.i=a.index_.toString()),i}class B extends wi{constructor(i,s,l,p){super(),this.repoInfo_=i,this.onDataUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=p,this.log_=Pr("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,s){return void 0!==s?"tag$"+s:((0,L.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,s,l,p){const I=i._path.toString();this.log_("Listen called for "+I+" "+i._queryIdentifier);const N=B.getListenId_(i,l),W={};this.listens_[N]=W;const Q=m(i._queryParams);this.restRequest_(I+".json",Q,(se,Qe)=>{let et=Qe;if(404===se&&(et=null,se=null),null===se&&this.onDataUpdate_(I,et,!1,l),(0,L.DV)(this.listens_,N)===W){let Dt;Dt=se?401===se?"permission_denied":"rest_error:"+se:"ok",p(Dt,null)}})}unlisten(i,s){const l=B.getListenId_(i,s);delete this.listens_[l]}get(i){const s=m(i._queryParams),l=i._path.toString(),p=new L.BH;return this.restRequest_(l+".json",s,(I,N)=>{let W=N;404===I&&(W=null,I=null),null===I?(this.onDataUpdate_(l,W,!1,null),p.resolve(W)):p.reject(new Error(W))}),p.promise}refreshAuthToken(i){}restRequest_(i,s={},l){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([p,I])=>{p&&p.accessToken&&(s.auth=p.accessToken),I&&I.token&&(s.ac=I.token);const N=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,L.xO)(s);this.log_("Sending REST request for "+N);const W=new XMLHttpRequest;W.onreadystatechange=()=>{if(l&&4===W.readyState){this.log_("REST Response for "+N+" received. status:",W.status,"response:",W.responseText);let Q=null;if(W.status>=200&&W.status<300){try{Q=(0,L.cI)(W.responseText)}catch{On("Failed to parse JSON response for "+N+": "+W.responseText)}l(null,Q)}else 401!==W.status&&404!==W.status&&On("Got unsuccessful REST response for "+N+" Status: "+W.status),l(W.status);l=null}},W.open("GET",N,!0),W.send()})}}class K{constructor(){this.rootNode_=In.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,s){this.rootNode_=this.rootNode_.updateChild(i,s)}}function pe(){return{value:null,children:new Map}}function ye(a,i,s){if(Qn(i))a.value=s,a.children.clear();else if(null!==a.value)a.value=a.value.updateChild(i,s);else{const l=Mn(i);a.children.has(l)||a.children.set(l,pe()),ye(a.children.get(l),i=or(i),s)}}function Le(a,i){if(Qn(i))return a.value=null,a.children.clear(),!0;if(null!==a.value){if(a.value.isLeafNode())return!1;{const s=a.value;return a.value=null,s.forEachChild(Nt,(l,p)=>{ye(a,new dr(l),p)}),Le(a,i)}}if(a.children.size>0){const s=Mn(i);return i=or(i),a.children.has(s)&&Le(a.children.get(s),i)&&a.children.delete(s),0===a.children.size}return!0}function ct(a,i,s){null!==a.value?s(i,a.value):function Ot(a,i){a.children.forEach((s,l)=>{i(l,s)})}(a,(l,p)=>{ct(p,new dr(i.toString()+"/"+l),s)})}class Qt{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),s=Object.assign({},i);return this.last_&&Vn(this.last_,(l,p)=>{s[l]=s[l]-p}),this.last_=i,s}}class An{constructor(i,s){this.server_=s,this.statsToReport_={},this.statsListener_=new Qt(i);const l=1e4+2e4*Math.random();on(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const i=this.statsListener_.get(),s={};let l=!1;Vn(i,(p,I)=>{I>0&&(0,L.r3)(this.statsToReport_,p)&&(s[p]=I,l=!0)}),l&&this.server_.reportStats(s),on(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Wn=(()=>{return(a=Wn||(Wn={}))[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Wn;var a})();function zr(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class jr{constructor(i,s,l){this.path=i,this.affectedTree=s,this.revert=l,this.type=Wn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(Qn(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new dr(i));return new jr(hr(),s,this.revert)}}return(0,L.hu)(Mn(this.path)===i,"operationForChild called for unrelated child."),new jr(or(this.path),this.affectedTree,this.revert)}}class Rr{constructor(i,s){this.source=i,this.path=s,this.type=Wn.LISTEN_COMPLETE}operationForChild(i){return Qn(this.path)?new Rr(this.source,hr()):new Rr(this.source,or(this.path))}}class ai{constructor(i,s,l){this.source=i,this.path=s,this.snap=l,this.type=Wn.OVERWRITE}operationForChild(i){return Qn(this.path)?new ai(this.source,hr(),this.snap.getImmediateChild(i)):new ai(this.source,or(this.path),this.snap)}}class Mr{constructor(i,s,l){this.source=i,this.path=s,this.children=l,this.type=Wn.MERGE}operationForChild(i){if(Qn(this.path)){const s=this.children.subtree(new dr(i));return s.isEmpty()?null:s.value?new ai(this.source,hr(),s.value):new Mr(this.source,hr(),s)}return(0,L.hu)(Mn(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new Mr(this.source,or(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gr{constructor(i,s,l){this.node_=i,this.fullyInitialized_=s,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Qn(i))return this.isFullyInitialized()&&!this.filtered_;const s=Mn(i);return this.isCompleteForChild(s)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class Fr{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function bi(a,i,s,l,p,I){const N=l.filter(W=>W.type===s);N.sort((W,Q)=>function ls(a,i,s){if(null==i.childName||null==s.childName)throw(0,L.g5)("Should only compare child_ events.");const l=new kn(i.childName,i.snapshotNode),p=new kn(s.childName,s.snapshotNode);return a.index_.compare(l,p)}(a,W,Q)),N.forEach(W=>{const Q=function Hi(a,i,s){return"value"===i.type||"child_removed"===i.type||(i.prevName=s.getPredecessorChildName(i.childName,i.snapshotNode,a.index_)),i}(a,W,I);p.forEach(se=>{se.respondsTo(W.type)&&i.push(se.createEvent(Q,a.query_))})})}function ao(a,i){return{eventCache:a,serverCache:i}}function lo(a,i,s,l){return ao(new Gr(i,s,l),a.serverCache)}function en(a,i,s,l){return ao(a.eventCache,new Gr(i,s,l))}function $t(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function ln(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let Kn;class Jn{constructor(i,s=(()=>(Kn||(Kn=new A(bn)),Kn))()){this.value=i,this.children=s}static fromObject(i){let s=new Jn(null);return Vn(i,(l,p)=>{s=s.set(new dr(l),p)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,s){if(null!=this.value&&s(this.value))return{path:hr(),value:this.value};if(Qn(i))return null;{const l=Mn(i),p=this.children.get(l);if(null!==p){const I=p.findRootMostMatchingPathAndValue(or(i),s);return null!=I?{path:Er(new dr(l),I.path),value:I.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Qn(i))return this;{const s=Mn(i),l=this.children.get(s);return null!==l?l.subtree(or(i)):new Jn(null)}}set(i,s){if(Qn(i))return new Jn(s,this.children);{const l=Mn(i),I=(this.children.get(l)||new Jn(null)).set(or(i),s),N=this.children.insert(l,I);return new Jn(this.value,N)}}remove(i){if(Qn(i))return this.children.isEmpty()?new Jn(null):new Jn(null,this.children);{const s=Mn(i),l=this.children.get(s);if(l){const p=l.remove(or(i));let I;return I=p.isEmpty()?this.children.remove(s):this.children.insert(s,p),null===this.value&&I.isEmpty()?new Jn(null):new Jn(this.value,I)}return this}}get(i){if(Qn(i))return this.value;{const s=Mn(i),l=this.children.get(s);return l?l.get(or(i)):null}}setTree(i,s){if(Qn(i))return s;{const l=Mn(i),I=(this.children.get(l)||new Jn(null)).setTree(or(i),s);let N;return N=I.isEmpty()?this.children.remove(l):this.children.insert(l,I),new Jn(this.value,N)}}fold(i){return this.fold_(hr(),i)}fold_(i,s){const l={};return this.children.inorderTraversal((p,I)=>{l[p]=I.fold_(Er(i,p),s)}),s(i,this.value,l)}findOnPath(i,s){return this.findOnPath_(i,hr(),s)}findOnPath_(i,s,l){const p=!!this.value&&l(s,this.value);if(p)return p;if(Qn(i))return null;{const I=Mn(i),N=this.children.get(I);return N?N.findOnPath_(or(i),Er(s,I),l):null}}foreachOnPath(i,s){return this.foreachOnPath_(i,hr(),s)}foreachOnPath_(i,s,l){if(Qn(i))return this;{this.value&&l(s,this.value);const p=Mn(i),I=this.children.get(p);return I?I.foreachOnPath_(or(i),Er(s,p),l):new Jn(null)}}foreach(i){this.foreach_(hr(),i)}foreach_(i,s){this.children.inorderTraversal((l,p)=>{p.foreach_(Er(i,l),s)}),this.value&&s(i,this.value)}foreachChild(i){this.children.inorderTraversal((s,l)=>{l.value&&i(s,l.value)})}}class yr{constructor(i){this.writeTree_=i}static empty(){return new yr(new Jn(null))}}function ci(a,i,s){if(Qn(i))return new yr(new Jn(s));{const l=a.writeTree_.findRootMostValueAndPath(i);if(null!=l){const p=l.path;let I=l.value;const N=Tr(p,i);return I=I.updateChild(N,s),new yr(a.writeTree_.set(p,I))}{const p=new Jn(s),I=a.writeTree_.setTree(i,p);return new yr(I)}}}function vn(a,i,s){let l=a;return Vn(s,(p,I)=>{l=ci(l,Er(i,p),I)}),l}function _s(a,i){if(Qn(i))return yr.empty();{const s=a.writeTree_.setTree(i,new Jn(null));return new yr(s)}}function ys(a,i){return null!=Nr(a,i)}function Nr(a,i){const s=a.writeTree_.findRootMostValueAndPath(i);return null!=s?a.writeTree_.get(s.path).getChild(Tr(s.path,i)):null}function Ji(a){const i=[],s=a.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(Nt,(l,p)=>{i.push(new kn(l,p))}):a.writeTree_.children.inorderTraversal((l,p)=>{null!=p.value&&i.push(new kn(l,p.value))}),i}function qr(a,i){if(Qn(i))return a;{const s=Nr(a,i);return new yr(null!=s?new Jn(s):a.writeTree_.subtree(i))}}function ks(a){return a.writeTree_.isEmpty()}function vs(a,i){return us(hr(),a.writeTree_,i)}function us(a,i,s){if(null!=i.value)return s.updateChild(a,i.value);{let l=null;return i.children.inorderTraversal((p,I)=>{".priority"===p?((0,L.hu)(null!==I.value,"Priority writes must always be leaf nodes"),l=I.value):s=us(Er(a,p),I,s)}),!s.getChild(a).isEmpty()&&null!==l&&(s=s.updateChild(Er(a,".priority"),l)),s}}function Ls(a,i){return $i(i,a)}function uo(a,i){if(a.snap)return Vr(a.path,i);for(const s in a.children)if(a.children.hasOwnProperty(s)&&Vr(Er(a.path,s),i))return!0;return!1}function co(a){return a.visible}function ta(a,i,s){let l=yr.empty();for(let p=0;p<a.length;++p){const I=a[p];if(i(I)){const N=I.path;let W;if(I.snap)Vr(s,N)?(W=Tr(s,N),l=ci(l,W,I.snap)):Vr(N,s)&&(W=Tr(N,s),l=ci(l,hr(),I.snap.getChild(W)));else{if(!I.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(Vr(s,N))W=Tr(s,N),l=vn(l,W,I.children);else if(Vr(N,s))if(W=Tr(N,s),Qn(W))l=vn(l,hr(),I.children);else{const Q=(0,L.DV)(I.children,Mn(W));if(Q){const se=Q.getChild(or(W));l=ci(l,hr(),se)}}}}}return l}function E(a,i,s,l,p){if(l||p){const I=qr(a.visibleWrites,i);return!p&&ks(I)?s:p||null!=s||ys(I,hr())?vs(ta(a.allWrites,function(se){return(se.visible||p)&&(!l||!~l.indexOf(se.writeId))&&(Vr(se.path,i)||Vr(i,se.path))},i),s||In.EMPTY_NODE):null}{const I=Nr(a.visibleWrites,i);if(null!=I)return I;{const N=qr(a.visibleWrites,i);return ks(N)?s:null!=s||ys(N,hr())?vs(N,s||In.EMPTY_NODE):null}}}function _e(a,i,s,l){return E(a.writeTree,a.treePath,i,s,l)}function dt(a,i){return function y(a,i,s){let l=In.EMPTY_NODE;const p=Nr(a.visibleWrites,i);if(p)return p.isLeafNode()||p.forEachChild(Nt,(I,N)=>{l=l.updateImmediateChild(I,N)}),l;if(s){const I=qr(a.visibleWrites,i);return s.forEachChild(Nt,(N,W)=>{const Q=vs(qr(I,new dr(N)),W);l=l.updateImmediateChild(N,Q)}),Ji(I).forEach(N=>{l=l.updateImmediateChild(N.name,N.node)}),l}return Ji(qr(a.visibleWrites,i)).forEach(N=>{l=l.updateImmediateChild(N.name,N.node)}),l}(a.writeTree,a.treePath,i)}function Bt(a,i,s,l){return function g(a,i,s,l,p){(0,L.hu)(l||p,"Either existingEventSnap or existingServerSnap must exist");const I=Er(i,s);if(ys(a.visibleWrites,I))return null;{const N=qr(a.visibleWrites,I);return ks(N)?p.getChild(s):vs(N,p.getChild(s))}}(a.writeTree,a.treePath,i,s,l)}function Zn(a,i){return function x(a,i){return Nr(a.visibleWrites,i)}(a.writeTree,Er(a.treePath,i))}function br(a,i,s){return function S(a,i,s,l){const p=Er(i,s),I=Nr(a.visibleWrites,p);return null!=I?I:l.isCompleteForChild(s)?vs(qr(a.visibleWrites,p),l.getNode().getImmediateChild(s)):null}(a.writeTree,a.treePath,i,s)}function Ur(a,i){return $i(Er(a.treePath,i),a.writeTree)}function $i(a,i){return{treePath:a,writeTree:i}}class Ni{constructor(){this.changeMap=new Map}trackChildChange(i){const s=i.type,l=i.childName;(0,L.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==l,"Only non-priority child changes can be tracked.");const p=this.changeMap.get(l);if(p){const I=p.type;if("child_added"===s&&"child_removed"===I)this.changeMap.set(l,_i(l,i.snapshotNode,p.snapshotNode));else if("child_removed"===s&&"child_added"===I)this.changeMap.delete(l);else if("child_removed"===s&&"child_changed"===I)this.changeMap.set(l,Ns(l,p.oldSnap));else if("child_changed"===s&&"child_added"===I)this.changeMap.set(l,ui(l,i.snapshotNode));else{if("child_changed"!==s||"child_changed"!==I)throw(0,L.g5)("Illegal combination of changes: "+i+" occurred after "+p);this.changeMap.set(l,_i(l,i.snapshotNode,p.oldSnap))}}else this.changeMap.set(l,i)}getChanges(){return Array.from(this.changeMap.values())}}const zs=new class ho{getCompleteChild(i){return null}getChildAfterChild(i,s,l){return null}};class Gs{constructor(i,s,l=null){this.writes_=i,this.viewCache_=s,this.optCompleteServerCache_=l}getCompleteChild(i){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(i))return s.getNode().getImmediateChild(i);{const l=null!=this.optCompleteServerCache_?new Gr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return br(this.writes_,i,l)}}getChildAfterChild(i,s,l){const p=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ln(this.viewCache_),I=function Kt(a,i,s,l,p,I){return function G(a,i,s,l,p,I,N){let W;const Q=qr(a.visibleWrites,i),se=Nr(Q,hr());if(null!=se)W=se;else{if(null==s)return[];W=vs(Q,s)}if(W=W.withIndex(N),W.isEmpty()||W.isLeafNode())return[];{const Qe=[],et=N.getCompare(),Dt=I?W.getReverseIteratorFrom(l,N):W.getIteratorFrom(l,N);let cn=Dt.getNext();for(;cn&&Qe.length<p;)0!==et(cn,l)&&Qe.push(cn),cn=Dt.getNext();return Qe}}(a.writeTree,a.treePath,i,s,l,p,I)}(this.writes_,p,s,1,l,i);return 0===I.length?null:I[0]}}function Hr(a,i,s,l,p,I){const N=i.eventCache;if(null!=Zn(l,s))return i;{let W,Q;if(Qn(s))if((0,L.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const se=ln(i),et=dt(l,se instanceof In?se:In.EMPTY_NODE);W=a.filter.updateFullNode(i.eventCache.getNode(),et,I)}else{const se=_e(l,ln(i));W=a.filter.updateFullNode(i.eventCache.getNode(),se,I)}else{const se=Mn(s);if(".priority"===se){(0,L.hu)(1===li(s),"Can't have a priority with additional path components");const Qe=N.getNode();Q=i.serverCache.getNode();const et=Bt(l,s,Qe,Q);W=null!=et?a.filter.updatePriority(Qe,et):N.getNode()}else{const Qe=or(s);let et;if(N.isCompleteForChild(se)){Q=i.serverCache.getNode();const Dt=Bt(l,s,N.getNode(),Q);et=null!=Dt?N.getNode().getImmediateChild(se).updateChild(Qe,Dt):N.getNode().getImmediateChild(se)}else et=br(l,se,i.serverCache);W=null!=et?a.filter.updateChild(N.getNode(),se,et,Qe,p,I):N.getNode()}}return lo(i,W,N.isFullyInitialized()||Qn(s),a.filter.filtersNodes())}}function ma(a,i,s,l,p,I,N,W){const Q=i.serverCache;let se;const Qe=N?a.filter:a.filter.getIndexedFilter();if(Qn(s))se=Qe.updateFullNode(Q.getNode(),l,null);else if(Qe.filtersNodes()&&!Q.isFiltered()){const cn=Q.getNode().updateChild(s,l);se=Qe.updateFullNode(Q.getNode(),cn,null)}else{const cn=Mn(s);if(!Q.isCompleteForPath(s)&&li(s)>1)return i;const Ln=or(s),Wi=Q.getNode().getImmediateChild(cn).updateChild(Ln,l);se=".priority"===cn?Qe.updatePriority(Q.getNode(),Wi):Qe.updateChild(Q.getNode(),cn,Wi,Ln,zs,null)}const et=en(i,se,Q.isFullyInitialized()||Qn(s),Qe.filtersNodes());return Hr(a,et,s,p,new Gs(p,et,I),W)}function _a(a,i,s,l,p,I,N){const W=i.eventCache;let Q,se;const Qe=new Gs(p,i,I);if(Qn(s))se=a.filter.updateFullNode(i.eventCache.getNode(),l,N),Q=lo(i,se,!0,a.filter.filtersNodes());else{const et=Mn(s);if(".priority"===et)se=a.filter.updatePriority(i.eventCache.getNode(),l),Q=lo(i,se,W.isFullyInitialized(),W.isFiltered());else{const Dt=or(s),cn=W.getNode().getImmediateChild(et);let Ln;if(Qn(Dt))Ln=l;else{const Wr=Qe.getCompleteChild(et);Ln=null!=Wr?".priority"===js(Dt)&&Wr.getChild(Ri(Dt)).isEmpty()?Wr:Wr.updateChild(Dt,l):In.EMPTY_NODE}Q=cn.equals(Ln)?i:lo(i,a.filter.updateChild(W.getNode(),et,Ln,Dt,Qe,N),W.isFullyInitialized(),a.filter.filtersNodes())}}return Q}function rl(a,i){return a.eventCache.isCompleteForChild(i)}function wl(a,i,s){return s.foreach((l,p)=>{i=i.updateChild(l,p)}),i}function ya(a,i,s,l,p,I,N,W){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let se,Q=i;se=Qn(s)?l:new Jn(null).setTree(s,l);const Qe=i.serverCache.getNode();return se.children.inorderTraversal((et,Dt)=>{if(Qe.hasChild(et)){const Ln=wl(0,i.serverCache.getNode().getImmediateChild(et),Dt);Q=ma(a,Q,new dr(et),Ln,p,I,N,W)}}),se.children.inorderTraversal((et,Dt)=>{const cn=!i.serverCache.isCompleteForChild(et)&&void 0===Dt.value;if(!Qe.hasChild(et)&&!cn){const Wr=wl(0,i.serverCache.getNode().getImmediateChild(et),Dt);Q=ma(a,Q,new dr(et),Wr,p,I,N,W)}}),Q}class Il{constructor(i,s){this.query_=i,this.eventRegistrations_=[];const l=this.query_._queryParams,p=new ms(l.getIndex()),I=function Os(a){return a.loadsAllData()?new ms(a.getIndex()):a.hasLimit()?new oo(a):new $s(a)}(l);this.processor_=function fo(a){return{filter:a}}(I);const N=s.serverCache,W=s.eventCache,Q=p.updateFullNode(In.EMPTY_NODE,N.getNode(),null),se=I.updateFullNode(In.EMPTY_NODE,W.getNode(),null),Qe=new Gr(Q,N.isFullyInitialized(),p.filtersNodes()),et=new Gr(se,W.isFullyInitialized(),I.filtersNodes());this.viewCache_=ao(et,Qe),this.eventGenerator_=new Fr(this.query_)}get query(){return this.query_}}function Io(a,i){const s=ln(a.viewCache_);return s&&(a.query._queryParams.loadsAllData()||!Qn(i)&&!s.getImmediateChild(Mn(i)).isEmpty())?s.getChild(i):null}function La(a){return 0===a.eventRegistrations_.length}function Si(a,i,s){const l=[];if(s){(0,L.hu)(null==i,"A cancel should cancel all event registrations.");const p=a.query._path;a.eventRegistrations_.forEach(I=>{const N=I.createCancelEvent(s,p);N&&l.push(N)})}if(i){let p=[];for(let I=0;I<a.eventRegistrations_.length;++I){const N=a.eventRegistrations_[I];if(N.matches(i)){if(i.hasAnyCallback()){p=p.concat(a.eventRegistrations_.slice(I+1));break}}else p.push(N)}a.eventRegistrations_=p}else a.eventRegistrations_=[];return l}function Ss(a,i,s,l){i.type===Wn.MERGE&&null!==i.source.queryId&&((0,L.hu)(ln(a.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)($t(a.viewCache_),"Missing event cache, even though we have a server cache"));const p=a.viewCache_,I=function Hu(a,i,s,l,p){const I=new Ni;let N,W;if(s.type===Wn.OVERWRITE){const se=s;se.source.fromUser?N=_a(a,i,se.path,se.snap,l,p,I):((0,L.hu)(se.source.fromServer,"Unknown source."),W=se.source.tagged||i.serverCache.isFiltered()&&!Qn(se.path),N=ma(a,i,se.path,se.snap,l,p,W,I))}else if(s.type===Wn.MERGE){const se=s;se.source.fromUser?N=function Kl(a,i,s,l,p,I,N){let W=i;return l.foreach((Q,se)=>{const Qe=Er(s,Q);rl(i,Mn(Qe))&&(W=_a(a,W,Qe,se,p,I,N))}),l.foreach((Q,se)=>{const Qe=Er(s,Q);rl(i,Mn(Qe))||(W=_a(a,W,Qe,se,p,I,N))}),W}(a,i,se.path,se.children,l,p,I):((0,L.hu)(se.source.fromServer,"Unknown source."),W=se.source.tagged||i.serverCache.isFiltered(),N=ya(a,i,se.path,se.children,l,p,W,I))}else if(s.type===Wn.ACK_USER_WRITE){const se=s;N=se.revert?function Yl(a,i,s,l,p,I){let N;if(null!=Zn(l,s))return i;{const W=new Gs(l,i,p),Q=i.eventCache.getNode();let se;if(Qn(s)||".priority"===Mn(s)){let Qe;if(i.serverCache.isFullyInitialized())Qe=_e(l,ln(i));else{const et=i.serverCache.getNode();(0,L.hu)(et instanceof In,"serverChildren would be complete if leaf node"),Qe=dt(l,et)}se=a.filter.updateFullNode(Q,Qe,I)}else{const Qe=Mn(s);let et=br(l,Qe,i.serverCache);null==et&&i.serverCache.isCompleteForChild(Qe)&&(et=Q.getImmediateChild(Qe)),se=null!=et?a.filter.updateChild(Q,Qe,et,or(s),W,I):i.eventCache.getNode().hasChild(Qe)?a.filter.updateChild(Q,Qe,In.EMPTY_NODE,or(s),W,I):Q,se.isEmpty()&&i.serverCache.isFullyInitialized()&&(N=_e(l,ln(i)),N.isLeafNode()&&(se=a.filter.updateFullNode(se,N,I)))}return N=i.serverCache.isFullyInitialized()||null!=Zn(l,hr()),lo(i,se,N,a.filter.filtersNodes())}}(a,i,se.path,l,p,I):function Zl(a,i,s,l,p,I,N){if(null!=Zn(p,s))return i;const W=i.serverCache.isFiltered(),Q=i.serverCache;if(null!=l.value){if(Qn(s)&&Q.isFullyInitialized()||Q.isCompleteForPath(s))return ma(a,i,s,Q.getNode().getChild(s),p,I,W,N);if(Qn(s)){let se=new Jn(null);return Q.getNode().forEachChild($n,(Qe,et)=>{se=se.set(new dr(Qe),et)}),ya(a,i,s,se,p,I,W,N)}return i}{let se=new Jn(null);return l.foreach((Qe,et)=>{const Dt=Er(s,Qe);Q.isCompleteForPath(Dt)&&(se=se.set(Qe,Q.getNode().getChild(Dt)))}),ya(a,i,s,se,p,I,W,N)}}(a,i,se.path,se.affectedTree,l,p,I)}else{if(s.type!==Wn.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+s.type);N=function Lo(a,i,s,l,p){const I=i.serverCache;return Hr(a,en(i,I.getNode(),I.isFullyInitialized()||Qn(s),I.isFiltered()),s,l,zs,p)}(a,i,s.path,l,I)}const Q=I.getChanges();return function Gl(a,i,s){const l=i.eventCache;if(l.isFullyInitialized()){const p=l.getNode().isLeafNode()||l.getNode().isEmpty(),I=$t(a);(s.length>0||!a.eventCache.isFullyInitialized()||p&&!l.getNode().equals(I)||!l.getNode().getPriority().equals(I.getPriority()))&&s.push(ii($t(i)))}}(i,N,Q),{viewCache:N,changes:Q}}(a.processor_,p,i,s,l);return function na(a,i){(0,L.hu)(i.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(i.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}(a.processor_,I.viewCache),(0,L.hu)(I.viewCache.serverCache.isFullyInitialized()||!p.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=I.viewCache,po(a,I.changes,I.viewCache.eventCache.getNode(),null)}function po(a,i,s,l){return function qi(a,i,s,l){const p=[],I=[];return i.forEach(N=>{"child_changed"===N.type&&a.index_.indexedValueChanged(N.oldSnap,N.snapshotNode)&&I.push(function as(a,i){return{type:"child_moved",snapshotNode:i,childName:a}}(N.childName,N.snapshotNode))}),bi(a,p,"child_removed",i,l,s),bi(a,p,"child_added",i,l,s),bi(a,p,"child_moved",I,l,s),bi(a,p,"child_changed",i,l,s),bi(a,p,"value",i,l,s),p}(a.eventGenerator_,i,s,l?[l]:a.eventRegistrations_)}let Zs,Ua;class ia{constructor(){this.views=new Map}}function bl(a,i,s,l){const p=i.source.queryId;if(null!==p){const I=a.views.get(p);return(0,L.hu)(null!=I,"SyncTree gave us an op for an invalid query."),Ss(I,i,s,l)}{let I=[];for(const N of a.views.values())I=I.concat(Ss(N,i,s,l));return I}}function va(a,i,s,l,p){const N=a.views.get(i._queryIdentifier);if(!N){let W=_e(s,p?l:null),Q=!1;W?Q=!0:l instanceof In?(W=dt(s,l),Q=!1):(W=In.EMPTY_NODE,Q=!1);const se=ao(new Gr(W,Q,!1),new Gr(l,p,!1));return new Il(i,se)}return N}function Ys(a){const i=[];for(const s of a.views.values())s.query._queryParams.loadsAllData()||i.push(s);return i}function Fo(a,i){let s=null;for(const l of a.views.values())s=s||Io(l,i);return s}function sa(a,i){return i._queryParams.loadsAllData()?ds(a):a.views.get(i._queryIdentifier)}function Qs(a,i){return null!=sa(a,i)}function bo(a){return null!=ds(a)}function ds(a){for(const i of a.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let oa=1;class Uo{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Jn(null),this.pendingWriteTree_=function re(){return{visibleWrites:yr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Sl(a,i,s,l,p){return function wo(a,i,s,l,p){(0,L.hu)(l>a.lastWriteId,"Stacking an older write on top of newer ones"),void 0===p&&(p=!0),a.allWrites.push({path:i,snap:s,writeId:l,visible:p}),p&&(a.visibleWrites=ci(a.visibleWrites,i,s)),a.lastWriteId=l}(a.pendingWriteTree_,i,s,l,p),p?es(a,new ai({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,s)):[]}function P(a,i,s=!1){const l=function Ws(a,i){for(let s=0;s<a.allWrites.length;s++){const l=a.allWrites[s];if(l.writeId===i)return l}return null}(a.pendingWriteTree_,i);if(function cs(a,i){const s=a.allWrites.findIndex(W=>W.writeId===i);(0,L.hu)(s>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[s];a.allWrites.splice(s,1);let p=l.visible,I=!1,N=a.allWrites.length-1;for(;p&&N>=0;){const W=a.allWrites[N];W.visible&&(N>=s&&uo(W,l.path)?p=!1:Vr(l.path,W.path)&&(I=!0)),N--}return!!p&&(I?(function Zo(a){a.visibleWrites=ta(a.allWrites,co,hr()),a.lastWriteId=a.allWrites.length>0?a.allWrites[a.allWrites.length-1].writeId:-1}(a),!0):(l.snap?a.visibleWrites=_s(a.visibleWrites,l.path):Vn(l.children,Q=>{a.visibleWrites=_s(a.visibleWrites,Er(l.path,Q))}),!0))}(a.pendingWriteTree_,i)){let I=new Jn(null);return null!=l.snap?I=I.set(hr(),!0):Vn(l.children,N=>{I=I.set(new dr(N),!0)}),es(a,new jr(l.path,I,s))}return[]}function j(a,i,s){return es(a,new ai({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,s))}function It(a,i,s,l){const p=i._path,I=a.syncPointTree_.get(p);let N=[];if(I&&("default"===i._queryIdentifier||Qs(I,i))){const W=function To(a,i,s,l){const p=i._queryIdentifier,I=[];let N=[];const W=bo(a);if("default"===p)for(const[Q,se]of a.views.entries())N=N.concat(Si(se,s,l)),La(se)&&(a.views.delete(Q),se.query._queryParams.loadsAllData()||I.push(se.query));else{const Q=a.views.get(p);Q&&(N=N.concat(Si(Q,s,l)),La(Q)&&(a.views.delete(p),Q.query._queryParams.loadsAllData()||I.push(Q.query)))}return W&&!bo(a)&&I.push(new(function il(){return(0,L.hu)(Zs,"Reference.ts has not been loaded"),Zs}())(i._repo,i._path)),{removed:I,events:N}}(I,i,s,l);(function Ql(a){return 0===a.views.size})(I)&&(a.syncPointTree_=a.syncPointTree_.remove(p));const Q=W.removed;N=W.events;const se=-1!==Q.findIndex(et=>et._queryParams.loadsAllData()),Qe=a.syncPointTree_.findOnPath(p,(et,Dt)=>bo(Dt));if(se&&!Qe){const et=a.syncPointTree_.subtree(p);if(!et.isEmpty()){const Dt=function Al(a){return a.fold((i,s,l)=>{if(s&&bo(s))return[ds(s)];{let p=[];return s&&(p=Ys(s)),Vn(l,(I,N)=>{p=p.concat(N)}),p}})}(et);for(let cn=0;cn<Dt.length;++cn){const Ln=Dt[cn],Wr=Ln.query,Wi=Ca(a,Ln);a.listenProvider_.startListening(go(Wr),qs(a,Wr),Wi.hashFn,Wi.onComplete)}}}!Qe&&Q.length>0&&!l&&(se?a.listenProvider_.stopListening(go(i),null):Q.forEach(et=>{const Dt=a.queryToTagMap.get(Es(et));a.listenProvider_.stopListening(go(et),Dt)})),function sl(a,i){for(let s=0;s<i.length;++s){const l=i[s];if(!l._queryParams.loadsAllData()){const p=Es(l),I=a.queryToTagMap.get(p);a.queryToTagMap.delete(p),a.tagToQueryMap.delete(I)}}}(a,Q)}return N}function gn(a,i,s,l){const p=Us(a,l);if(null!=p){const I=Cs(p),N=I.path,W=I.queryId,Q=Tr(N,i);return Da(a,N,new ai(zr(W),Q,s))}return[]}function un(a,i){const s=a._path;let l=null,p=!1;i.syncPointTree_.foreachOnPath(s,(se,Qe)=>{const et=Tr(se,s);l=l||Fo(Qe,et),p=p||bo(Qe)});let N,I=i.syncPointTree_.get(s);I?(p=p||bo(I),l=l||Fo(I,hr())):(I=new ia,i.syncPointTree_=i.syncPointTree_.set(s,I)),null!=l?N=!0:(N=!1,l=In.EMPTY_NODE,i.syncPointTree_.subtree(s).foreachChild((Qe,et)=>{const Dt=Fo(et,hr());Dt&&(l=l.updateImmediateChild(Qe,Dt))}));const W=Qs(I,a);if(!W&&!a._queryParams.loadsAllData()){const se=Es(a);(0,L.hu)(!i.queryToTagMap.has(se),"View does not exist, but we have a tag");const Qe=function Jl(){return oa++}();i.queryToTagMap.set(se,Qe),i.tagToQueryMap.set(Qe,se)}return{syncPoint:I,writesCache:Ls(i.pendingWriteTree_,s),serverCache:l,serverCacheComplete:N,foundAncestorDefaultView:p,viewAlreadyExists:W}}function En(a,i,s){const{syncPoint:l,serverCache:p,writesCache:I,serverCacheComplete:N,viewAlreadyExists:W,foundAncestorDefaultView:Q}=un(i,a);let se=function Xi(a,i,s,l,p,I){const N=va(a,i,l,p,I);return a.views.has(i._queryIdentifier)||a.views.set(i._queryIdentifier,N),function Tl(a,i){a.eventRegistrations_.push(i)}(N,s),function Ks(a,i){const s=a.viewCache_.eventCache,l=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Nt,(I,N)=>{l.push(ui(I,N))}),s.isFullyInitialized()&&l.push(ii(s.getNode())),po(a,l,s.getNode(),i)}(N,s)}(l,i,s,I,p,N);if(!W&&!Q){const Qe=sa(l,i);se=se.concat(function $u(a,i,s){const l=i._path,p=qs(a,i),I=Ca(a,s),N=a.listenProvider_.startListening(go(i),p,I.hashFn,I.onComplete),W=a.syncPointTree_.subtree(l);if(p)(0,L.hu)(!bo(W.value),"If we're adding a query, it shouldn't be shadowed");else{const Q=W.fold((se,Qe,et)=>{if(!Qn(se)&&Qe&&bo(Qe))return[ds(Qe).query];{let Dt=[];return Qe&&(Dt=Dt.concat(Ys(Qe).map(cn=>cn.query))),Vn(et,(cn,Ln)=>{Dt=Dt.concat(Ln)}),Dt}});for(let se=0;se<Q.length;++se){const Qe=Q[se];a.listenProvider_.stopListening(go(Qe),qs(a,Qe))}}return N}(a,i,Qe))}return se}function di(a,i,s){const p=a.pendingWriteTree_,I=a.syncPointTree_.findOnPath(i,(N,W)=>{const se=Fo(W,Tr(N,i));if(se)return se});return E(p,i,I,s,!0)}function es(a,i){return So(i,a.syncPointTree_,null,Ls(a.pendingWriteTree_,hr()))}function So(a,i,s,l){if(Qn(a.path))return Ao(a,i,s,l);{const p=i.get(hr());null==s&&null!=p&&(s=Fo(p,hr()));let I=[];const N=Mn(a.path),W=a.operationForChild(N),Q=i.children.get(N);if(Q&&W){const se=s?s.getImmediateChild(N):null,Qe=Ur(l,N);I=I.concat(So(W,Q,se,Qe))}return p&&(I=I.concat(bl(p,a,l,s))),I}}function Ao(a,i,s,l){const p=i.get(hr());null==s&&null!=p&&(s=Fo(p,hr()));let I=[];return i.children.inorderTraversal((N,W)=>{const Q=s?s.getImmediateChild(N):null,se=Ur(l,N),Qe=a.operationForChild(N);Qe&&(I=I.concat(Ao(Qe,W,Q,se)))}),p&&(I=I.concat(bl(p,a,l,s))),I}function Ca(a,i){const s=i.query,l=qs(a,s);return{hashFn:()=>(function yi(a){return a.viewCache_.serverCache.getNode()}(i)||In.EMPTY_NODE).hash(),onComplete:p=>{if("ok"===p)return l?function qe(a,i,s){const l=Us(a,s);if(l){const p=Cs(l),I=p.path,N=p.queryId,W=Tr(I,i);return Da(a,I,new Rr(zr(N),W))}return[]}(a,s._path,l):function xe(a,i){return es(a,new Rr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(a,s._path);{const I=function ot(a,i){let s="Unknown Error";"too_big"===a?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===a?s="Client doesn't have permission to access the desired data.":"unavailable"===a&&(s="The service is unavailable");const l=new Error(a+" at "+i._path.toString()+": "+s);return l.code=a.toUpperCase(),l}(p,s);return It(a,s,null,I)}}}}function qs(a,i){const s=Es(i);return a.queryToTagMap.get(s)}function Es(a){return a._path.toString()+"$"+a._queryIdentifier}function Us(a,i){return a.tagToQueryMap.get(i)}function Cs(a){const i=a.indexOf("$");return(0,L.hu)(-1!==i&&i<a.length-1,"Bad queryKey."),{queryId:a.substr(i+1),path:new dr(a.substr(0,i))}}function Da(a,i,s){const l=a.syncPointTree_.get(i);return(0,L.hu)(l,"Missing sync point for query tag that we're tracking"),bl(l,s,Ls(a.pendingWriteTree_,i),null)}function go(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(function Ea(){return(0,L.hu)(Ua,"Reference.ts has not been loaded"),Ua}())(a._repo,a._path):a}class Ba{constructor(i){this.node_=i}getImmediateChild(i){const s=this.node_.getImmediateChild(i);return new Ba(s)}node(){return this.node_}}class Yo{constructor(i,s){this.syncTree_=i,this.path_=s}getImmediateChild(i){const s=Er(this.path_,i);return new Yo(this.syncTree_,s)}node(){return di(this.syncTree_,this.path_)}}const Rl=function(a,i,s){return a&&"object"==typeof a?((0,L.hu)(".sv"in a,"Unexpected leaf node or priority contents"),"string"==typeof a[".sv"]?Nc(a[".sv"],i,s):"object"==typeof a[".sv"]?ja(a[".sv"],i):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2))):a},Nc=function(a,i,s){if("timestamp"===a)return s.timestamp;(0,L.hu)(!1,"Unexpected server value: "+a)},ja=function(a,i,s){a.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;"number"!=typeof l&&(0,L.hu)(!1,"Unexpected increment value: "+l);const p=i.node();if((0,L.hu)(null!==p&&typeof p<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!p.isLeafNode())return l;const N=p.getValue();return"number"!=typeof N?l:N+l},Xl=function(a,i,s,l){return Ml(i,new Yo(s,a),l)},eu=function(a,i,s){return Ml(a,new Ba(i),s)};function Ml(a,i,s){const l=a.getPriority().val(),p=Rl(l,i.getImmediateChild(".priority"),s);let I;if(a.isLeafNode()){const N=a,W=Rl(N.getValue(),i,s);return W!==N.getValue()||p!==N.getPriority().val()?new fr(W,Cr(p)):a}{const N=a;return I=N,p!==N.getPriority().val()&&(I=I.updatePriority(new fr(p))),N.forEachChild(Nt,(W,Q)=>{const se=Ml(Q,i.getImmediateChild(W),s);se!==Q&&(I=I.updateImmediateChild(W,se))}),I}}class Pl{constructor(i="",s=null,l={children:{},childCount:0}){this.name=i,this.parent=s,this.node=l}}function ol(a,i){let s=i instanceof dr?i:new dr(i),l=a,p=Mn(s);for(;null!==p;){const I=(0,L.DV)(l.node.children,p)||{children:{},childCount:0};l=new Pl(p,l,I),s=or(s),p=Mn(s)}return l}function Ro(a){return a.node.value}function al(a,i){a.node.value=i,Ha(a)}function tu(a){return a.node.childCount>0}function Nl(a,i){Vn(a.node.children,(s,l)=>{i(new Pl(s,a,l))})}function Ol(a,i,s,l){s&&!l&&i(a),Nl(a,p=>{Ol(p,i,!0,l)}),s&&l&&i(a)}function Qo(a){return new dr(null===a.parent?a.name:Qo(a.parent)+"/"+a.name)}function Ha(a){null!==a.parent&&function aa(a,i,s){const l=function ll(a){return void 0===Ro(a)&&!tu(a)}(s),p=(0,L.r3)(a.node.children,i);l&&p?(delete a.node.children[i],a.node.childCount--,Ha(a)):!l&&!p&&(a.node.children[i]=s.node,a.node.childCount++,Ha(a))}(a.parent,a.name,a)}const Wu=/[\[\].#$\/\u0000-\u001F\u007F]/,zu=/[\[\].#$\u0000-\u001F\u007F]/,nu=10485760,la=function(a){return"string"==typeof a&&0!==a.length&&!Wu.test(a)},wa=function(a){return"string"==typeof a&&0!==a.length&&!zu.test(a)},qo=function(a){return null===a||"string"==typeof a||"number"==typeof a&&!lr(a)||a&&"object"==typeof a&&(0,L.r3)(a,".sv")},mo=function(a,i,s,l){l&&void 0===i||Js((0,L.gK)(a,"value"),i,s)},Js=function(a,i,s){const l=s instanceof dr?new Li(s,a):s;if(void 0===i)throw new Error(a+"contains undefined "+Zi(l));if("function"==typeof i)throw new Error(a+"contains a function "+Zi(l)+" with contents = "+i.toString());if(lr(i))throw new Error(a+"contains "+i.toString()+" "+Zi(l));if("string"==typeof i&&i.length>nu/3&&(0,L.ug)(i)>nu)throw new Error(a+"contains a string greater than "+nu+" utf8 bytes "+Zi(l)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let p=!1,I=!1;if(Vn(i,(N,W)=>{if(".value"===N)p=!0;else if(".priority"!==N&&".sv"!==N&&(I=!0,!la(N)))throw new Error(a+" contains an invalid key ("+N+") "+Zi(l)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Fi(a,i){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(i),a.byteLength_+=(0,L.ug)(i),Hs(a)})(l,N),Js(a,W,l),function xo(a){const i=a.parts_.pop();a.byteLength_-=(0,L.ug)(i),a.parts_.length>0&&(a.byteLength_-=1)}(l)}),p&&I)throw new Error(a+' contains ".value" child '+Zi(l)+" in addition to actual children.")}},ul=function(a,i,s,l){if(l&&void 0===i)return;const p=(0,L.gK)(a,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(p+" must be an object containing the children to replace.");const I=[];Vn(i,(N,W)=>{const Q=new dr(N);if(Js(p,W,Er(s,Q)),".priority"===js(Q)&&!qo(W))throw new Error(p+"contains an invalid value for '"+Q.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");I.push(Q)}),function(a,i){let s,l;for(s=0;s<i.length;s++){l=i[s];const I=Is(l);for(let N=0;N<I.length;N++)if((".priority"!==I[N]||N!==I.length-1)&&!la(I[N]))throw new Error(a+"contains an invalid key ("+I[N]+") in path "+l.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(Wo);let p=null;for(s=0;s<i.length;s++){if(l=i[s],null!==p&&Vr(p,l))throw new Error(a+"contains a path "+p.toString()+" that is ancestor of another path "+l.toString());p=l}}(p,I)},xl=function(a,i,s){if(!s||void 0!==i){if(lr(i))throw new Error((0,L.gK)(a,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qo(i))throw new Error((0,L.gK)(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ia=function(a,i,s,l){if(!(l&&void 0===s||la(s)))throw new Error((0,L.gK)(a,i)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ta=function(a,i,s,l){if(!(l&&void 0===s||wa(s)))throw new Error((0,L.gK)(a,i)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ts=function(a,i){if(".info"===Mn(i))throw new Error(a+" failed = Can't modify data under /.info/")},kl=function(a,i){const s=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!la(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==s.length&&!function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),wa(a)}(s))throw new Error((0,L.gK)(a,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class xc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _(a,i){let s=null;for(let l=0;l<i.length;l++){const p=i[l],I=p.getPath();null!==s&&!gi(I,s.path)&&(a.eventLists_.push(s),s=null),null===s&&(s={events:[],path:I}),s.events.push(p)}s&&a.eventLists_.push(s)}function c(a,i,s){_(a,s),C(a,l=>gi(l,i))}function d(a,i,s){_(a,s),C(a,l=>Vr(l,i)||Vr(i,l))}function C(a,i){a.recursionDepth_++;let s=!0;for(let l=0;l<a.eventLists_.length;l++){const p=a.eventLists_[l];p&&(i(p.path)?(V(a.eventLists_[l]),a.eventLists_[l]=null):s=!1)}s&&(a.eventLists_=[]),a.recursionDepth_--}function V(a){for(let i=0;i<a.events.length;i++){const s=a.events[i];if(null!==s){a.events[i]=null;const l=s.getEventRunner();tn&&fn("event: "+s.toString()),St(l)}}}const Z="repo_interrupt";class vt{constructor(i,s,l,p){this.repoInfo_=i,this.forceRestClient_=s,this.authTokenProvider_=l,this.appCheckProvider_=p,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pe(),this.transactionQueueTree_=new Pl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wn(a){const s=a.infoData_.getNode(new dr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function er(a){return function(a){return(a=a||{}).timestamp=a.timestamp||(new Date).getTime(),a}({timestamp:wn(a)})}function $r(a,i,s,l,p){a.dataUpdateCount++;const I=new dr(i);s=a.interceptServerDataCallback_?a.interceptServerDataCallback_(i,s):s;let N=[];if(p)if(l){const Q=(0,L.UI)(s,se=>Cr(se));N=function Xn(a,i,s,l){const p=Us(a,l);if(p){const I=Cs(p),N=I.path,W=I.queryId,Q=Tr(N,i),se=Jn.fromObject(s);return Da(a,N,new Mr(zr(W),Q,se))}return[]}(a.serverSyncTree_,I,Q,p)}else{const Q=Cr(s);N=gn(a.serverSyncTree_,I,Q,p)}else if(l){const Q=(0,L.UI)(s,se=>Cr(se));N=function ne(a,i,s){const l=Jn.fromObject(s);return es(a,new Mr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,l))}(a.serverSyncTree_,I,Q)}else{const Q=Cr(s);N=j(a.serverSyncTree_,I,Q)}let W=I;N.length>0&&(W=Aa(a,I)),d(a.eventQueue_,W,N)}function Xs(a,i){Mo(a,"connected",i),!1===i&&function iu(a){Ga(a,"onDisconnectEvents");const i=er(a),s=pe();ct(a.onDisconnect_,hr(),(p,I)=>{const N=Xl(p,I,a.serverSyncTree_,i);ye(s,p,N)});let l=[];ct(s,hr(),(p,I)=>{l=l.concat(j(a.serverSyncTree_,p,I));const N=ou(a,p);Aa(a,N)}),a.onDisconnect_=pe(),d(a.eventQueue_,hr(),l)}(a)}function Mo(a,i,s){const l=new dr("/.info/"+i),p=Cr(s);a.infoData_.updateSnapshot(l,p);const I=j(a.infoSyncTree_,l,p);d(a.eventQueue_,l,I)}function ba(a){return a.nextWriteId_++}function cl(a,i){const s=function Oi(a,i){const s=i._path;let l=null;a.syncPointTree_.foreachOnPath(s,(se,Qe)=>{const et=Tr(se,s);l=l||Fo(Qe,et)});let p=a.syncPointTree_.get(s);p?l=l||Fo(p,hr()):(p=new ia,a.syncPointTree_=a.syncPointTree_.set(s,p));const I=null!=l,N=I?new Gr(l,!0,!1):null;return function ra(a){return $t(a.viewCache_)}(va(p,i,Ls(a.pendingWriteTree_,i._path),I?N.getNode():In.EMPTY_NODE,I))}(a.serverSyncTree_,i);return null!=s?Promise.resolve(s):a.server_.get(i).then(l=>{const p=Cr(l).withIndex(i._queryParams.getIndex());if(i._queryParams.loadsAllData())j(a.serverSyncTree_,i._path,p);else{const N=function jt(a,i){const{syncPoint:s,serverCache:l,writesCache:p,serverCacheComplete:I}=un(i,a),N=va(s,i,p,l,I);return s.views.has(i._queryIdentifier)||s.views.set(i._queryIdentifier,N),i._queryParams.loadsAllData()?null:qs(a,i)}(a.serverSyncTree_,i);gn(a.serverSyncTree_,i._path,p,N)}return It(a.serverSyncTree_,i,null).length>0&&Ga(a,"unexpected cancel events in repoGetValue"),p},l=>(Ga(a,"get for query "+(0,L.Pz)(i)+" failed: "+l),Promise.reject(new Error(l))))}function $a(a,i,s,l,p){Ga(a,"set",{path:i.toString(),value:s,priority:l});const I=er(a),N=Cr(s,l),W=di(a.serverSyncTree_,i),Q=eu(N,W,I),se=ba(a),Qe=Sl(a.serverSyncTree_,i,Q,se,!0);_(a.eventQueue_,Qe),a.server_.put(i.toString(),N.val(!0),(Dt,cn)=>{const Ln="ok"===Dt;Ln||On("set at "+i+" failed: "+Dt);const Wr=P(a.serverSyncTree_,se,!Ln);d(a.eventQueue_,i,Wr),Sa(0,p,Dt,cn)});const et=ou(a,i);Aa(a,et),d(a.eventQueue_,et,[])}function Zu(a,i,s){a.server_.onDisconnectCancel(i.toString(),(l,p)=>{"ok"===l&&Le(a.onDisconnect_,i),Sa(0,s,l,p)})}function Wa(a,i,s,l){const p=Cr(s);a.server_.onDisconnectPut(i.toString(),p.val(!0),(I,N)=>{"ok"===I&&ye(a.onDisconnect_,i,p),Sa(0,l,I,N)})}function hl(a,i,s){let l;l=".info"===Mn(i._path)?It(a.infoSyncTree_,i,s):It(a.serverSyncTree_,i,s),c(a.eventQueue_,i._path,l)}function Ll(a){a.persistentConnection_&&a.persistentConnection_.interrupt(Z)}function Ga(a,...i){let s="";a.persistentConnection_&&(s=a.persistentConnection_.id+":"),fn(s,...i)}function Sa(a,i,s,l){i&&St(()=>{if("ok"===s)i(null);else{const p=(s||"error").toUpperCase();let I=p;l&&(I+=": "+l);const N=new Error(I);N.code=p,i(N)}})}function su(a,i,s){return di(a.serverSyncTree_,i,s)||In.EMPTY_NODE}function Ka(a,i=a.transactionQueueTree_){if(i||fl(a,i),Ro(i)){const s=Fc(a,i);(0,L.hu)(s.length>0,"Sending zero length transaction queue"),s.every(p=>0===p.status)&&function Lc(a,i,s){const l=s.map(se=>se.currentWriteId),p=su(a,i,l);let I=p;const N=p.hash();for(let se=0;se<s.length;se++){const Qe=s[se];(0,L.hu)(0===Qe.status,"tryToSendTransactionQueue_: items in queue should all be run."),Qe.status=1,Qe.retryCount++;const et=Tr(i,Qe.path);I=I.updateChild(et,Qe.currentOutputSnapshotRaw)}const W=I.val(!0),Q=i;a.server_.put(Q.toString(),W,se=>{Ga(a,"transaction put response",{path:Q.toString(),status:se});let Qe=[];if("ok"===se){const et=[];for(let Dt=0;Dt<s.length;Dt++)s[Dt].status=2,Qe=Qe.concat(P(a.serverSyncTree_,s[Dt].currentWriteId)),s[Dt].onComplete&&et.push(()=>s[Dt].onComplete(null,!0,s[Dt].currentOutputSnapshotResolved)),s[Dt].unwatcher();fl(a,ol(a.transactionQueueTree_,i)),Ka(a,a.transactionQueueTree_),d(a.eventQueue_,i,Qe);for(let Dt=0;Dt<et.length;Dt++)St(et[Dt])}else{if("datastale"===se)for(let et=0;et<s.length;et++)s[et].status=3===s[et].status?4:0;else{On("transaction at "+Q.toString()+" failed: "+se);for(let et=0;et<s.length;et++)s[et].status=4,s[et].abortReason=se}Aa(a,i)}},N)}(a,Qo(i),s)}else tu(i)&&Nl(i,s=>{Ka(a,s)})}function Aa(a,i){const s=Ai(a,i),l=Qo(s);return function Wd(a,i,s){if(0===i.length)return;const l=[];let p=[];const N=i.filter(W=>0===W.status).map(W=>W.currentWriteId);for(let W=0;W<i.length;W++){const Q=i[W],se=Tr(s,Q.path);let et,Qe=!1;if((0,L.hu)(null!==se,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Q.status)Qe=!0,et=Q.abortReason,p=p.concat(P(a.serverSyncTree_,Q.currentWriteId,!0));else if(0===Q.status)if(Q.retryCount>=25)Qe=!0,et="maxretry",p=p.concat(P(a.serverSyncTree_,Q.currentWriteId,!0));else{const Dt=su(a,Q.path,N);Q.currentInputSnapshot=Dt;const cn=i[W].update(Dt.val());if(void 0!==cn){Js("transaction failed: Data returned ",cn,Q.path);let Ln=Cr(cn);"object"==typeof cn&&null!=cn&&(0,L.r3)(cn,".priority")||(Ln=Ln.updatePriority(Dt.getPriority()));const Wi=Q.currentWriteId,vl=er(a),da=eu(Ln,Dt,vl);Q.currentOutputSnapshotRaw=Ln,Q.currentOutputSnapshotResolved=da,Q.currentWriteId=ba(a),N.splice(N.indexOf(Wi),1),p=p.concat(Sl(a.serverSyncTree_,Q.path,da,Q.currentWriteId,Q.applyLocally)),p=p.concat(P(a.serverSyncTree_,Wi,!0))}else Qe=!0,et="nodata",p=p.concat(P(a.serverSyncTree_,Q.currentWriteId,!0))}d(a.eventQueue_,s,p),p=[],Qe&&(i[W].status=2,setTimeout(i[W].unwatcher,Math.floor(0)),i[W].onComplete&&l.push("nodata"===et?()=>i[W].onComplete(null,!1,i[W].currentInputSnapshot):()=>i[W].onComplete(new Error(et),!1,null)))}fl(a,a.transactionQueueTree_);for(let W=0;W<l.length;W++)St(l[W]);Ka(a,a.transactionQueueTree_)}(a,Fc(a,s),l),l}function Ai(a,i){let s,l=a.transactionQueueTree_;for(s=Mn(i);null!==s&&void 0===Ro(l);)l=ol(l,s),s=Mn(i=or(i));return l}function Fc(a,i){const s=[];return Uc(a,i,s),s.sort((l,p)=>l.order-p.order),s}function Uc(a,i,s){const l=Ro(i);if(l)for(let p=0;p<l.length;p++)s.push(l[p]);Nl(i,p=>{Uc(a,p,s)})}function fl(a,i){const s=Ro(i);if(s){let l=0;for(let p=0;p<s.length;p++)2!==s[p].status&&(s[l]=s[p],l++);s.length=l,al(i,s.length>0?s:void 0)}Nl(i,l=>{fl(a,l)})}function ou(a,i){const s=Qo(Ai(a,i)),l=ol(a.transactionQueueTree_,i);return function Oc(a,i,s){let l=s?a:a.parent;for(;null!==l;){if(i(l))return!0;l=l.parent}}(l,p=>{Yu(a,p)}),Yu(a,l),Ol(l,p=>{Yu(a,p)}),s}function Yu(a,i){const s=Ro(i);if(s){const l=[];let p=[],I=-1;for(let N=0;N<s.length;N++)3===s[N].status||(1===s[N].status?((0,L.hu)(I===N-1,"All SENT items should be at beginning of queue."),I=N,s[N].status=3,s[N].abortReason="set"):((0,L.hu)(0===s[N].status,"Unexpected transaction status in abort"),s[N].unwatcher(),p=p.concat(P(a.serverSyncTree_,s[N].currentWriteId,!0)),s[N].onComplete&&l.push(s[N].onComplete.bind(null,new Error("set"),!1,null))));-1===I?al(i,void 0):s.length=I+1,d(a.eventQueue_,Qo(i),p);for(let N=0;N<l.length;N++)St(l[N])}}const Qu=function(a,i){const s=Kd(a),l=s.namespace;return"firebase.com"===s.domain&&Un(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||"undefined"===l)&&"localhost"!==s.domain&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new He(s.host,s.secure,l,"ws"===s.scheme||"wss"===s.scheme,i,"",l!==s.subdomain),path:new dr(s.pathString)}},Kd=function(a){let i="",s="",l="",p="",I="",N=!0,W="https",Q=443;if("string"==typeof a){let se=a.indexOf("//");se>=0&&(W=a.substring(0,se-1),a=a.substring(se+2));let Qe=a.indexOf("/");-1===Qe&&(Qe=a.length);let et=a.indexOf("?");-1===et&&(et=a.length),i=a.substring(0,Math.min(Qe,et)),Qe<et&&(p=function zd(a){let i="";const s=a.split("/");for(let l=0;l<s.length;l++)if(s[l].length>0){let p=s[l];try{p=decodeURIComponent(p.replace(/\+/g," "))}catch{}i+="/"+p}return i}(a.substring(Qe,et)));const Dt=function Gd(a){const i={};"?"===a.charAt(0)&&(a=a.substring(1));for(const s of a.split("&")){if(0===s.length)continue;const l=s.split("=");2===l.length?i[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):On(`Invalid query segment '${s}' in query '${a}'`)}return i}(a.substring(Math.min(a.length,et)));se=i.indexOf(":"),se>=0?(N="https"===W||"wss"===W,Q=parseInt(i.substring(se+1),10)):se=i.length;const cn=i.slice(0,se);if("localhost"===cn.toLowerCase())s="localhost";else if(cn.split(".").length<=2)s=cn;else{const Ln=i.indexOf(".");l=i.substring(0,Ln).toLowerCase(),s=i.substring(Ln+1),I=l}"ns"in Dt&&(I=Dt.ns)}return{host:i,port:Q,domain:s,subdomain:l,secure:N,scheme:W,pathString:p,namespace:I}};class Zd{constructor(i,s,l,p){this.eventType=i,this.eventRegistration=s,this.snapshot=l,this.prevName=p}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Pz)(this.snapshot.exportVal())}}class Yd{constructor(i,s,l){this.eventRegistration=i,this.error=s,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class pl{constructor(i,s){this.snapshotCallback=i,this.cancelCallback=s}onValue(i,s){this.snapshotCallback.call(null,i,s)}onCancel(i){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class au{constructor(i,s){this._repo=i,this._path=s}cancel(){const i=new L.BH;return Zu(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){ts("OnDisconnect.remove",this._path);const i=new L.BH;return Wa(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){ts("OnDisconnect.set",this._path),mo("OnDisconnect.set",i,this._path,!1);const s=new L.BH;return Wa(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}setWithPriority(i,s){ts("OnDisconnect.setWithPriority",this._path),mo("OnDisconnect.setWithPriority",i,this._path,!1),xl("OnDisconnect.setWithPriority",s,!1);const l=new L.BH;return function za(a,i,s,l,p){const I=Cr(s,l);a.server_.onDisconnectPut(i.toString(),I.val(!0),(N,W)=>{"ok"===N&&ye(a.onDisconnect_,i,I),Sa(0,p,N,W)})}(this._repo,this._path,i,s,l.wrapCallback(()=>{})),l.promise}update(i){ts("OnDisconnect.update",this._path),ul("OnDisconnect.update",i,this._path,!1);const s=new L.BH;return function dl(a,i,s,l){if((0,L.xb)(s))return fn("onDisconnect().update() called with empty data.  Don't do anything."),void Sa(0,l,"ok",void 0);a.server_.onDisconnectMerge(i.toString(),s,(p,I)=>{"ok"===p&&Vn(s,(N,W)=>{const Q=Cr(W);ye(a.onDisconnect_,Er(i,N),Q)}),Sa(0,l,p,I)})}(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}}class eo{constructor(i,s,l,p){this._repo=i,this._path=s,this._queryParams=l,this._orderByCalled=p}get key(){return Qn(this._path)?null:js(this._path)}get ref(){return new No(this._repo,this._path)}get _queryIdentifier(){const i=R(this._queryParams),s=Zt(i);return"{}"===s?"default":s}get _queryObject(){return R(this._queryParams)}isEqual(i){if(!((i=(0,L.m9)(i))instanceof eo))return!1;const s=this._repo===i._repo,l=gi(this._path,i._path);return s&&l&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function As(a){let i="";for(let s=a.pieceNum_;s<a.pieces_.length;s++)""!==a.pieces_[s]&&(i+="/"+encodeURIComponent(String(a.pieces_[s])));return i||"/"}(this._path)}}function gl(a,i){if(!0===a._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Po(a){let i=null,s=null;if(a.hasStart()&&(i=a.getIndexStartValue()),a.hasEnd()&&(s=a.getIndexEndValue()),a.getIndex()===$n){const l="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",p="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(a.hasStart()){if(a.getIndexStartName()!==tr)throw new Error(l);if("string"!=typeof i)throw new Error(p)}if(a.hasEnd()){if(a.getIndexEndName()!==Pt)throw new Error(l);if("string"!=typeof s)throw new Error(p)}}else if(a.getIndex()===Nt){if(null!=i&&!qo(i)||null!=s&&!qo(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(a.getIndex()instanceof Lr||a.getIndex()===Ms,"unknown index type."),null!=i&&"object"==typeof i||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lu(a){if(a.hasStart()&&a.hasEnd()&&a.hasLimit()&&!a.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class No extends eo{constructor(i,s){super(i,s,new Eo,!1)}get parent(){const i=Ri(this._path);return null===i?null:new No(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Za{constructor(i,s,l){this._node=i,this.ref=s,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const s=new dr(i),l=Ya(this.ref,i);return new Za(this._node.getChild(s),l,Nt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(l,p)=>i(new Za(p,Ya(this.ref,l),Nt)))}hasChild(i){const s=new dr(i);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qu(a,i){return(a=(0,L.m9)(a))._checkNotDeleted("ref"),void 0!==i?Ya(a._root,i):a._root}function Bc(a,i){(a=(0,L.m9)(a))._checkNotDeleted("refFromURL");const s=Qu(i,a._repo.repoInfo_.nodeAdmin);kl("refFromURL",s);const l=s.repoInfo;return!a._repo.repoInfo_.isCustomHost()&&l.host!==a._repo.repoInfo_.host&&Un("refFromURL: Host name does not match the current database: (found "+l.host+" but expected "+a._repo.repoInfo_.host+")"),qu(a,s.path.toString())}function Ya(a,i){return null===Mn((a=(0,L.m9)(a))._path)?(s=i,s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Ta("child","path",s,!1)):Ta("child","path",i,!1),new No(a._repo,Er(a._path,i));var s}function Xu(a,i){a=(0,L.m9)(a),ts("set",a._path),mo("set",i,a._path,!1);const s=new L.BH;return $a(a._repo,a._path,i,null,s.wrapCallback(()=>{})),s.promise}function Vc(a,i){ul("update",i,a._path,!1);const s=new L.BH;return function Ku(a,i,s,l){Ga(a,"update",{path:i.toString(),value:s});let p=!0;const I=er(a),N={};if(Vn(s,(W,Q)=>{p=!1,N[W]=Xl(Er(i,W),Cr(Q),a.serverSyncTree_,I)}),p)fn("update() called with empty data.  Don't do anything."),Sa(0,l,"ok",void 0);else{const W=ba(a),Q=function b(a,i,s,l){!function Fs(a,i,s,l){(0,L.hu)(l>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:i,children:s,writeId:l,visible:!0}),a.visibleWrites=vn(a.visibleWrites,i,s),a.lastWriteId=l}(a.pendingWriteTree_,i,s,l);const p=Jn.fromObject(s);return es(a,new Mr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,p))}(a.serverSyncTree_,i,N,W);_(a.eventQueue_,Q),a.server_.merge(i.toString(),s,(se,Qe)=>{const et="ok"===se;et||On("update at "+i+" failed: "+se);const Dt=P(a.serverSyncTree_,W,!et),cn=Dt.length>0?Aa(a,i):i;d(a.eventQueue_,cn,Dt),Sa(0,l,se,Qe)}),Vn(s,se=>{const Qe=ou(a,Er(i,se));Aa(a,Qe)}),d(a.eventQueue_,i,[])}}(a._repo,a._path,i,s.wrapCallback(()=>{})),s.promise}class uu{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,s){const l=s._queryParams.getIndex();return new Zd("value",this,new Za(i.snapshotNode,new No(s._repo,s._path),l))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new Yd(this,i,s):null}matches(i){return i instanceof uu&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class hs{constructor(i,s){this.eventType=i,this.callbackContext=s}respondsTo(i){let s="children_added"===i?"child_added":i;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new Yd(this,i,s):null}createEvent(i,s){(0,L.hu)(null!=i.childName,"Child events should have a childName.");const l=Ya(new No(s._repo,s._path),i.childName),p=s._queryParams.getIndex();return new Zd(i.type,this,new Za(i.snapshotNode,l,p),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof hs&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Qa(a,i,s,l,p){let I;if("object"==typeof l&&(I=void 0,p=l),"function"==typeof l&&(I=l),p&&p.onlyOnce){const Q=s,se=(Qe,et)=>{hl(a._repo,a,W),Q(Qe,et)};se.userCallback=s.userCallback,se.context=s.context,s=se}const N=new pl(s,I||void 0),W="value"===i?new uu(N):new hs(i,N);return function kc(a,i,s){let l;l=".info"===Mn(i._path)?En(a.infoSyncTree_,i,s):En(a.serverSyncTree_,i,s),c(a.eventQueue_,i._path,l)}(a._repo,a,W),()=>hl(a._repo,a,W)}function cu(a,i,s,l){return Qa(a,"value",i,s,l)}function du(a,i,s,l){return Qa(a,"child_added",i,s,l)}function Ds(a,i,s,l){return Qa(a,"child_changed",i,s,l)}function ml(a,i,s,l){return Qa(a,"child_moved",i,s,l)}function hu(a,i,s,l){return Qa(a,"child_removed",i,s,l)}function jc(a,i,s){let l=null;const p=s?new pl(s):null;"value"===i?l=new uu(p):i&&(l=new hs(i,p)),hl(a._repo,a,l)}class Vo{}class ec extends Vo{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){mo("endAt",this._value,i._path,!0);const s=bs(i._queryParams,this._value,this._key);if(lu(s),Po(s),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new eo(i._repo,i._path,s,i._orderByCalled)}}class Hc extends Vo{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){mo("endBefore",this._value,i._path,!1);const s=function F(a,i,s){let l,p;return a.index_===$n?("string"==typeof i&&(i=Ps(i)),p=bs(a,i,s)):(l=null==s?tr:Ps(s),p=bs(a,i,l)),p.endBeforeSet_=!0,p}(i._queryParams,this._value,this._key);if(lu(s),Po(s),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new eo(i._repo,i._path,s,i._orderByCalled)}}class tc extends Vo{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){mo("startAt",this._value,i._path,!0);const s=Do(i._queryParams,this._value,this._key);if(lu(s),Po(s),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new eo(i._repo,i._path,s,i._orderByCalled)}}class rh extends Vo{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){mo("startAfter",this._value,i._path,!1);const s=function Ko(a,i,s){let l;if(a.index_===$n)"string"==typeof i&&(i=Go(i)),l=Do(a,i,s);else{let p;p=null==s?Pt:Go(s),l=Do(a,i,p)}return l.startAfterSet_=!0,l}(i._queryParams,this._value,this._key);if(lu(s),Po(s),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new eo(i._repo,i._path,s,i._orderByCalled)}}class sh extends Vo{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new eo(i._repo,i._path,function Co(a,i){const s=a.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="l",s}(i._queryParams,this._limit),i._orderByCalled)}}class ah extends Vo{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new eo(i._repo,i._path,function xs(a,i){const s=a.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="r",s}(i._queryParams,this._limit),i._orderByCalled)}}class ua extends Vo{constructor(i){super(),this._path=i}_apply(i){gl(i,"orderByChild");const s=new dr(this._path);if(Qn(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const l=new Lr(s),p=f(i._queryParams,l);return Po(p),new eo(i._repo,i._path,p,!0)}}class Dp extends Vo{_apply(i){gl(i,"orderByKey");const s=f(i._queryParams,$n);return Po(s),new eo(i._repo,i._path,s,!0)}}class $c extends Vo{_apply(i){gl(i,"orderByPriority");const s=f(i._queryParams,Nt);return Po(s),new eo(i._repo,i._path,s,!0)}}class Jo extends Vo{_apply(i){gl(i,"orderByValue");const s=f(i._queryParams,Ms);return Po(s),new eo(i._repo,i._path,s,!0)}}class rc extends Vo{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){if(mo("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ec(this._value,this._key)._apply(new tc(this._value,this._key)._apply(i))}}function Oo(a,...i){let s=(0,L.m9)(a);for(const l of i)s=l._apply(s);return s}(function Fa(a){(0,L.hu)(!Zs,"__referenceConstructor has already been defined"),Zs=a})(No),function ql(a){(0,L.hu)(!Ua,"__referenceConstructor has already been defined"),Ua=a}(No);const fu={};function pu(a,i,s,l,p){let I=l||a.options.databaseURL;void 0===I&&(a.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fn("Using default host for project ",a.options.projectId),I=`${a.options.projectId}-default-rtdb.firebaseio.com`);let Q,se,N=Qu(I,p),W=N.repoInfo;typeof process<"u"&&process.env&&(se=process.env.FIREBASE_DATABASE_EMULATOR_HOST),se?(Q=!0,I=`http://${se}?ns=${W.namespace}`,N=Qu(I,p),W=N.repoInfo):Q=!N.repoInfo.secure;const Qe=p&&Q?new ue(ue.OWNER):new _n(a.name,a.options,i);kl("Invalid Firebase Database URL",N),Qn(N.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");const et=function Tp(a,i,s,l){let p=fu[i.name];p||(p={},fu[i.name]=p);let I=p[a.toURLString()];return I&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),I=new vt(a,false,s,l),p[a.toURLString()]=I,I}(W,a,Qe,new mn(a.name,s));return new oc(et,a)}class oc{constructor(i,s){this._repoInternal=i,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function qt(a,i,s){if(a.stats_=st(a.repoInfo_),a.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)a.server_=new B(a.repoInfo_,(l,p,I,N)=>{$r(a,l,p,I,N)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>Xs(a,!0),0);else{if(typeof s<"u"&&null!==s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Pz)(s)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new is(a.repoInfo_,i,(l,p,I,N)=>{$r(a,l,p,I,N)},l=>{Xs(a,l)},l=>{!function ns(a,i){Vn(i,(s,l)=>{Mo(a,s,l)})}(a,l)},a.authTokenProvider_,a.appCheckProvider_,s),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=function Ft(a,i){const s=a.toString();return Yt[s]||(Yt[s]=i()),Yt[s]}(a.repoInfo_,()=>new An(a.stats_,a.server_)),a.infoData_=new K,a.infoSyncTree_=new Uo({startListening:(l,p,I,N)=>{let W=[];const Q=a.infoData_.getNode(l._path);return Q.isEmpty()||(W=j(a.infoSyncTree_,l._path,Q),setTimeout(()=>{N("ok")},0)),W},stopListening:()=>{}}),Mo(a,"connected",!1),a.serverSyncTree_=new Uo({startListening:(l,p,I,N)=>(a.server_.listen(l,I,p,(W,Q)=>{const se=N(W,Q);d(a.eventQueue_,l._path,se)}),[]),stopListening:(l,p)=>{a.server_.unlisten(l,p)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new No(this._repo,hr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Wc(a,i){const s=fu[i];(!s||s[a.key]!==a)&&Un(`Database ${i}(${a.repoInfo_}) has already been deleted.`),Ll(a),delete s[a.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&Un("Cannot call "+i+" on a deleted database.")}}function ac(){Jr.IS_TRANSPORT_INITIALIZED&&On("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ch(){ac(),Ir.forceDisallow()}function lc(){ac(),xi.forceDisallow(),Ir.forceAllow()}function ph(a,i){Fn(a,i)}const zc={".sv":"timestamp"};class cc{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}is.prototype.simpleListen=function(a,i){this.sendRequest("q",{p:a},i)},is.prototype.echo=function(a,i){this.sendRequest("echo",{d:a},i)},function gh(a){Ke(ge.SDK_VERSION),(0,ge._registerComponent)(new je.wA("database",(i,{instanceIdentifier:s})=>pu(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(Ce,"0.13.2",a),(0,ge.registerVersion)(Ce,"0.13.2","esm2017")}();const Zc=new Ze.Yd("@firebase/database-compat"),dc=function(a){Zc.warn("FIREBASE WARNING: "+a)};class gu{constructor(i){this._delegate=i}cancel(i){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",i,!0);const s=this._delegate.cancel();return i&&s.then(()=>i(null),l=>i(l)),s}remove(i){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",i,!0);const s=this._delegate.remove();return i&&s.then(()=>i(null),l=>i(l)),s}set(i,s){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",s,!0);const l=this._delegate.set(i);return s&&l.then(()=>s(null),p=>s(p)),l}setWithPriority(i,s,l){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",l,!0);const p=this._delegate.setWithPriority(i,s);return l&&p.then(()=>l(null),I=>l(I)),p}update(i,s){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const p={};for(let I=0;I<i.length;++I)p[""+I]=i[I];i=p,dc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",s,!0);const l=this._delegate.update(i);return s&&l.then(()=>s(null),p=>s(p)),l}}class vh{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ca{constructor(i,s){this._database=i,this._delegate=s}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),Ta("DataSnapshot.child","path",i,!1),new ca(this._database,this._delegate.child(i))}hasChild(i){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ta("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(s=>i(new ca(this._database,s)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new to(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class fs{constructor(i,s){this.database=i,this._delegate=s}on(i,s,l,p){var I;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",s,!1);const N=fs.getCancelAndContextArgs_("Query.on",l,p),W=(se,Qe)=>{s.call(N.context,new ca(this.database,se),Qe)};W.userCallback=s,W.context=N.context;const Q=null===(I=N.cancel)||void 0===I?void 0:I.bind(N.context);switch(i){case"value":return cu(this._delegate,W,Q),s;case"child_added":return du(this._delegate,W,Q),s;case"child_removed":return hu(this._delegate,W,Q),s;case"child_changed":return Ds(this._delegate,W,Q),s;case"child_moved":return ml(this._delegate,W,Q),s;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,s,l){if((0,L.Dv)("Query.off",0,3,arguments.length),function(a,i,s){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,L.Wj)("Query.off","callback",s,!0),(0,L.lb)("Query.off","context",l,!0),s){const p=()=>{};p.userCallback=s,p.context=l,jc(this._delegate,i,p)}else jc(this._delegate,i)}get(){return function Xd(a){return cl((a=(0,L.m9)(a))._repo,a).then(i=>new Za(i,new No(a._repo,a._path),a._queryParams.getIndex()))}(this._delegate).then(i=>new ca(this.database,i))}once(i,s,l,p){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",s,!0);const I=fs.getCancelAndContextArgs_("Query.once",l,p),N=new L.BH,W=(se,Qe)=>{const et=new ca(this.database,se);s&&s.call(I.context,et,Qe),N.resolve(et)};W.userCallback=s,W.context=I.context;const Q=se=>{I.cancel&&I.cancel.call(I.context,se),N.reject(se)};switch(i){case"value":cu(this._delegate,W,Q,{onlyOnce:!0});break;case"child_added":du(this._delegate,W,Q,{onlyOnce:!0});break;case"child_removed":hu(this._delegate,W,Q,{onlyOnce:!0});break;case"child_changed":Ds(this._delegate,W,Q,{onlyOnce:!0});break;case"child_moved":ml(this._delegate,W,Q,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return N.promise}limitToFirst(i){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new fs(this.database,Oo(this._delegate,function oh(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new sh(a)}(i)))}limitToLast(i){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new fs(this.database,Oo(this._delegate,function _l(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ah(a)}(i)))}orderByChild(i){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new fs(this.database,Oo(this._delegate,function lh(a){if("$key"===a)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===a)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===a)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ta("orderByChild","path",a,!1),new ua(a)}(i)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new fs(this.database,Oo(this._delegate,function wp(){return new Dp}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new fs(this.database,Oo(this._delegate,function Ip(){return new $c}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new fs(this.database,Oo(this._delegate,function nc(){return new Jo}()))}startAt(i=null,s){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new fs(this.database,Oo(this._delegate,function nh(a=null,i){return Ia("startAt","key",i,!0),new tc(a,i)}(i,s)))}startAfter(i=null,s){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new fs(this.database,Oo(this._delegate,function ih(a,i){return Ia("startAfter","key",i,!0),new rh(a,i)}(i,s)))}endAt(i=null,s){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new fs(this.database,Oo(this._delegate,function eh(a,i){return Ia("endAt","key",i,!0),new ec(a,i)}(i,s)))}endBefore(i=null,s){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new fs(this.database,Oo(this._delegate,function th(a,i){return Ia("endBefore","key",i,!0),new Hc(a,i)}(i,s)))}equalTo(i,s){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new fs(this.database,Oo(this._delegate,function uh(a,i){return Ia("equalTo","key",i,!0),new rc(a,i)}(i,s)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof fs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,s,l){const p={cancel:void 0,context:void 0};if(s&&l)p.cancel=s,(0,L.Wj)(i,"cancel",p.cancel,!0),p.context=l,(0,L.lb)(i,"context",p.context,!0);else if(s)if("object"==typeof s&&null!==s)p.context=s;else{if("function"!=typeof s)throw new Error((0,L.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");p.cancel=s}return p}get ref(){return new to(this.database,new No(this._delegate._repo,this._delegate._path))}}class to extends fs{constructor(i,s){super(i,new eo(s._repo,s._path,new Eo,!1)),this.database=i,this._delegate=s}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new to(this.database,Ya(this._delegate,i))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new to(this.database,i):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new to(this.database,this._delegate.root)}set(i,s){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",s,!0);const l=Xu(this._delegate,i);return s&&l.then(()=>s(null),p=>s(p)),l}update(i,s){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const p={};for(let I=0;I<i.length;++I)p[""+I]=i[I];i=p,dc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ts("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",s,!0);const l=Vc(this._delegate,i);return s&&l.then(()=>s(null),p=>s(p)),l}setWithPriority(i,s,l){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",l,!0);const p=function Jd(a,i,s){if(ts("setWithPriority",a._path),mo("setWithPriority",i,a._path,!1),xl("setWithPriority",s,!1),".length"===a.key||".keys"===a.key)throw"setWithPriority failed: "+a.key+" is a read-only object.";const l=new L.BH;return $a(a._repo,a._path,i,s,l.wrapCallback(()=>{})),l.promise}(this._delegate,i,s);return l&&p.then(()=>l(null),I=>l(I)),p}remove(i){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",i,!0);const s=function Ju(a){return ts("remove",a._path),Xu(a,null)}(this._delegate);return i&&s.then(()=>i(null),l=>i(l)),s}transaction(i,s,l){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,L.Wj)("Reference.transaction","onComplete",s,!0),function(a,i,s,l){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,l);const p=function mh(a,i,s){var l;if(a=(0,L.m9)(a),ts("Reference.transaction",a._path),".length"===a.key||".keys"===a.key)throw"Reference.transaction failed: "+a.key+" is a read-only object.";const p=null===(l=s?.applyLocally)||void 0===l||l,I=new L.BH,W=cu(a,()=>{});return function $d(a,i,s,l,p,I){Ga(a,"transaction on "+i);const N={path:i,update:s,onComplete:l,status:null,order:hn(),applyLocally:I,retryCount:0,unwatcher:p,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},W=su(a,i,void 0);N.currentInputSnapshot=W;const Q=N.update(W.val());if(void 0===Q)N.unwatcher(),N.currentOutputSnapshotRaw=null,N.currentOutputSnapshotResolved=null,N.onComplete&&N.onComplete(null,!1,N.currentInputSnapshot);else{Js("transaction failed: Data returned ",Q,N.path),N.status=0;const se=ol(a.transactionQueueTree_,i),Qe=Ro(se)||[];let et;Qe.push(N),al(se,Qe),"object"==typeof Q&&null!==Q&&(0,L.r3)(Q,".priority")?(et=(0,L.DV)(Q,".priority"),(0,L.hu)(qo(et),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):et=(di(a.serverSyncTree_,i)||In.EMPTY_NODE).getPriority().val();const Dt=er(a),cn=Cr(Q,et),Ln=eu(cn,W,Dt);N.currentOutputSnapshotRaw=cn,N.currentOutputSnapshotResolved=Ln,N.currentWriteId=ba(a);const Wr=Sl(a.serverSyncTree_,i,Ln,N.currentWriteId,N.applyLocally);d(a.eventQueue_,i,Wr),Ka(a,a.transactionQueueTree_)}}(a._repo,a._path,i,(Q,se,Qe)=>{let et=null;Q?I.reject(Q):(et=new Za(Qe,new No(a._repo,a._path),Nt),I.resolve(new cc(se,et)))},W,p),I.promise}(this._delegate,i,{applyLocally:l}).then(I=>new vh(I.committed,new ca(this.database,I.snapshot)));return s&&p.then(I=>s(null,I.committed,I.snapshot),I=>s(I,!1,null)),p}setPriority(i,s){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",s,!0);const l=function qd(a,i){a=(0,L.m9)(a),ts("setPriority",a._path),xl("setPriority",i,!1);const s=new L.BH;return $a(a._repo,Er(a._path,".priority"),i,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,i);return s&&l.then(()=>s(null),p=>s(p)),l}push(i,s){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",s,!0);const l=function Qd(a,i){a=(0,L.m9)(a),ts("push",a._path),mo("push",i,a._path,!0);const s=wn(a._repo),l=zo(s),p=Ya(a,l),I=Ya(a,l);let N;return N=null!=i?Xu(I,i).then(()=>I):Promise.resolve(I),p.then=N.then.bind(N),p.catch=N.then.bind(N,void 0),p}(this._delegate,i),p=l.then(N=>new to(this.database,N));s&&p.then(()=>s(null),N=>s(N));const I=new to(this.database,l);return I.then=p.then.bind(p),I.catch=p.catch.bind(p,void 0),I}onDisconnect(){return ts("Reference.onDisconnect",this._delegate._path),new gu(new au(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ja{constructor(i,s){this._delegate=i,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ch,forceLongPolling:lc}}useEmulator(i,s,l={}){!function dh(a,i,s,l={}){(a=(0,L.m9)(a))._checkNotDeleted("useEmulator"),a._instanceStarted&&Un("Cannot call useEmulator() after instance has already been initialized.");const p=a._repoInternal;let I;if(p.repoInfo_.nodeAdmin)l.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),I=new ue(ue.OWNER);else if(l.mockUserToken){const N="string"==typeof l.mockUserToken?l.mockUserToken:(0,L.Sg)(l.mockUserToken,a.app.options.projectId);I=new ue(N)}!function sc(a,i,s,l){a.repoInfo_=new He(`${i}:${s}`,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams),l&&(a.authTokenProvider_=l)}(p,i,s,I)}(this._delegate,i,s,l)}ref(i){if((0,L.Dv)("database.ref",0,1,arguments.length),i instanceof to){const s=Bc(this._delegate,i.toString());return new to(this,s)}{const s=qu(this._delegate,i);return new to(this,s)}}refFromURL(i){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const l=Bc(this._delegate,i);return new to(this,l)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function hh(a){(a=(0,L.m9)(a))._checkNotDeleted("goOffline"),Ll(a._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function fh(a){(a=(0,L.m9)(a))._checkNotDeleted("goOnline"),function Hd(a){a.persistentConnection_&&a.persistentConnection_.resume(Z)}(a._repo)}(this._delegate)}}Ja.ServerValue={TIMESTAMP:function uc(){return zc}(),increment:a=>function Gc(a){return{".sv":{increment:a}}}(a)};var mu=Object.freeze({__proto__:null,initStandalone:function Qc({app:a,url:i,version:s,customAuthImpl:l,namespace:p,nodeAdmin:I=!1}){Ke(s);const N=new je.zt("auth-internal",new je.H0("database-standalone"));return N.setComponent(new je.wA("auth-internal",()=>l,"PRIVATE")),{instance:new Ja(pu(a,N,void 0,i,I),a),namespace:p}}});const _u=Ja.ServerValue;!function qc(a){a.INTERNAL.registerComponent(new je.wA("database-compat",(i,{instanceIdentifier:s})=>{const l=i.getProvider("app-compat").getImmediate(),p=i.getProvider("database").getImmediate({identifier:s});return new Ja(p,l)},"PUBLIC").setServiceProps({Reference:to,Query:fs,Database:Ja,DataSnapshot:ca,enableLogging:ph,INTERNAL:mu,ServerValue:_u}).setMultipleInstances(!0)),a.registerVersion("@firebase/database-compat","0.2.2")}(be.Z);var Xo=O(1205),Jc=O(7128),hc=O(127);function fc(a){return null==a}function Xc(a){return"function"==typeof a.set}function ed(a,i){return Xc(i)?i:a.ref(i)}function pc(a,i){if(function Ul(a){return"string"==typeof a}(a))return i.stringCase();if(Xc(a))return i.firebaseCase();if(function Eh(a){return"function"==typeof a.exportVal}(a))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof a)}function Xa(a,i,s="on",l=T.z){return new U.y(p=>{let I=null;return I=a[s](i,(N,W)=>{l.schedule(()=>{p.next({snapshot:N,prevKey:W})}),"once"===s&&l.schedule(()=>p.complete())},N=>{l.schedule(()=>p.error(N))}),"on"===s?{unsubscribe(){null!=I&&a.off(i,I)}}:{unsubscribe(){}}}).pipe((0,ze.U)(p=>{const{snapshot:I,prevKey:N}=p;let W=null;return I.exists()&&(W=I.key),{type:i,payload:I,prevKey:N,key:W}}),(0,Je.B)())}function Ch(a,i){const s=a.length;for(let l=0;l<s;l++)if(a[l].payload.key===i)return l;return-1}function Dh(a,i){const{payload:s,prevKey:l,key:p}=i,I=Ch(a,p),N=function nd(a,i){if(fc(i))return 0;{const s=Ch(a,i);return-1===s?a.length:s+1}}(a,l);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let W=null;i.payload.forEach(Q=>{const se={payload:Q,type:"value",prevKey:W,key:Q.key};return W=Q.key,a=[...a,se],!1})}return a;case"child_added":if(I>-1){const W=a[I-1];(W&&W.key||null)!==l&&(a=a.filter(Q=>Q.payload.key!==s.key)).splice(N,0,i)}else{if(null==l)return[i,...a];(a=a.slice()).splice(N,0,i)}return a;case"child_removed":return a.filter(W=>W.payload.key!==s.key);case"child_changed":return a.map(W=>W.payload.key===p?i:W);case"child_moved":if(I>-1){const W=a.splice(I,1)[0];return(a=a.slice()).splice(N,0,W),a}return a;default:return a}}function gc(a){return(fc(a)||0===a.length)&&(a=["child_added","child_removed","child_changed","child_moved"]),a}function rd(a,i,s){return function td(a,i,s){return Xa(a,"value","once",s).pipe((0,ft.w)(l=>{const p=[(0,de.of)(l)];return i.forEach(I=>p.push(Xa(a,I,"on",s))),(0,le.T)(...p).pipe((0,Ue.R)(Dh,[]))}),(0,$e.x)())}(a,i=gc(i),s)}function id(a,i,s){const l=(i=gc(i)).map(p=>Xa(a,p,"on",s));return(0,le.T)(...l)}function od(a,i){return function(l,p){return pc(l,{stringCase:()=>a.child(l)[i](p),firebaseCase:()=>l[i](p),snapshotCase:()=>l.ref[i](p)})}}function Ih(a){return function(s){return s?pc(s,{stringCase:()=>a.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):a.remove()}}function ad(a,i){return function(){return Xa(a,"value","on",i)}}const bh=new D.OlP("angularfire2.realtimeDatabaseURL"),Sh=new D.OlP("angularfire2.database.use-emulator");let Ah=(()=>{class a{constructor(s,l,p,I,N,W,Q,se,Qe,et,Dt,cn,Ln,Wr,Wi){this.schedulers=W;const vl=Q,da=(0,pt.on)(s,N,l);se&&(0,Xo.nw)(da,N,Qe,Dt,cn,Ln,et,Wr),this.database=(0,pt.cc)(`${da.name}.database.${p}`,"AngularFireDatabase",da.name,()=>{const Ra=N.runOutsideAngular(()=>da.database(p||void 0));return vl&&Ra.useEmulator(...vl),Ra},[vl])}list(s,l){const p=this.schedulers.ngZone.runOutsideAngular(()=>ed(this.database,s));let I=p;return l&&(I=l(p)),function Th(a,i){const s=i.schedulers.outsideAngular,l=i.schedulers.ngZone.run(()=>a.ref);return{query:a,update:od(l,"update"),set:od(l,"set"),push:p=>l.push(p),remove:Ih(l),snapshotChanges:p=>rd(a,p,s).pipe(_t.iC),stateChanges:p=>id(a,p,s).pipe(_t.iC),auditTrail:p=>function jo(a,i,s){return function sd(a,i,s){return function wh(a,i){return Xa(a,"value","on",i).pipe((0,ze.U)(s=>{let l;return s.payload.forEach(p=>(l=p.key,!1)),{data:s,lastKeyToLoad:l}}))}(a,s).pipe(function Re(...a){const i=(0,te.jO)(a);return(0,Te.e)((s,l)=>{const p=a.length,I=new Array(p);let N=a.map(()=>!1),W=!1;for(let Q=0;Q<p;Q++)(0,Ee.Xf)(a[Q]).subscribe((0,ie.x)(l,se=>{I[Q]=se,!W&&!N[Q]&&(N[Q]=!0,(W=N.every(Me.y))&&(N=null))},Y.Z));s.subscribe((0,ie.x)(l,Q=>{if(W){const se=[Q,...I];l.next(i?i(...se):se)}}))})}(i),(0,ze.U)(([p,I])=>{const N=p.lastKeyToLoad,W=I.map(Q=>Q.key);return{actions:I,lastKeyToLoad:N,loadedKeys:W}}),function nt(a){return(0,Te.e)((i,s)=>{let l=!1,p=0;i.subscribe((0,ie.x)(s,I=>(l||(l=!a(I,p++)))&&s.next(I)))})}(p=>-1===p.loadedKeys.indexOf(p.lastKeyToLoad)),(0,ze.U)(p=>p.actions))}(a,id(a,i).pipe((0,Ue.R)((p,I)=>[...p,I],[])),s)}(a,p,s).pipe(_t.iC),valueChanges:(p,I)=>rd(a,p,s).pipe((0,ze.U)(W=>W.map(Q=>I&&I.idField?Object.assign(Object.assign({},Q.payload.val()),{[I.idField]:Q.key}):Q.payload.val())),_t.iC)}}(I,this)}object(s){return function ld(a,i){return{query:a,snapshotChanges:()=>ad(a,i.schedulers.outsideAngular)().pipe(_t.iC),update:s=>a.ref.update(s),set:s=>a.ref.set(s),remove:()=>a.ref.remove(),valueChanges:()=>ad(a,i.schedulers.outsideAngular)().pipe(_t.iC,(0,ze.U)(l=>l.payload.exists()?l.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ed(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return a.\u0275fac=function(s){return new(s||a)(D.LFG(pt.Dh),D.LFG(pt.xv,8),D.LFG(bh,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(_t.HU),D.LFG(Sh,8),D.LFG(Xo.zQ,8),D.LFG(Xo.Qv,8),D.LFG(Xo.L6,8),D.LFG(Xo._Q,8),D.LFG(Xo.rT,8),D.LFG(Xo.lh,8),D.LFG(Xo.f7,8),D.LFG(Jc.nm,8))},a.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),ar=(()=>{class a{constructor(){hc.Z.registerVersion("angularfire",_t.q4.full,"rtdb-compat")}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=D.oAB({type:a}),a.\u0275inj=D.cJS({providers:[Ah]}),a})()},2011:(kt,ke,O)=>{O.d(ke,{Dh:()=>Ee,GT:()=>Te,cc:()=>ze,hO:()=>nt,on:()=>Y,pX:()=>le,xv:()=>Me});var D=O(4650),T=O(127),U=O(5813);kt=O.hmd(kt);const de=["ngOnDestroy"],le=($e,_t,pt,Ve={})=>new Proxy($e,{get:(be,je)=>pt.runOutsideAngular(()=>{var wt;if($e[je])return!(null===(wt=Ve?.spy)||void 0===wt)&&wt.get&&Ve.spy.get(je,$e[je]),$e[je];if(de.indexOf(je)>-1)return()=>{};const ge=_t.toPromise().then(L=>{const Ze=L&&L[je];return"function"==typeof Ze?Ze.bind(L):Ze&&Ze.then?Ze.then(Ce=>pt.run(()=>Ce)):pt.run(()=>Ze)});return new Proxy(()=>{},{get:(L,Ze)=>ge[Ze],apply:(L,Ze,Ce)=>ge.then(Ne=>{var Fe;const Ke=Ne&&Ne(...Ce);return!(null===(Fe=Ve?.spy)||void 0===Fe)&&Fe.apply&&Ve.spy.apply(je,Ce,Ke),Ke})})})}),Te=($e,_t)=>{_t.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(Ve=>{Object.defineProperty($e.prototype,Ve,Object.getOwnPropertyDescriptor(pt.prototype||pt,Ve))})})};class ie{constructor(_t){return _t}}const Ee=new D.OlP("angularfire2.app.options"),Me=new D.OlP("angularfire2.app.name");function Y($e,_t,pt){const be="object"==typeof pt&&pt||{};be.name=be.name||"string"==typeof pt&&pt||"[DEFAULT]";const wt=T.Z.apps.filter(ge=>ge&&ge.name===be.name)[0]||_t.runOutsideAngular(()=>T.Z.initializeApp($e,be));try{JSON.stringify($e)!==JSON.stringify(wt.options)&&te("error",`${wt.name} Firebase App already initialized with different options${kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(wt)}const te=($e,..._t)=>{(0,D.X6Q)()&&typeof console<"u"&&console[$e](..._t)},Re={provide:ie,useFactory:Y,deps:[Ee,D.R0b,[new D.FiY,Me]]};let nt=(()=>{class $e{constructor(pt){T.Z.registerVersion("angularfire",U.q4.full,"core"),T.Z.registerVersion("angularfire",U.q4.full,"app-compat"),T.Z.registerVersion("angular",D.q4F.full,pt.toString())}static initializeApp(pt,Ve){return{ngModule:$e,providers:[{provide:Ee,useValue:pt},{provide:Me,useValue:Ve}]}}}return $e.\u0275fac=function(pt){return new(pt||$e)(D.LFG(D.Lbi))},$e.\u0275mod=D.oAB({type:$e}),$e.\u0275inj=D.cJS({providers:[Re]}),$e})();function ze($e,_t,pt,Ve,be){const[,je,wt]=globalThis.\u0275AngularfireInstanceCache.find(ge=>ge[0]===$e)||[];if(je)return function Je($e,_t){try{return $e.toString()===_t.toString()}catch{return $e===_t}}(be,wt)||(Ue("error",`${_t} was already initialized on the ${pt} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:be,was:wt})),je;{const ge=Ve();return globalThis.\u0275AngularfireInstanceCache.push([$e,ge,be]),ge}}const ft=!!kt.hot,Ue=($e,..._t)=>{(0,D.X6Q)()&&typeof console<"u"&&console[$e](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(kt,ke,O)=>{O.d(ke,{q4:()=>Tl,iC:()=>Ea,HU:()=>sa,vb:()=>Xi,JM:()=>va});var D=O(4650),T=O(5867),U=O(5861),de=O(9681),le=O(2090),Te=O(4859),ie=O(1877),Ee=O(8766);const Me="@firebase/installations",Y="0.5.11",Re=`w:${Y}`,nt="FIS_v2",_t=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pt(b){return b instanceof le.ZR&&b.code.includes("request-failed")}function Ve({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function be(b){return{token:b.token,requestStatus:2,expiresIn:Ne(b.expiresIn),creationTime:Date.now()}}function je(b,P){return wt.apply(this,arguments)}function wt(){return(wt=(0,U.Z)(function*(b,P){const ne=(yield P.json()).error;return _t.create("request-failed",{requestName:b,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function ge({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function L(b,{refreshToken:P}){const j=ge(b);return j.append("Authorization",function Fe(b){return`${nt} ${b}`}(P)),j}function Ze(b){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,U.Z)(function*(b){const P=yield b();return P.status>=500&&P.status<600?b():P})).apply(this,arguments)}function Ne(b){return Number(b.replace("s","000"))}function Ke(b,P){return Be.apply(this,arguments)}function Be(){return(Be=(0,U.Z)(function*({appConfig:b,heartbeatServiceProvider:P},{fid:j}){const ne=Ve(b),xe=ge(b),qe=P.getImmediate({optional:!0});if(qe){const Xn=yield qe.getHeartbeatsHeader();Xn&&xe.append("x-firebase-client",Xn)}const jt={method:"POST",headers:xe,body:JSON.stringify({fid:j,authVersion:nt,appId:b.appId,sdkVersion:Re})},gn=yield Ze(()=>fetch(ne,jt));if(gn.ok){const Xn=yield gn.json();return{fid:Xn.fid||j,registrationStatus:2,refreshToken:Xn.refreshToken,authToken:be(Xn.authToken)}}throw yield je("Create Installation",gn)})).apply(this,arguments)}function gt(b){return new Promise(P=>{setTimeout(P,b)})}const xt=/^[cdef][\w-]{21}$/;function ht(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const j=function hn(b){return function Tt(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return xt.test(j)?j:""}catch{return""}}function nn(b){return`${b.appName}!${b.appId}`}const Xt=new Map;function tn(b,P){const j=nn(b);fn(j,P),function Pr(b,P){const j=function Un(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=b=>{fn(b.data.key,b.data.fid)}),pr}();j&&j.postMessage({key:b,fid:P}),function On(){0===Xt.size&&pr&&(pr.close(),pr=null)}()}(j,P)}function fn(b,P){const j=Xt.get(b);if(j)for(const ne of j)ne(P)}let pr=null;const sr="firebase-installations-store";let tr=null;function Pt(){return tr||(tr=(0,Ee.X3)("firebase-installations-database",1,{upgrade:(b,P)=>{0===P&&b.createObjectStore(sr)}})),tr}function Tn(b,P){return bn.apply(this,arguments)}function bn(){return(bn=(0,U.Z)(function*(b,P){const j=nn(b),xe=(yield Pt()).transaction(sr,"readwrite"),qe=xe.objectStore(sr),It=yield qe.get(j);return yield qe.put(P,j),yield xe.done,(!It||It.fid!==P.fid)&&tn(b,P.fid),P})).apply(this,arguments)}function an(b){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,U.Z)(function*(b){const P=nn(b),ne=(yield Pt()).transaction(sr,"readwrite");yield ne.objectStore(sr).delete(P),yield ne.done})).apply(this,arguments)}function vr(b,P){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,U.Z)(function*(b,P){const j=nn(b),xe=(yield Pt()).transaction(sr,"readwrite"),qe=xe.objectStore(sr),It=yield qe.get(j),jt=P(It);return void 0===jt?yield qe.delete(j):yield qe.put(jt,j),yield xe.done,jt&&(!It||It.fid!==jt.fid)&&tn(b,jt.fid),jt})).apply(this,arguments)}function rt(b){return he.apply(this,arguments)}function he(){return(he=(0,U.Z)(function*(b){let P;const j=yield vr(b.appConfig,ne=>{const xe=Ie(ne),qe=ot(b,xe);return P=qe.registrationPromise,qe.installationEntry});return""===j.fid?{installationEntry:yield P}:{installationEntry:j,registrationPromise:P}})).apply(this,arguments)}function Ie(b){return zn(b||{fid:ht(),registrationStatus:0})}function ot(b,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(_t.create("app-offline"))};const j={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},ne=function Oe(b,P){return ut.apply(this,arguments)}(b,j);return{installationEntry:j,registrationPromise:ne}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:Rn(b)}:{installationEntry:P}}function ut(){return(ut=(0,U.Z)(function*(b,P){try{const j=yield Ke(b,P);return Tn(b.appConfig,j)}catch(j){throw pt(j)&&409===j.customData.serverCode?yield an(b.appConfig):yield Tn(b.appConfig,{fid:P.fid,registrationStatus:0}),j}})).apply(this,arguments)}function Rn(b){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,U.Z)(function*(b){let P=yield St(b.appConfig);for(;1===P.registrationStatus;)yield gt(100),P=yield St(b.appConfig);if(0===P.registrationStatus){const{installationEntry:j,registrationPromise:ne}=yield rt(b);return ne||j}return P})).apply(this,arguments)}function St(b){return vr(b,P=>{if(!P)throw _t.create("installation-not-found");return zn(P)})}function zn(b){return function on(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function mn(b,P){return _n.apply(this,arguments)}function _n(){return(_n=(0,U.Z)(function*({appConfig:b,heartbeatServiceProvider:P},j){const ne=ue(b,j),xe=L(b,j),qe=P.getImmediate({optional:!0});if(qe){const Xn=yield qe.getHeartbeatsHeader();Xn&&xe.append("x-firebase-client",Xn)}const jt={method:"POST",headers:xe,body:JSON.stringify({installation:{sdkVersion:Re,appId:b.appId}})},gn=yield Ze(()=>fetch(ne,jt));if(gn.ok)return be(yield gn.json());throw yield je("Generate Auth Token",gn)})).apply(this,arguments)}function ue(b,{fid:P}){return`${Ve(b)}/${P}/authTokens:generate`}function ee(b){return Se.apply(this,arguments)}function Se(){return(Se=(0,U.Z)(function*(b,P=!1){let j;const ne=yield vr(b.appConfig,qe=>{if(!dn(qe))throw _t.create("not-registered");const It=qe.authToken;if(!P&&yn(It))return qe;if(1===It.requestStatus)return j=Ae(b,P),qe;{if(!navigator.onLine)throw _t.create("app-offline");const jt=pn(qe);return j=bt(b,jt),jt}});return j?yield j:ne.authToken})).apply(this,arguments)}function Ae(b,P){return J.apply(this,arguments)}function J(){return(J=(0,U.Z)(function*(b,P){let j=yield tt(b.appConfig);for(;1===j.authToken.requestStatus;)yield gt(100),j=yield tt(b.appConfig);const ne=j.authToken;return 0===ne.requestStatus?ee(b,P):ne})).apply(this,arguments)}function tt(b){return vr(b,P=>{if(!dn(P))throw _t.create("not-registered");return function He(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function bt(b,P){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,U.Z)(function*(b,P){try{const j=yield mn(b,P),ne=Object.assign(Object.assign({},P),{authToken:j});return yield Tn(b.appConfig,ne),j}catch(j){if(!pt(j)||401!==j.customData.serverCode&&404!==j.customData.serverCode){const ne=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield Tn(b.appConfig,ne)}else yield an(b.appConfig);throw j}})).apply(this,arguments)}function dn(b){return void 0!==b&&2===b.registrationStatus}function yn(b){return 2===b.requestStatus&&!function zt(b){const P=Date.now();return P<b.creationTime||b.creationTime+b.expiresIn<P+36e5}(b)}function pn(b){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:P})}function ce(){return(ce=(0,U.Z)(function*(b){const P=b,{installationEntry:j,registrationPromise:ne}=yield rt(P);return ne?ne.catch(console.error):ee(P).catch(console.error),j.fid})).apply(this,arguments)}function At(){return(At=(0,U.Z)(function*(b,P=!1){const j=b;return yield Yt(j),(yield ee(j,P)).token})).apply(this,arguments)}function Yt(b){return st.apply(this,arguments)}function st(){return(st=(0,U.Z)(function*(b){const{registrationPromise:P}=yield rt(b);P&&(yield P)})).apply(this,arguments)}function gr(b){return _t.create("missing-app-config-values",{valueName:b})}const rn="installations",hi=b=>{const P=b.getProvider("app").getImmediate(),j=function Bn(b){if(!b||!b.options)throw gr("App Configuration");if(!b.name)throw gr("App Name");const P=["projectId","apiKey","appId"];for(const j of P)if(!b.options[j])throw gr(j);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(P);return{app:P,appConfig:j,heartbeatServiceProvider:(0,de._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},Yr=b=>{const P=b.getProvider("app").getImmediate(),j=(0,de._getProvider)(P,rn).getImmediate();return{getId:()=>function oe(b){return ce.apply(this,arguments)}(j),getToken:xe=>function Xe(b){return At.apply(this,arguments)}(j,xe)}};(function fi(){(0,de._registerComponent)(new Te.wA(rn,hi,"PUBLIC")),(0,de._registerComponent)(new Te.wA("installations-internal",Yr,"PRIVATE"))})(),(0,de.registerVersion)(Me,Y),(0,de.registerVersion)(Me,Y,"esm2017");const Or="@firebase/remote-config",Ir=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class oi{constructor(P,j,ne,xe){this.client=P,this.storage=j,this.storageCache=ne,this.logger=xe}isCachedDataFresh(P,j){if(!j)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-j,xe=ne<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${xe}.`),xe}fetch(P){var j=this;return(0,U.Z)(function*(){const[ne,xe]=yield Promise.all([j.storage.getLastSuccessfulFetchTimestampMillis(),j.storage.getLastSuccessfulFetchResponse()]);if(xe&&j.isCachedDataFresh(P.cacheMaxAgeMillis,ne))return xe;P.eTag=xe&&xe.eTag;const qe=yield j.client.fetch(P),It=[j.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===qe.status&&It.push(j.storage.setLastSuccessfulFetchResponse(qe)),yield Promise.all(It),qe})()}}function Qr(b=navigator){return b.languages&&b.languages[0]||b.language}class wi{constructor(P,j,ne,xe,qe,It){this.firebaseInstallations=P,this.sdkVersion=j,this.namespace=ne,this.projectId=xe,this.apiKey=qe,this.appId=It}fetch(P){var j=this;return(0,U.Z)(function*(){var ne,xe,qe;const[It,jt]=yield Promise.all([j.firebaseInstallations.getId(),j.firebaseInstallations.getToken()]),Xn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${j.projectId}/namespaces/${j.namespace}:fetch?key=${j.apiKey}`,un={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},En={sdk_version:j.sdkVersion,app_instance_id:It,app_instance_id_token:jt,app_id:j.appId,language_code:Qr()},di={method:"POST",headers:un,body:JSON.stringify(En)},Oi=fetch(Xn,di),es=new Promise((Us,Cs)=>{P.signal.addEventListener(()=>{const Da=new Error("The operation was aborted.");Da.name="AbortError",Cs(Da)})});let So;try{yield Promise.race([Oi,es]),So=yield Oi}catch(Us){let Cs="fetch-client-network";throw"AbortError"===(null===(ne=Us)||void 0===ne?void 0:ne.name)&&(Cs="fetch-timeout"),Ir.create(Cs,{originalErrorMessage:null===(xe=Us)||void 0===xe?void 0:xe.message})}let Ao=So.status;const Ca=So.headers.get("ETag")||void 0;let qs,Es;if(200===So.status){let Us;try{Us=yield So.json()}catch(Cs){throw Ir.create("fetch-client-parse",{originalErrorMessage:null===(qe=Cs)||void 0===qe?void 0:qe.message})}qs=Us.entries,Es=Us.state}if("INSTANCE_STATE_UNSPECIFIED"===Es?Ao=500:"NO_CHANGE"===Es?Ao=304:("NO_TEMPLATE"===Es||"EMPTY_CONFIG"===Es)&&(qs={}),304!==Ao&&200!==Ao)throw Ir.create("fetch-status",{httpStatus:Ao});return{status:Ao,eTag:Ca,config:qs}})()}}class ki{constructor(P,j){this.client=P,this.storage=j}fetch(P){var j=this;return(0,U.Z)(function*(){const ne=(yield j.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return j.attemptFetch(P,ne)})()}attemptFetch(P,{throttleEndTimeMillis:j,backoffCount:ne}){var xe=this;return(0,U.Z)(function*(){yield function Xr(b,P){return new Promise((j,ne)=>{const xe=Math.max(P-Date.now(),0),qe=setTimeout(j,xe);b.addEventListener(()=>{clearTimeout(qe),ne(Ir.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,j);try{const qe=yield xe.client.fetch(P);return yield xe.storage.deleteThrottleMetadata(),qe}catch(qe){if(!function Vs(b){if(!(b instanceof le.ZR&&b.customData))return!1;const P=Number(b.customData.httpStatus);return 429===P||500===P||503===P||504===P}(qe))throw qe;const It={throttleEndTimeMillis:Date.now()+(0,le.$s)(ne),backoffCount:ne+1};return yield xe.storage.setThrottleMetadata(It),xe.attemptFetch(P,It)}})()}}class hr{constructor(P,j,ne,xe,qe){this.app=P,this._client=j,this._storageCache=ne,this._storage=xe,this._logger=qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mn(b,P){var j;const ne=b.target.error||void 0;return Ir.create(P,{originalErrorMessage:ne&&(null===(j=ne)||void 0===j?void 0:j.message)})}const li="app_namespace_store";class Is{constructor(P,j,ne,xe=function As(){return new Promise((b,P)=>{var j;try{const ne=indexedDB.open("firebase_remote_config",1);ne.onerror=xe=>{P(Mn(xe,"storage-open"))},ne.onsuccess=xe=>{b(xe.target.result)},ne.onupgradeneeded=xe=>{0===xe.oldVersion&&xe.target.result.createObjectStore(li,{keyPath:"compositeKey"})}}catch(ne){P(Ir.create("storage-open",{originalErrorMessage:null===(j=ne)||void 0===j?void 0:j.message}))}})}()){this.appId=P,this.appName=j,this.namespace=ne,this.openDbPromise=xe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var j=this;return(0,U.Z)(function*(){const ne=yield j.openDbPromise;return new Promise((xe,qe)=>{var It;const gn=ne.transaction([li],"readonly").objectStore(li),Xn=j.createCompositeKey(P);try{const un=gn.get(Xn);un.onerror=En=>{qe(Mn(En,"storage-get"))},un.onsuccess=En=>{const di=En.target.result;xe(di?di.value:void 0)}}catch(un){qe(Ir.create("storage-get",{originalErrorMessage:null===(It=un)||void 0===It?void 0:It.message}))}})})()}set(P,j){var ne=this;return(0,U.Z)(function*(){const xe=yield ne.openDbPromise;return new Promise((qe,It)=>{var jt;const Xn=xe.transaction([li],"readwrite").objectStore(li),un=ne.createCompositeKey(P);try{const En=Xn.put({compositeKey:un,value:j});En.onerror=di=>{It(Mn(di,"storage-set"))},En.onsuccess=()=>{qe()}}catch(En){It(Ir.create("storage-set",{originalErrorMessage:null===(jt=En)||void 0===jt?void 0:jt.message}))}})})()}delete(P){var j=this;return(0,U.Z)(function*(){const ne=yield j.openDbPromise;return new Promise((xe,qe)=>{var It;const gn=ne.transaction([li],"readwrite").objectStore(li),Xn=j.createCompositeKey(P);try{const un=gn.delete(Xn);un.onerror=En=>{qe(Mn(En,"storage-delete"))},un.onsuccess=()=>{xe()}}catch(un){qe(Ir.create("storage-delete",{originalErrorMessage:null===(It=un)||void 0===It?void 0:It.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Ri{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,U.Z)(function*(){const j=P.storage.getLastFetchStatus(),ne=P.storage.getLastSuccessfulFetchTimestampMillis(),xe=P.storage.getActiveConfig(),qe=yield j;qe&&(P.lastFetchStatus=qe);const It=yield ne;It&&(P.lastSuccessfulFetchTimestampMillis=It);const jt=yield xe;jt&&(P.activeConfig=jt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Wo(){return gi.apply(this,arguments)}function gi(){return(gi=(0,U.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function Er(){(0,de._registerComponent)(new Te.wA("remote-config",function b(P,{instanceIdentifier:j}){const ne=P.getProvider("app").getImmediate(),xe=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ir.create("registration-window");if(!(0,le.hl)())throw Ir.create("indexed-db-unavailable");const{projectId:qe,apiKey:It,appId:jt}=ne.options;if(!qe)throw Ir.create("registration-project-id");if(!It)throw Ir.create("registration-api-key");if(!jt)throw Ir.create("registration-app-id");const gn=new Is(jt,ne.name,j=j||"firebase"),Xn=new Ri(gn),un=new ie.Yd(Or);un.logLevel=ie.in.ERROR;const En=new wi(xe,de.SDK_VERSION,j,qe,It,jt),di=new ki(En,gn),Oi=new oi(di,gn,Xn,un),es=new hr(ne,Oi,Xn,gn,un);return function Ye(b){const P=(0,le.m9)(b);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(es),es},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Or,"0.3.10"),(0,de.registerVersion)(Or,"0.3.10","esm2017")}();const Vr="/firebase-messaging-sw.js",Li="/firebase-cloud-messaging-push-scope",Fi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hs="google.c.a.c_id",Zi="google.c.a.c_l",io="google.c.a.ts",Mi="google.c.a.e";var Ui=(()=>{return(b=Ui||(Ui={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Ui;var b})();function kr(b){const P=new Uint8Array(b);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ts(b){const j=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(j),xe=new Uint8Array(ne.length);for(let qe=0;qe<ne.length;++qe)xe[qe]=ne.charCodeAt(qe);return xe}const ti="fcm_token_details_db",Rs="fcm_token_object_Store";function is(b){return kn.apply(this,arguments)}function kn(){return kn=(0,U.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(qe=>qe.name).includes(ti))return null;let P=null;return(yield(0,Ee.X3)(ti,5,{upgrade:(ne=(0,U.Z)(function*(xe,qe,It,jt){var gn;if(qe<2||!xe.objectStoreNames.contains(Rs))return;const Xn=jt.objectStore(Rs),un=yield Xn.index("fcmSenderId").get(b);if(yield Xn.clear(),un)if(2===qe){const En=un;if(!En.auth||!En.p256dh||!En.endpoint)return;P={token:En.fcmToken,createTime:null!==(gn=En.createTime)&&void 0!==gn?gn:Date.now(),subscriptionOptions:{auth:En.auth,p256dh:En.p256dh,endpoint:En.endpoint,swScope:En.swScope,vapidKey:"string"==typeof En.vapidKey?En.vapidKey:kr(En.vapidKey)}}}else if(3===qe){const En=un;P={token:En.fcmToken,createTime:En.createTime,subscriptionOptions:{auth:kr(En.auth),p256dh:kr(En.p256dh),endpoint:En.endpoint,swScope:En.swScope,vapidKey:kr(En.vapidKey)}}}else if(4===qe){const En=un;P={token:En.fcmToken,createTime:En.createTime,subscriptionOptions:{auth:kr(En.auth),p256dh:kr(En.p256dh),endpoint:En.endpoint,swScope:En.swScope,vapidKey:kr(En.vapidKey)}}}}),function(qe,It,jt,gn){return ne.apply(this,arguments)})})).close(),yield(0,Ee.Lj)(ti),yield(0,Ee.Lj)("fcm_vapid_details_db"),yield(0,Ee.Lj)("undefined"),mi(P)?P:null;var ne}),kn.apply(this,arguments)}function mi(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:P}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const $n="firebase-messaging-store";let Yi=null;function Sr(){return Yi||(Yi=(0,Ee.X3)("firebase-messaging-database",1,{upgrade:(b,P)=>{0===P&&b.createObjectStore($n)}})),Yi}function Ar(b){return A.apply(this,arguments)}function A(){return(A=(0,U.Z)(function*(b){const P=it(b),ne=yield(yield Sr()).transaction($n).objectStore($n).get(P);if(ne)return ne;{const xe=yield is(b.appConfig.senderId);if(xe)return yield $(b,xe),xe}})).apply(this,arguments)}function $(b,P){return M.apply(this,arguments)}function M(){return(M=(0,U.Z)(function*(b,P){const j=it(b),xe=(yield Sr()).transaction($n,"readwrite");return yield xe.objectStore($n).put(P,j),yield xe.done,P})).apply(this,arguments)}function z(b){return ve.apply(this,arguments)}function ve(){return(ve=(0,U.Z)(function*(b){const P=it(b),ne=(yield Sr()).transaction($n,"readwrite");yield ne.objectStore($n).delete(P),yield ne.done})).apply(this,arguments)}function it({appConfig:b}){return b.appId}const Mt=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fr(b,P){return rr.apply(this,arguments)}function rr(){return(rr=(0,U.Z)(function*(b,P){var j;const ne=yield Pi(b),xe=Bi(P),qe={method:"POST",headers:ne,body:JSON.stringify(xe)};let It;try{It=yield(yield fetch(Nt(b.appConfig),qe)).json()}catch(jt){throw Mt.create("token-subscribe-failed",{errorInfo:null===(j=jt)||void 0===j?void 0:j.toString()})}if(It.error)throw Mt.create("token-subscribe-failed",{errorInfo:It.error.message});if(!It.token)throw Mt.create("token-subscribe-no-token");return It.token})).apply(this,arguments)}function _r(b,P){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,U.Z)(function*(b,P){var j;const ne=yield Pi(b),xe=Bi(P.subscriptionOptions),qe={method:"PATCH",headers:ne,body:JSON.stringify(xe)};let It;try{It=yield(yield fetch(`${Nt(b.appConfig)}/${P.token}`,qe)).json()}catch(jt){throw Mt.create("token-update-failed",{errorInfo:null===(j=jt)||void 0===j?void 0:j.toString()})}if(It.error)throw Mt.create("token-update-failed",{errorInfo:It.error.message});if(!It.token)throw Mt.create("token-update-no-token");return It.token})).apply(this,arguments)}function cr(b,P){return ir.apply(this,arguments)}function ir(){return(ir=(0,U.Z)(function*(b,P){var j;const xe={method:"DELETE",headers:yield Pi(b)};try{const It=yield(yield fetch(`${Nt(b.appConfig)}/${P}`,xe)).json();if(It.error)throw Mt.create("token-unsubscribe-failed",{errorInfo:It.error.message})}catch(qe){throw Mt.create("token-unsubscribe-failed",{errorInfo:null===(j=qe)||void 0===j?void 0:j.toString()})}})).apply(this,arguments)}function Nt({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Pi(b){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,U.Z)(function*({appConfig:b,installations:P}){const j=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${j}`})})).apply(this,arguments)}function Bi({p256dh:b,auth:P,endpoint:j,vapidKey:ne}){const xe={web:{endpoint:j,auth:P,p256dh:b}};return ne!==Fi&&(xe.web.applicationPubKey=ne),xe}const Ti=6048e5;function Vi(b){return ri.apply(this,arguments)}function ri(){return(ri=(0,U.Z)(function*(b){const P=yield Lr(b.swRegistration,b.vapidKey),j={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:P.endpoint,auth:kr(P.getKey("auth")),p256dh:kr(P.getKey("p256dh"))},ne=yield Ar(b.firebaseDependencies);if(ne){if(Ms(ne.subscriptionOptions,j))return Date.now()>=ne.createTime+Ti?Et(b,{token:ne.token,createTime:Date.now(),subscriptionOptions:j}):ne.token;try{yield cr(b.firebaseDependencies,ne.token)}catch(xe){console.warn(xe)}return vo(b.firebaseDependencies,j)}return vo(b.firebaseDependencies,j)})).apply(this,arguments)}function Qi(b){return In.apply(this,arguments)}function In(){return(In=(0,U.Z)(function*(b){const P=yield Ar(b.firebaseDependencies);P&&(yield cr(b.firebaseDependencies,P.token),yield z(b.firebaseDependencies));const j=yield b.swRegistration.pushManager.getSubscription();return!j||j.unsubscribe()})).apply(this,arguments)}function Et(b,P){return xn.apply(this,arguments)}function xn(){return(xn=(0,U.Z)(function*(b,P){try{const j=yield _r(b.firebaseDependencies,P),ne=Object.assign(Object.assign({},P),{token:j,createTime:Date.now()});return yield $(b.firebaseDependencies,ne),j}catch(j){throw yield Qi(b),j}})).apply(this,arguments)}function vo(b,P){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,U.Z)(function*(b,P){const ne={token:yield fr(b,P),createTime:Date.now(),subscriptionOptions:P};return yield $(b,ne),ne.token})).apply(this,arguments)}function Lr(b,P){return os.apply(this,arguments)}function os(){return(os=(0,U.Z)(function*(b,P){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ts(P)})})).apply(this,arguments)}function Ms(b,P){return P.vapidKey===b.vapidKey&&P.endpoint===b.endpoint&&P.auth===b.auth&&P.p256dh===b.p256dh}function ei(b){const P={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function ji(b,P){if(!P.notification)return;b.notification={};const j=P.notification.title;j&&(b.notification.title=j);const ne=P.notification.body;ne&&(b.notification.body=ne);const xe=P.notification.image;xe&&(b.notification.image=xe)}(P,b),function so(b,P){!P.data||(b.data=P.data)}(P,b),function ko(b,P){var j,ne,xe,qe,It;if(!(P.fcmOptions||null!==(j=P.notification)&&void 0!==j&&j.click_action))return;b.fcmOptions={};const jt=null!==(xe=null===(ne=P.fcmOptions)||void 0===ne?void 0:ne.link)&&void 0!==xe?xe:null===(qe=P.notification)||void 0===qe?void 0:qe.click_action;jt&&(b.fcmOptions.link=jt);const gn=null===(It=P.fcmOptions)||void 0===It?void 0:It.analytics_label;gn&&(b.fcmOptions.analyticsLabel=gn)}(P,b),P}function zo(b){return"object"==typeof b&&!!b&&Hs in b}function Go(b,P){const j=[];for(let ne=0;ne<b.length;ne++)j.push(b.charAt(ne)),ne<P.length&&j.push(P.charAt(ne));return j.join("")}function ii(b){return Mt.create("missing-app-config-values",{valueName:b})}Go("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Go("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ui{constructor(P,j,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xe=function Ps(b){if(!b||!b.options)throw ii("App Configuration Object");if(!b.name)throw ii("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:j}=b;for(const ne of P)if(!j[ne])throw ii(ne);return{appName:b.name,projectId:j.projectId,apiKey:j.apiKey,appId:j.appId,senderId:j.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:xe,installations:j,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function Ns(b){return _i.apply(this,arguments)}function _i(){return(_i=(0,U.Z)(function*(b){var P;try{b.swRegistration=yield navigator.serviceWorker.register(Vr,{scope:Li}),b.swRegistration.update().catch(()=>{})}catch(j){throw Mt.create("failed-service-worker-registration",{browserErrorMessage:null===(P=j)||void 0===P?void 0:P.message})}})).apply(this,arguments)}function as(b,P){return ms.apply(this,arguments)}function ms(){return(ms=(0,U.Z)(function*(b,P){if(!P&&!b.swRegistration&&(yield Ns(b)),P||!b.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Mt.create("invalid-sw-registration");b.swRegistration=P}})).apply(this,arguments)}function $s(b,P){return oo.apply(this,arguments)}function oo(){return(oo=(0,U.Z)(function*(b,P){P?b.vapidKey=P:b.vapidKey||(b.vapidKey=Fi)})).apply(this,arguments)}function Os(){return(Os=(0,U.Z)(function*(b,P){if(!navigator)throw Mt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mt.create("permission-blocked");return yield $s(b,P?.vapidKey),yield as(b,P?.serviceWorkerRegistration),Vi(b)})).apply(this,arguments)}function Co(b,P,j){return xs.apply(this,arguments)}function xs(){return(xs=(0,U.Z)(function*(b,P,j){const ne=Do(P);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:j[Hs],message_name:j[Zi],message_time:j[io],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Do(b){switch(b){case Ui.NOTIFICATION_CLICKED:return"notification_open";case Ui.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function bs(){return(bs=(0,U.Z)(function*(b,P){const j=P.data;if(!j.isFirebaseMessaging)return;b.onMessageHandler&&j.messageType===Ui.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(ei(j)):b.onMessageHandler.next(ei(j)));const ne=j.data;zo(ne)&&"1"===ne[Mi]&&(yield Co(b,j.messageType,ne))})).apply(this,arguments)}const F="@firebase/messaging",f="0.9.15",m=b=>{const P=new ui(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",j=>function Ko(b,P){return bs.apply(this,arguments)}(P,j)),P},R=b=>{const P=b.getProvider("messaging").getImmediate();return{getToken:ne=>function Eo(b,P){return Os.apply(this,arguments)}(P,ne)}};function K(){return pe.apply(this,arguments)}function pe(){return(pe=(0,U.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function B(){(0,de._registerComponent)(new Te.wA("messaging",m,"PUBLIC")),(0,de._registerComponent)(new Te.wA("messaging-internal",R,"PRIVATE")),(0,de.registerVersion)(F,f),(0,de.registerVersion)(F,f,"esm2017")}();const An="analytics",Wn="firebase_id",zr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jr="https://www.googletagmanager.com/gtag/js",Rr=new ie.Yd("@firebase/analytics");function ai(b){return Promise.all(b.map(P=>P.catch(j=>j)))}function Mr(b,P){const j=document.createElement("script");j.src=`${jr}?l=${b}&id=${P}`,j.async=!0,document.head.appendChild(j)}function Fr(b,P,j,ne,xe,qe){return qi.apply(this,arguments)}function qi(){return(qi=(0,U.Z)(function*(b,P,j,ne,xe,qe){const It=ne[xe];try{if(It)yield P[It];else{const gn=(yield ai(j)).find(Xn=>Xn.measurementId===xe);gn&&(yield P[gn.appId])}}catch(jt){Rr.error(jt)}b("config",xe,qe)})).apply(this,arguments)}function bi(b,P,j,ne,xe){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,U.Z)(function*(b,P,j,ne,xe){try{let qe=[];if(xe&&xe.send_to){let It=xe.send_to;Array.isArray(It)||(It=[It]);const jt=yield ai(j);for(const gn of It){const Xn=jt.find(En=>En.measurementId===gn),un=Xn&&P[Xn.appId];if(!un){qe=[];break}qe.push(un)}}0===qe.length&&(qe=Object.values(P)),yield Promise.all(qe),b("event",ne,xe||{})}catch(qe){Rr.error(qe)}})).apply(this,arguments)}function lo(){const b=window.document.getElementsByTagName("script");for(const P of Object.values(b))if(P.src&&P.src.includes(jr))return P;return null}const $t=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jn=new class Kr{constructor(P={},j=1e3){this.throttleMetadata=P,this.intervalMillis=j}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,j){this.throttleMetadata[P]=j}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function yr(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function ci(b){return vn.apply(this,arguments)}function vn(){return(vn=(0,U.Z)(function*(b){var P;const{appId:j,apiKey:ne}=b,xe={method:"GET",headers:yr(ne)},qe=zr.replace("{app-id}",j),It=yield fetch(qe,xe);if(200!==It.status&&304!==It.status){let jt="";try{const gn=yield It.json();null!==(P=gn.error)&&void 0!==P&&P.message&&(jt=gn.error.message)}catch{}throw $t.create("config-fetch-failed",{httpStatus:It.status,responseMessage:jt})}return It.json()})).apply(this,arguments)}function _s(b){return ys.apply(this,arguments)}function ys(){return(ys=(0,U.Z)(function*(b,P=Jn,j){const{appId:ne,apiKey:xe,measurementId:qe}=b.options;if(!ne)throw $t.create("no-app-id");if(!xe){if(qe)return{measurementId:qe,appId:ne};throw $t.create("no-api-key")}const It=P.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},jt=new vs;return setTimeout((0,U.Z)(function*(){jt.abort()}),void 0!==j?j:6e4),Nr({appId:ne,apiKey:xe,measurementId:qe},It,jt,P)})).apply(this,arguments)}function Nr(b,P,j){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,U.Z)(function*(b,{throttleEndTimeMillis:P,backoffCount:j},ne,xe=Jn){var qe,It;const{appId:jt,measurementId:gn}=b;try{yield qr(ne,P)}catch(Xn){if(gn)return Rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gn} provided in the "measurementId" field in the local Firebase config. [${null===(qe=Xn)||void 0===qe?void 0:qe.message}]`),{appId:jt,measurementId:gn};throw Xn}try{const Xn=yield ci(b);return xe.deleteThrottleMetadata(jt),Xn}catch(Xn){const un=Xn;if(!ks(un)){if(xe.deleteThrottleMetadata(jt),gn)return Rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gn} provided in the "measurementId" field in the local Firebase config. [${un?.message}]`),{appId:jt,measurementId:gn};throw Xn}const En=503===Number(null===(It=un?.customData)||void 0===It?void 0:It.httpStatus)?(0,le.$s)(j,xe.intervalMillis,30):(0,le.$s)(j,xe.intervalMillis),di={throttleEndTimeMillis:Date.now()+En,backoffCount:j+1};return xe.setThrottleMetadata(jt,di),Rr.debug(`Calling attemptFetch again in ${En} millis`),Nr(b,di,ne,xe)}})).apply(this,arguments)}function qr(b,P){return new Promise((j,ne)=>{const xe=Math.max(P-Date.now(),0),qe=setTimeout(j,xe);b.addEventListener(()=>{clearTimeout(qe),ne($t.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function ks(b){if(!(b instanceof le.ZR&&b.customData))return!1;const P=Number(b.customData.httpStatus);return 429===P||500===P||503===P||504===P}class vs{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}function us(){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,U.Z)(function*(){var b;if(!(0,le.hl)())return Rr.warn($t.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(P){return Rr.warn($t.create("indexeddb-unavailable",{errorInfo:null===(b=P)||void 0===b?void 0:b.toString()}).message),!1}return!0})).apply(this,arguments)}function Fs(){return(Fs=(0,U.Z)(function*(b,P,j,ne,xe,qe,It){var jt;const gn=_s(b);gn.then(Oi=>{j[Oi.measurementId]=Oi.appId,b.options.measurementId&&Oi.measurementId!==b.options.measurementId&&Rr.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Oi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Oi=>Rr.error(Oi)),P.push(gn);const Xn=us().then(Oi=>{if(Oi)return ne.getId()}),[un,En]=yield Promise.all([gn,Xn]);lo()||Mr(qe,un.measurementId),xe("js",new Date);const di=null!==(jt=It?.config)&&void 0!==jt?jt:{};return di.origin="firebase",di.update=!0,null!=En&&(di[Wn]=En),xe("config",un.measurementId,di),un.measurementId})).apply(this,arguments)}class Ws{constructor(P){this.app=P}_delete(){return delete cs[this.app.options.appId],Promise.resolve()}}let cs={},uo=[];const Zo={};let E,y,co="dataLayer",g=!1;function G(b,P,j){!function x(){const b=[];if((0,le.ru)()&&b.push("This is a browser extension environment."),(0,le.zI)()||b.push("Cookies are not available."),b.length>0){const P=b.map((ne,xe)=>`(${xe+1}) ${ne}`).join(" "),j=$t.create("invalid-analytics-context",{errorInfo:P});Rr.warn(j.message)}}();const ne=b.options.appId;if(!ne)throw $t.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw $t.create("no-api-key");Rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cs[ne])throw $t.create("already-exists",{id:ne});if(!g){!function Gr(b){let P=[];Array.isArray(window[b])?P=window[b]:window[b]=P}(co);const{wrappedGtag:qe,gtagCore:It}=function ao(b,P,j,ne,xe){let qe=function(...It){window[ne].push(arguments)};return window[xe]&&"function"==typeof window[xe]&&(qe=window[xe]),window[xe]=function ls(b,P,j,ne){function qe(){return(qe=(0,U.Z)(function*(It,jt,gn){try{"event"===It?yield bi(b,P,j,jt,gn):"config"===It?yield Fr(b,P,j,ne,jt,gn):b("set",jt)}catch(Xn){Rr.error(Xn)}})).apply(this,arguments)}return function xe(It,jt,gn){return qe.apply(this,arguments)}}(qe,b,P,j),{gtagCore:qe,wrappedGtag:window[xe]}}(cs,uo,Zo,co,"gtag");y=qe,E=It,g=!0}return cs[ne]=function wo(b,P,j,ne,xe,qe,It){return Fs.apply(this,arguments)}(b,uo,Zo,P,E,co,j),new Ws(b)}function _e(){return(_e=(0,U.Z)(function*(b,P,j,ne,xe){if(xe&&xe.global)b("event",j,ne);else{const qe=yield P;b("event",j,Object.assign(Object.assign({},ne),{send_to:qe}))}})).apply(this,arguments)}function Gs(){return fo.apply(this,arguments)}function fo(){return(fo=(0,U.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const _a="@firebase/analytics";!function Kl(){(0,de._registerComponent)(new Te.wA(An,(P,{options:j})=>G(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,de._registerComponent)(new Te.wA("analytics-internal",function b(P){try{const j=P.getProvider(An).getImmediate();return{logEvent:(ne,xe,qe)=>function ma(b,P,j,ne){b=(0,le.m9)(b),function re(b,P,j,ne,xe){return _e.apply(this,arguments)}(y,cs[b.app.options.appId],P,j,ne).catch(xe=>Rr.error(xe))}(j,ne,xe,qe)}}catch(j){throw $t.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,de.registerVersion)(_a,"0.7.11"),(0,de.registerVersion)(_a,"0.7.11","esm2017")}();var wl=O(4408),Zl=O(7565);const Yl=new class Lo extends Zl.v{}(class ya extends wl.o{constructor(P,j){super(P,j),this.scheduler=P,this.work=j}schedule(P,j=0){return j>0?super.schedule(P,j):(this.delay=j,this.state=P,this.scheduler.flush(this),this)}execute(P,j){return j>0||this.closed?super.execute(P,j):this._execute(P,j)}requestAsyncId(P,j,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(P,j,ne):P.flush(this)}});var yi=O(4986),ra=O(8505),Io=O(9468),La=O(5363);const Tl=new D.GfV("7.4.1"),Si="__angularfire_symbol__analyticsIsSupportedValue",Ss="__angularfire_symbol__analyticsIsSupported",Ks="__angularfire_symbol__remoteConfigIsSupportedValue",po="__angularfire_symbol__remoteConfigIsSupported",Zs="__angularfire_symbol__messagingIsSupportedValue",ia="__angularfire_symbol__messagingIsSupported";function va(b,P,j){if(P){if(1===P.length)return P[0];const qe=P.filter(It=>It.app===j);if(1===qe.length)return qe[0]}return j.container.getProvider(b).getImmediate({optional:!0})}globalThis[Ss]||(globalThis[Ss]=Gs().then(b=>globalThis[Si]=b).catch(()=>globalThis[Si]=!1)),globalThis[ia]||(globalThis[ia]=K().then(b=>globalThis[Zs]=b).catch(()=>globalThis[Zs]=!1)),globalThis[po]||(globalThis[po]=Wo().then(b=>globalThis[Ks]=b).catch(()=>globalThis[Ks]=!1));const Xi=(b,P)=>{const j=P?[P]:(0,T.C6)(),ne=[];return j.forEach(xe=>{xe.container.getProvider(b).instances.forEach(It=>{ne.includes(It)||ne.push(It)})}),ne};function To(){}class Ys{constructor(P,j=Yl){this.zone=P,this.delegate=j}now(){return this.delegate.now()}schedule(P,j,ne){const xe=this.zone;return this.delegate.schedule(function(It){xe.runGuarded(()=>{P.apply(this,[It])})},j,ne)}}class Fo{constructor(P){this.zone=P,this.task=null}call(P,j){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",To,{},To,To)),j.pipe((0,ra.b)({next:ne,complete:ne,error:ne})).subscribe(P).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sa=(()=>{class b{constructor(j){this.ngZone=j,this.outsideAngular=j.runOutsideAngular(()=>new Ys(Zone.current)),this.insideAngular=j.run(()=>new Ys(Zone.current,yi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(j){return new(j||b)(D.LFG(D.R0b))},b.\u0275prov=D.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Qs(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Ea(b){return Qs(),function oa(b){return function(j){return(j=j.lift(new Fo(b.ngZone))).pipe((0,Io.R)(b.outsideAngular),(0,La.Q)(b.insideAngular))}}(Qs())(b)}},3673:(kt,ke,O)=>{O.d(ke,{$:()=>Nt,A:()=>te,B:()=>ze,G:()=>Yr,H:()=>xr,J:()=>ki,L:()=>yn,M:()=>gi,N:()=>xo,P:()=>Ss,Q:()=>Hs,R:()=>Kl,T:()=>Zi,U:()=>Fi,V:()=>Ui,W:()=>kr,X:()=>is,Y:()=>mt,Z:()=>fr,_:()=>_r,a:()=>Kn,a0:()=>Vi,a1:()=>Qi,a2:()=>Et,a3:()=>vo,a4:()=>Lr,a5:()=>Ms,a6:()=>ji,a7:()=>so,a8:()=>zo,a9:()=>Go,aA:()=>Es,aB:()=>es,aC:()=>b,aD:()=>Sl,aE:()=>wr,aI:()=>yr,aL:()=>Mi,aa:()=>Ns,ab:()=>as,ac:()=>$s,af:()=>Co,ag:()=>Do,ah:()=>Ko,ak:()=>$n,al:()=>Le,an:()=>jr,ao:()=>qi,ap:()=>ae,aq:()=>Ze,ar:()=>me,as:()=>Yt,at:()=>pt,au:()=>wa,av:()=>Al,aw:()=>Ve,ax:()=>ge,ay:()=>Ne,az:()=>zt,b:()=>$t,c:()=>va,d:()=>Fo,e:()=>To,f:()=>ne,g:()=>Xn,h:()=>It,i:()=>G,j:()=>di,k:()=>Js,l:()=>Yl,m:()=>xl,o:()=>Ee,r:()=>yi,s:()=>Zl,u:()=>Tl});var D=O(5861),T=O(2090),U=O(9681),de=O(655),le=O(1877),Te=O(4859);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ze=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Je=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new T.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$e=new le.Yd("@firebase/auth");function _t(_,...c){$e.logLevel<=le.in.ERROR&&$e.error(`Auth (${U.SDK_VERSION}): ${_}`,...c)}function pt(_,...c){throw wt(_,...c)}function Ve(_,...c){return wt(_,...c)}function be(_,c,d){const C=Object.assign(Object.assign({},Je()),{[c]:d});return new T.LL("auth","Firebase",C).create(c,{appName:_.name})}function je(_,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&pt(_,"argument-error"),be(_,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wt(_,...c){if("string"!=typeof _){const d=c[0],C=[...c.slice(1)];return C[0]&&(C[0].appName=_.name),_._errorFactory.create(d,...C)}return ft.create(_,...c)}function ge(_,c,...d){if(!_)throw wt(c,...d)}function L(_){const c="INTERNAL ASSERTION FAILED: "+_;throw _t(c),new Error(c)}function Ze(_,c){_||L(c)}const Ce=new Map;function Ne(_){Ze(_ instanceof Function,"Expected a class definition");let c=Ce.get(_);return c?(Ze(c instanceof _,"Instance stored in cache mismatched with class"),c):(c=new _,Ce.set(_,c),c)}function Be(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function gt(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ht{constructor(c,d){this.shortDelay=c,this.longDelay=d,Ze(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,T.uI)()||(0,T.b$)()}get(){return function xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,T.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(_,c){Ze(_.emulator,"Emulator should always be set here");const{url:d}=_.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class nn{static initialize(c,d,C){this.fetchImpl=c,d&&(this.headersImpl=d),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void L("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void L("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void L("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tn=new ht(3e4,6e4);function Jt(_,c){return _.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:_.tenantId}):c}function Fn(_,c,d,C){return fn.apply(this,arguments)}function fn(){return(fn=(0,D.Z)(function*(_,c,d,C,V={}){return Pr(_,V,(0,D.Z)(function*(){let Z={},We={};C&&("GET"===c?We=C:Z={body:JSON.stringify(C)});const vt=(0,T.xO)(Object.assign({key:_.config.apiKey},We)).slice(1),qt=yield _._getAdditionalHeaders();return qt["Content-Type"]="application/json",_.languageCode&&(qt["X-Firebase-Locale"]=_.languageCode),nn.fetch()(mr(_,_.config.apiHost,d,vt),Object.assign({method:c,headers:qt,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function Pr(_,c,d){return pr.apply(this,arguments)}function pr(){return(pr=(0,D.Z)(function*(_,c,d){_._canInitEmulator=!1;const C=Object.assign(Object.assign({},Xt),c);try{const V=new lr(_),Z=yield Promise.race([d(),V.promise]);V.clearNetworkTimeout();const We=yield Z.json();if("needConfirmation"in We)throw sr(_,"account-exists-with-different-credential",We);if(Z.ok&&!("errorMessage"in We))return We;{const vt=Z.ok?We.errorMessage:We.error.message,[qt,wn]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qt)throw sr(_,"credential-already-in-use",We);if("EMAIL_EXISTS"===qt)throw sr(_,"email-already-in-use",We);if("USER_DISABLED"===qt)throw sr(_,"user-disabled",We);const er=C[qt]||qt.toLowerCase().replace(/[_\s]+/g,"-");if(wn)throw be(_,er,wn);pt(_,er)}}catch(V){if(V instanceof T.ZR)throw V;pt(_,"network-request-failed")}})).apply(this,arguments)}function Un(_,c,d,C){return On.apply(this,arguments)}function On(){return(On=(0,D.Z)(function*(_,c,d,C,V={}){const Z=yield Fn(_,c,d,C,V);return"mfaPendingCredential"in Z&&pt(_,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function mr(_,c,d,C){const V=`${c}${d}?${C}`;return _.config.emulator?hn(_.config,V):`${_.config.apiScheme}://${V}`}class lr{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,C)=>{this.timer=setTimeout(()=>C(Ve(this.auth,"network-request-failed")),tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(_,c,d){const C={appName:_.name};d.email&&(C.email=d.email),d.phoneNumber&&(C.phoneNumber=d.phoneNumber);const V=Ve(_,c,C);return V.customData._tokenResponse=d,V}function Pt(){return(Pt=(0,D.Z)(function*(_,c){return Fn(_,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Tn(_,c){return bn.apply(this,arguments)}function bn(){return(bn=(0,D.Z)(function*(_,c){return Fn(_,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function an(_,c){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,D.Z)(function*(_,c){return Fn(_,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function vr(_){if(_)try{const c=new Date(Number(_));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function he(){return(he=(0,D.Z)(function*(_,c=!1){const d=(0,T.m9)(_),C=yield d.getIdToken(c),V=ot(C);ge(V&&V.exp&&V.auth_time&&V.iat,d.auth,"internal-error");const Z="object"==typeof V.firebase?V.firebase:void 0,We=Z?.sign_in_provider;return{claims:V,token:C,authTime:vr(Ie(V.auth_time)),issuedAtTime:vr(Ie(V.iat)),expirationTime:vr(Ie(V.exp)),signInProvider:We||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function Ie(_){return 1e3*Number(_)}function ot(_){var c;const[d,C,V]=_.split(".");if(void 0===d||void 0===C||void 0===V)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,T.tV)(C);return Z?JSON.parse(Z):(_t("Failed to decode base64 JWT payload"),null)}catch(Z){return _t("Caught error parsing JWT payload as JSON",null===(c=Z)||void 0===c?void 0:c.toString()),null}}function ut(_,c){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,D.Z)(function*(_,c,d=!1){if(d)return c;try{return yield c}catch(C){throw C instanceof T.ZR&&Cn(C)&&_.auth.currentUser===_&&(yield _.auth.signOut()),C}})).apply(this,arguments)}function Cn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class St{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const V=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const C=this.getInterval(c);this.timerId=setTimeout((0,D.Z)(function*(){yield d.iteration()}),C)}iteration(){var c=this;return(0,D.Z)(function*(){var d;try{yield c.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(d=C)||void 0===d?void 0:d.code)&&c.schedule(!0))}c.schedule()})()}}class zn{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=vr(this.lastLoginAt),this.creationTime=vr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function on(_){return mn.apply(this,arguments)}function mn(){return(mn=(0,D.Z)(function*(_){var c;const d=_.auth,C=yield _.getIdToken(),V=yield ut(_,an(d,{idToken:C}));ge(V?.users.length,d,"internal-error");const Z=V.users[0];_._notifyReloadListener(Z);const We=null!==(c=Z.providerUserInfo)&&void 0!==c&&c.length?Se(Z.providerUserInfo):[],vt=ee(_.providerData,We),er=!!_.isAnonymous&&!(_.email&&Z.passwordHash||vt?.length),$r={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:vt,metadata:new zn(Z.createdAt,Z.lastLoginAt),isAnonymous:er};Object.assign(_,$r)})).apply(this,arguments)}function ue(){return(ue=(0,D.Z)(function*(_){const c=(0,T.m9)(_);yield on(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function ee(_,c){return[..._.filter(C=>!c.some(V=>V.providerId===C.providerId)),...c]}function Se(_){return _.map(c=>{var{providerId:d}=c,C=(0,de._T)(c,["providerId"]);return{providerId:d,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function J(){return(J=(0,D.Z)(function*(_,c){const d=yield Pr(_,{},(0,D.Z)(function*(){const C=(0,T.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:V,apiKey:Z}=_.config,We=mr(_,V,"/v1/token",`key=${Z}`),vt=yield _._getAdditionalHeaders();return vt["Content-Type"]="application/x-www-form-urlencoded",nn.fetch()(We,{method:"POST",headers:vt,body:C})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ge(c.idToken,"internal-error"),ge(typeof c.idToken<"u","internal-error"),ge(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Oe(_){const c=ot(_);return ge(c,"internal-error"),ge(typeof c.exp<"u","internal-error"),ge(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var C=this;return(0,D.Z)(function*(){return ge(!C.accessToken||C.refreshToken,c,"user-token-expired"),d||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(c,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var C=this;return(0,D.Z)(function*(){const{accessToken:V,refreshToken:Z,expiresIn:We}=yield function Ae(_,c){return J.apply(this,arguments)}(c,d);C.updateTokensAndExpiration(V,Z,Number(We))})()}updateTokensAndExpiration(c,d,C){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(c,d){const{refreshToken:C,accessToken:V,expirationTime:Z}=d,We=new tt;return C&&(ge("string"==typeof C,"internal-error",{appName:c}),We.refreshToken=C),V&&(ge("string"==typeof V,"internal-error",{appName:c}),We.accessToken=V),Z&&(ge("number"==typeof Z,"internal-error",{appName:c}),We.expirationTime=Z),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return L("not implemented")}}function bt(_,c){ge("string"==typeof _||typeof _>"u","internal-error",{appName:c})}class Ut{constructor(c){var{uid:d,auth:C,stsTokenManager:V}=c,Z=(0,de._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new St(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=C,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new zn(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,D.Z)(function*(){const C=yield ut(d,d.stsTokenManager.getToken(d.auth,c));return ge(C,d.auth,"internal-error"),d.accessToken!==C&&(d.accessToken=C,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),C})()}getIdTokenResult(c){return function rt(_){return he.apply(this,arguments)}(this,c)}reload(){return function _n(_){return ue.apply(this,arguments)}(this)}_assign(c){this!==c&&(ge(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new Ut(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var C=this;return(0,D.Z)(function*(){let V=!1;c.idToken&&c.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(c),V=!0),d&&(yield on(C)),yield C.auth._persistUserIfCurrent(C),V&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var c=this;return(0,D.Z)(function*(){const d=yield c.getIdToken();return yield ut(c,function tr(_,c){return Pt.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var C,V,Z,We,vt,qt,wn,er;const $r=null!==(C=d.displayName)&&void 0!==C?C:void 0,Xs=null!==(V=d.email)&&void 0!==V?V:void 0,ns=null!==(Z=d.phoneNumber)&&void 0!==Z?Z:void 0,Mo=null!==(We=d.photoURL)&&void 0!==We?We:void 0,ba=null!==(vt=d.tenantId)&&void 0!==vt?vt:void 0,cl=null!==(qt=d._redirectEventId)&&void 0!==qt?qt:void 0,$a=null!==(wn=d.createdAt)&&void 0!==wn?wn:void 0,Ku=null!==(er=d.lastLoginAt)&&void 0!==er?er:void 0,{uid:iu,emailVerified:Zu,isAnonymous:Wa,providerData:za,stsTokenManager:dl}=d;ge(iu&&dl,c,"internal-error");const kc=tt.fromJSON(this.name,dl);ge("string"==typeof iu,c,"internal-error"),bt($r,c.name),bt(Xs,c.name),ge("boolean"==typeof Zu,c,"internal-error"),ge("boolean"==typeof Wa,c,"internal-error"),bt(ns,c.name),bt(Mo,c.name),bt(ba,c.name),bt(cl,c.name),bt($a,c.name),bt(Ku,c.name);const hl=new Ut({uid:iu,auth:c,email:Xs,emailVerified:Zu,displayName:$r,isAnonymous:Wa,photoURL:Mo,phoneNumber:ns,tenantId:ba,stsTokenManager:kc,createdAt:$a,lastLoginAt:Ku});return za&&Array.isArray(za)&&(hl.providerData=za.map(Ll=>Object.assign({},Ll))),cl&&(hl._redirectEventId=cl),hl}static _fromIdTokenResponse(c,d,C=!1){return(0,D.Z)(function*(){const V=new tt;V.updateFromServerResponse(d);const Z=new Ut({uid:d.localId,auth:c,stsTokenManager:V,isAnonymous:C});return yield on(Z),Z})()}}const yn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.Z)(function*(){return!0})()}_set(d,C){var V=this;return(0,D.Z)(function*(){V.storage[d]=C})()}_get(d){var C=this;return(0,D.Z)(function*(){const V=C.storage[d];return void 0===V?null:V})()}_remove(d){var C=this;return(0,D.Z)(function*(){delete C.storage[d]})()}_addListener(d,C){}_removeListener(d,C){}}return _.type="NONE",_})();function zt(_,c,d){return`firebase:${_}:${c}:${d}`}class pn{constructor(c,d,C){this.persistence=c,this.auth=d,this.userKey=C;const{config:V,name:Z}=this.auth;this.fullUserKey=zt(this.userKey,V.apiKey,Z),this.fullPersistenceKey=zt("persistence",V.apiKey,Z),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,D.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?Ut._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,D.Z)(function*(){if(d.persistence===c)return;const C=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,C?d.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,C="authUser"){return(0,D.Z)(function*(){if(!d.length)return new pn(Ne(yn),c,C);const V=(yield Promise.all(d.map(function(){var wn=(0,D.Z)(function*(er){if(yield er._isAvailable())return er});return function(er){return wn.apply(this,arguments)}}()))).filter(wn=>wn);let Z=V[0]||Ne(yn);const We=zt(C,c.config.apiKey,c.name);let vt=null;for(const wn of d)try{const er=yield wn._get(We);if(er){const $r=Ut._fromJSON(c,er);wn!==Z&&(vt=$r),Z=wn;break}}catch{}const qt=V.filter(wn=>wn._shouldAllowMigration);return Z._shouldAllowMigration&&qt.length?(Z=qt[0],vt&&(yield Z._set(We,vt.toJSON())),yield Promise.all(d.map(function(){var wn=(0,D.Z)(function*(er){if(er!==Z)try{yield er._remove(We)}catch{}});return function(er){return wn.apply(this,arguments)}}())),new pn(Z,c,C)):new pn(Z,c,C)})()}}function He(_){const c=_.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(At(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(oe(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(st(c))return"Blackberry";if(Ft(c))return"Webos";if(ce(c))return"Safari";if((c.includes("chrome/")||Xe(c))&&!c.includes("edge/"))return"Chrome";if(Yt(c))return"Android";{const C=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function oe(_=(0,T.z$)()){return/firefox\//i.test(_)}function ce(_=(0,T.z$)()){const c=_.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Xe(_=(0,T.z$)()){return/crios\//i.test(_)}function At(_=(0,T.z$)()){return/iemobile/i.test(_)}function Yt(_=(0,T.z$)()){return/android/i.test(_)}function st(_=(0,T.z$)()){return/blackberry/i.test(_)}function Ft(_=(0,T.z$)()){return/webos/i.test(_)}function me(_=(0,T.z$)()){return/iphone|ipad|ipod/i.test(_)}function ae(_=(0,T.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function at(_=(0,T.z$)()){return me(_)||Yt(_)||Ft(_)||st(_)||/windows phone/i.test(_)||At(_)}function Bn(_,c=[]){let d;switch(_){case"Browser":d=He((0,T.z$)());break;case"Worker":d=`${He((0,T.z$)())}-${_}`;break;default:d=_}const C=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${U.SDK_VERSION}/${C}`}class gr{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const C=Z=>new Promise((We,vt)=>{try{We(c(Z))}catch(qt){vt(qt)}});C.onAbort=d,this.queue.push(C);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,D.Z)(function*(){var C;if(d.auth.currentUser===c)return;const V=[];try{for(const Z of d.queue)yield Z(c),Z.onAbort&&V.push(Z.onAbort)}catch(Z){V.reverse();for(const We of V)try{We()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=Z)||void 0===C?void 0:C.message})}})()}}class rn{constructor(c,d,C){this.app=c,this.heartbeatServiceProvider=d,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hi(this),this.idTokenSubscription=new hi(this),this.beforeStateQueue=new gr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(c,d){var C=this;return d&&(this._popupRedirectResolver=Ne(d)),this._initializationPromise=this.queue((0,D.Z)(function*(){var V,Z;if(!C._deleted&&(C.persistenceManager=yield pn.create(C,c),!C._deleted)){if(null!==(V=C._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(d),C.lastNotifiedUid=(null===(Z=C.currentUser)||void 0===Z?void 0:Z.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,D.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,D.Z)(function*(){var C;const V=yield d.assertedPersistence.getCurrentUser();let Z=V,We=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const vt=null===(C=d.redirectUser)||void 0===C?void 0:C._redirectEventId,qt=Z?._redirectEventId,wn=yield d.tryRedirectSignIn(c);(!vt||vt===qt)&&wn?.user&&(Z=wn.user,We=!0)}if(!Z)return d.directlySetCurrentUser(null);if(!Z._redirectEventId){if(We)try{yield d.beforeStateQueue.runMiddleware(Z)}catch(vt){Z=V,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(vt))}return Z?d.reloadAndSetCurrentUserOrClear(Z):d.directlySetCurrentUser(null)}return ge(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===Z._redirectEventId?d.directlySetCurrentUser(Z):d.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(c){var d=this;return(0,D.Z)(function*(){let C=null;try{C=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,D.Z)(function*(){var C;try{yield on(c)}catch(V){if("auth/network-request-failed"!==(null===(C=V)||void 0===C?void 0:C.code))return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Wt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var c=this;return(0,D.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,D.Z)(function*(){const C=c?(0,T.m9)(c):null;return C&&ge(C.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(C&&C._clone(d))})()}_updateCurrentUser(c,d=!1){var C=this;return(0,D.Z)(function*(){if(!C._deleted)return c&&ge(C.tenantId===c.tenantId,C,"tenant-id-mismatch"),d||(yield C.beforeStateQueue.runMiddleware(c)),C.queue((0,D.Z)(function*(){yield C.directlySetCurrentUser(c),C.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,D.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,D.Z)(function*(){yield d.assertedPersistence.setPersistence(Ne(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new T.LL("auth","Firebase",c())}onAuthStateChanged(c,d,C){return this.registerStateListener(this.authStateSubscription,c,d,C)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,C){return this.registerStateListener(this.idTokenSubscription,c,d,C)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var C=this;return(0,D.Z)(function*(){const V=yield C.getOrInitRedirectPersistenceManager(d);return null===c?V.removeCurrentUser():V.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,D.Z)(function*(){if(!d.redirectPersistenceManager){const C=c&&Ne(c)||d._popupRedirectResolver;ge(C,d,"argument-error"),d.redirectPersistenceManager=yield pn.create(d,[Ne(C._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,D.Z)(function*(){var C,V;return d._isInitialized&&(yield d.queue((0,D.Z)(function*(){}))),(null===(C=d._currentUser)||void 0===C?void 0:C._redirectEventId)===c?d._currentUser:(null===(V=d.redirectUser)||void 0===V?void 0:V._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,D.Z)(function*(){if(c===d.currentUser)return d.queue((0,D.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,C,V){if(this._deleted)return()=>{};const Z="function"==typeof d?d:d.next.bind(d),We=this._isInitialized?Promise.resolve():this._initializationPromise;return ge(We,this,"internal-error"),We.then(()=>Z(this.currentUser)),"function"==typeof d?c.addObserver(d,C,V):c.addObserver(d)}directlySetCurrentUser(c){var d=this;return(0,D.Z)(function*(){d.currentUser&&d.currentUser!==c&&(d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh()),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,D.Z)(function*(){var d;const C={"X-Client-Version":c.clientVersion};c.app.options.appId&&(C["X-Firebase-gmpid"]=c.app.options.appId);const V=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();return V&&(C["X-Firebase-Client"]=V),C})()}}function wr(_){return(0,T.m9)(_)}class hi{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,T.ne)(d=>this.observer=d)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yr(_,c,d){const C=wr(_);ge(C._canInitEmulator,C,"emulator-config-failed"),ge(/^https?:\/\//.test(c),C,"invalid-emulator-scheme");const V=!!d?.disableWarnings,Z=fi(c),{host:We,port:vt}=function Or(_){const c=fi(_),d=/(\/\/)?([^?#/]+)/.exec(_.substr(c.length));if(!d)return{host:"",port:null};const C=d[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(C);if(V){const Z=V[1];return{host:Z,port:pi(C.substr(Z.length+1))}}{const[Z,We]=C.split(":");return{host:Z,port:pi(We)}}}(c);C.config.emulator={url:`${Z}//${We}${null===vt?"":`:${vt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:We,port:vt,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Gi(){function _(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function fi(_){const c=_.indexOf(":");return c<0?"":_.substr(0,c+1)}function pi(_){if(!_)return null;const c=Number(_);return isNaN(c)?null:c}class xr{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return L("not implemented")}_getIdTokenResponse(c){return L("not implemented")}_linkToIdToken(c,d){return L("not implemented")}_getReauthenticationResolver(c){return L("not implemented")}}function Ei(_,c){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,D.Z)(function*(_,c){return Fn(_,"POST","/v1/accounts:resetPassword",Jt(_,c))})).apply(this,arguments)}function Yn(_,c){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,D.Z)(function*(_,c){return Fn(_,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ps(_,c){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,D.Z)(function*(_,c){return Fn(_,"POST","/v1/accounts:update",Jt(_,c))})).apply(this,arguments)}function Jr(){return(Jr=(0,D.Z)(function*(_,c){return Un(_,"POST","/v1/accounts:signInWithPassword",Jt(_,c))})).apply(this,arguments)}function Di(_,c){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,D.Z)(function*(_,c){return Fn(_,"POST","/v1/accounts:sendOobCode",Jt(_,c))})).apply(this,arguments)}function De(_,c){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,D.Z)(function*(_,c){return Di(_,c)})).apply(this,arguments)}function lt(_,c){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,D.Z)(function*(_,c){return Di(_,c)})).apply(this,arguments)}function Ht(_,c){return nr.apply(this,arguments)}function nr(){return(nr=(0,D.Z)(function*(_,c){return Di(_,c)})).apply(this,arguments)}function Zr(_,c){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,D.Z)(function*(_,c){return Di(_,c)})).apply(this,arguments)}function rs(){return(rs=(0,D.Z)(function*(_,c){return Un(_,"POST","/v1/accounts:signInWithEmailLink",Jt(_,c))})).apply(this,arguments)}function oi(){return(oi=(0,D.Z)(function*(_,c){return Un(_,"POST","/v1/accounts:signInWithEmailLink",Jt(_,c))})).apply(this,arguments)}class Qr extends xr{constructor(c,d,C,V=null){super("password",C),this._email=c,this._password=d,this._tenantId=V}static _fromEmailAndPassword(c,d){return new Qr(c,d,"password")}static _fromEmailAndCode(c,d,C=null){return new Qr(c,d,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,D.Z)(function*(){switch(d.signInMethod){case"password":return function xi(_,c){return Jr.apply(this,arguments)}(c,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function si(_,c){return rs.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:pt(c,"internal-error")}})()}_linkToIdToken(c,d){var C=this;return(0,D.Z)(function*(){switch(C.signInMethod){case"password":return Yn(c,{idToken:d,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Bs(_,c){return oi.apply(this,arguments)}(c,{idToken:d,email:C._email,oobCode:C._password});default:pt(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function wi(_,c){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,D.Z)(function*(_,c){return Un(_,"POST","/v1/accounts:signInWithIdp",Jt(_,c))})).apply(this,arguments)}class ki extends xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new ki(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):pt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:C,signInMethod:V}=d,Z=(0,de._T)(d,["providerId","signInMethod"]);if(!C||!V)return null;const We=new ki(C,V);return We.idToken=Z.idToken||void 0,We.accessToken=Z.accessToken||void 0,We.secret=Z.secret,We.nonce=Z.nonce,We.pendingToken=Z.pendingToken||null,We}_getIdTokenResponse(c){return wi(c,this.buildRequest())}_linkToIdToken(c,d){const C=this.buildRequest();return C.idToken=d,wi(c,C)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,wi(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,T.xO)(d)}return c}}function ro(_,c){return dr.apply(this,arguments)}function dr(){return(dr=(0,D.Z)(function*(_,c){return Fn(_,"POST","/v1/accounts:sendVerificationCode",Jt(_,c))})).apply(this,arguments)}function Mn(){return(Mn=(0,D.Z)(function*(_,c){return Un(_,"POST","/v1/accounts:signInWithPhoneNumber",Jt(_,c))})).apply(this,arguments)}function or(){return(or=(0,D.Z)(function*(_,c){const d=yield Un(_,"POST","/v1/accounts:signInWithPhoneNumber",Jt(_,c));if(d.temporaryProof)throw sr(_,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const js={USER_NOT_FOUND:"user-not-found"};function Is(){return(Is=(0,D.Z)(function*(_,c){return Un(_,"POST","/v1/accounts:signInWithPhoneNumber",Jt(_,Object.assign(Object.assign({},c),{operation:"REAUTH"})),js)})).apply(this,arguments)}class Ri extends xr{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new Ri({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new Ri({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function hr(_,c){return Mn.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function li(_,c){return or.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function As(_,c){return Is.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:C,verificationCode:V}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:C,code:V}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:C,phoneNumber:V,temporaryProof:Z}=c;return C||d||V||Z?new Ri({verificationId:d,verificationCode:C,phoneNumber:V,temporaryProof:Z}):null}}class Tr{constructor(c){var d,C,V,Z,We,vt;const qt=(0,T.zd)((0,T.pd)(c)),wn=null!==(d=qt.apiKey)&&void 0!==d?d:null,er=null!==(C=qt.oobCode)&&void 0!==C?C:null,$r=function Er(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=qt.mode)&&void 0!==V?V:null);ge(wn&&er&&$r,"argument-error"),this.apiKey=wn,this.operation=$r,this.code=er,this.continueUrl=null!==(Z=qt.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(We=qt.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(vt=qt.tenantId)&&void 0!==vt?vt:null}static parseLink(c){const d=function Qn(_){const c=(0,T.zd)((0,T.pd)(_)).link,d=c?(0,T.zd)((0,T.pd)(c)).deep_link_id:null,C=(0,T.zd)((0,T.pd)(_)).deep_link_id;return(C?(0,T.zd)((0,T.pd)(C)).link:null)||C||d||c||_}(c);try{return new Tr(d)}catch{return null}}}let gi=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(d,C){return Qr._fromEmailAndPassword(d,C)}static credentialWithLink(d,C){const V=Tr.parseLink(C);return ge(V,"argument-error"),Qr._fromEmailAndCode(d,V.code,V.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Vr{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Li extends Vr{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Fi extends Li{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return ge("providerId"in d&&"signInMethod"in d,"argument-error"),ki._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ge(c.idToken||c.accessToken,"argument-error"),ki._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Fi.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Fi.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:C,oauthTokenSecret:V,pendingToken:Z,nonce:We,providerId:vt}=c;if(!C&&!V&&!d&&!Z||!vt)return null;try{return new Fi(vt)._credential({idToken:d,accessToken:C,nonce:We,pendingToken:Z})}catch{return null}}}let xo=(()=>{class _ extends Li{constructor(){super("facebook.com")}static credential(d){return ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return _.credentialFromTaggedObject(d)}static credentialFromError(d){return _.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return _.credential(d.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Hs=(()=>{class _ extends Li{constructor(){super("google.com"),this.addScope("profile")}static credential(d,C){return ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:C})}static credentialFromResult(d){return _.credentialFromTaggedObject(d)}static credentialFromError(d){return _.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:C,oauthAccessToken:V}=d;if(!C&&!V)return null;try{return _.credential(C,V)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Zi=(()=>{class _ extends Li{constructor(){super("github.com")}static credential(d){return ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return _.credentialFromTaggedObject(d)}static credentialFromError(d){return _.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return _.credential(d.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Mi extends xr{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return wi(c,this.buildRequest())}_linkToIdToken(c,d){const C=this.buildRequest();return C.idToken=d,wi(c,C)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,wi(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:C,signInMethod:V,pendingToken:Z}=d;return C&&V&&Z&&C===V?new Mi(C,Z):null}static _create(c,d){return new Mi(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ui extends Vr{constructor(c){ge(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Ui.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Ui.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=Mi.fromJSON(c);return ge(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:C}=c;if(!d||!C)return null;try{return Mi._create(C,d)}catch{return null}}}let kr=(()=>{class _ extends Li{constructor(){super("twitter.com")}static credential(d,C){return ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:C})}static credentialFromResult(d){return _.credentialFromTaggedObject(d)}static credentialFromError(d){return _.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:C,oauthTokenSecret:V}=d;if(!C||!V)return null;try{return _.credential(C,V)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ts(_,c){return ti.apply(this,arguments)}function ti(){return(ti=(0,D.Z)(function*(_,c){return Un(_,"POST","/v1/accounts:signUp",Jt(_,c))})).apply(this,arguments)}class ni{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,C,V=!1){return(0,D.Z)(function*(){const Z=yield Ut._fromIdTokenResponse(c,C,V),We=Rs(C);return new ni({user:Z,providerId:We,_tokenResponse:C,operationType:d})})()}static _forOperation(c,d,C){return(0,D.Z)(function*(){yield c._updateTokensIfNecessary(C,!0);const V=Rs(C);return new ni({user:c,providerId:V,_tokenResponse:C,operationType:d})})()}}function Rs(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function is(_){return kn.apply(this,arguments)}function kn(){return(kn=(0,D.Z)(function*(_){var c;const d=wr(_);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new ni({user:d.currentUser,providerId:null,operationType:"signIn"});const C=yield Ts(d,{returnSecureToken:!0}),V=yield ni._fromIdTokenResponse(d,"signIn",C,!0);return yield d._updateCurrentUser(V.user),V})).apply(this,arguments)}class mi extends T.ZR{constructor(c,d,C,V){var Z;super(d.code,d.message),this.operationType=C,this.user=V,Object.setPrototypeOf(this,mi.prototype),this.customData={appName:c.name,tenantId:null!==(Z=c.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:d.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(c,d,C,V){return new mi(c,d,C,V)}}function gs(_,c,d,C){return("reauthenticate"===c?d._getReauthenticationResolver(_):d._getIdTokenResponse(_)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?mi._fromErrorAndOperation(_,Z,c,C):Z})}function ss(_){return new Set(_.map(({providerId:c})=>c).filter(c=>!!c))}function $n(_,c){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,D.Z)(function*(_,c){const d=(0,T.m9)(_);yield A(!0,d,c);const{providerUserInfo:C}=yield Tn(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),V=ss(C||[]);return d.providerData=d.providerData.filter(Z=>V.has(Z.providerId)),V.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d})).apply(this,arguments)}function Sr(_,c){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,D.Z)(function*(_,c,d=!1){const C=yield ut(_,c._linkToIdToken(_.auth,yield _.getIdToken()),d);return ni._forOperation(_,"link",C)})).apply(this,arguments)}function A(_,c,d){return $.apply(this,arguments)}function $(){return($=(0,D.Z)(function*(_,c,d){yield on(c);const V=!1===_?"provider-already-linked":"no-such-provider";ge(ss(c.providerData).has(d)===_,c.auth,V)})).apply(this,arguments)}function M(_,c){return z.apply(this,arguments)}function z(){return(z=(0,D.Z)(function*(_,c,d=!1){var C;const{auth:V}=_,Z="reauthenticate";try{const We=yield ut(_,gs(V,Z,c,_),d);ge(We.idToken,V,"internal-error");const vt=ot(We.idToken);ge(vt,V,"internal-error");const{sub:qt}=vt;return ge(_.uid===qt,V,"user-mismatch"),ni._forOperation(_,Z,We)}catch(We){throw"auth/user-not-found"===(null===(C=We)||void 0===C?void 0:C.code)&&pt(V,"user-mismatch"),We}})).apply(this,arguments)}function ve(_,c){return it.apply(this,arguments)}function it(){return(it=(0,D.Z)(function*(_,c,d=!1){const C="signIn",V=yield gs(_,C,c),Z=yield ni._fromIdTokenResponse(_,C,V);return d||(yield _._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function mt(_,c){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,D.Z)(function*(_,c){return ve(wr(_),c)})).apply(this,arguments)}function fr(_,c){return rr.apply(this,arguments)}function rr(){return(rr=(0,D.Z)(function*(_,c){const d=(0,T.m9)(_);return yield A(!1,d,c.providerId),Sr(d,c)})).apply(this,arguments)}function _r(_,c){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,D.Z)(function*(_,c){return M((0,T.m9)(_),c)})).apply(this,arguments)}function cr(_,c){return ir.apply(this,arguments)}function ir(){return(ir=(0,D.Z)(function*(_,c){return Un(_,"POST","/v1/accounts:signInWithCustomToken",Jt(_,c))})).apply(this,arguments)}function Nt(_,c){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,D.Z)(function*(_,c){const d=wr(_),C=yield cr(d,{token:c,returnSecureToken:!0}),V=yield ni._fromIdTokenResponse(d,"signIn",C);return yield d._updateCurrentUser(V.user),V})).apply(this,arguments)}class Ii{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?Bi._fromServerResponse(c,d):pt(c,"internal-error")}}class Bi extends Ii{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new Bi(d)}}function Ti(_,c,d){var C;ge((null===(C=d.url)||void 0===C?void 0:C.length)>0,_,"invalid-continue-uri"),ge(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ge(d.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(ge(d.android.packageName.length>0,_,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function Vi(_,c,d){return ri.apply(this,arguments)}function ri(){return(ri=(0,D.Z)(function*(_,c,d){const C=(0,T.m9)(_),V={requestType:"PASSWORD_RESET",email:c};d&&Ti(C,V,d),yield lt(C,V)})).apply(this,arguments)}function Qi(_,c,d){return In.apply(this,arguments)}function In(){return(In=(0,D.Z)(function*(_,c,d){yield Ei((0,T.m9)(_),{oobCode:c,newPassword:d})})).apply(this,arguments)}function Et(_,c){return xn.apply(this,arguments)}function xn(){return(xn=(0,D.Z)(function*(_,c){yield ps((0,T.m9)(_),{oobCode:c})})).apply(this,arguments)}function vo(_,c){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,D.Z)(function*(_,c){const d=(0,T.m9)(_),C=yield Ei(d,{oobCode:c}),V=C.requestType;switch(ge(V,d,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(C.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(C.mfaInfo,d,"internal-error");default:ge(C.email,d,"internal-error")}let Z=null;return C.mfaInfo&&(Z=Ii._fromServerResponse(wr(d),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:Z},operation:V}})).apply(this,arguments)}function Lr(_,c){return os.apply(this,arguments)}function os(){return(os=(0,D.Z)(function*(_,c){const{data:d}=yield vo((0,T.m9)(_),c);return d.email})).apply(this,arguments)}function Ms(_,c,d){return ei.apply(this,arguments)}function ei(){return(ei=(0,D.Z)(function*(_,c,d){const C=wr(_),V=yield Ts(C,{returnSecureToken:!0,email:c,password:d}),Z=yield ni._fromIdTokenResponse(C,"signIn",V);return yield C._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function ji(_,c,d){return mt((0,T.m9)(_),gi.credential(c,d))}function so(_,c,d){return ko.apply(this,arguments)}function ko(){return(ko=(0,D.Z)(function*(_,c,d){const C=(0,T.m9)(_),V={requestType:"EMAIL_SIGNIN",email:c};ge(d.handleCodeInApp,C,"argument-error"),d&&Ti(C,V,d),yield Ht(C,V)})).apply(this,arguments)}function zo(_,c){return"EMAIL_SIGNIN"===Tr.parseLink(c)?.operation}function Go(_,c,d){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,D.Z)(function*(_,c,d){const C=(0,T.m9)(_),V=gi.credentialWithLink(c,d||Be());return ge(V._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),mt(C,V)})).apply(this,arguments)}function ii(_,c){return ui.apply(this,arguments)}function ui(){return(ui=(0,D.Z)(function*(_,c){return Fn(_,"POST","/v1/accounts:createAuthUri",Jt(_,c))})).apply(this,arguments)}function Ns(_,c){return _i.apply(this,arguments)}function _i(){return(_i=(0,D.Z)(function*(_,c){const C={identifier:c,continueUri:gt()?Be():"http://localhost"},{signinMethods:V}=yield ii((0,T.m9)(_),C);return V||[]})).apply(this,arguments)}function as(_,c){return ms.apply(this,arguments)}function ms(){return(ms=(0,D.Z)(function*(_,c){const d=(0,T.m9)(_),V={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};c&&Ti(d.auth,V,c);const{email:Z}=yield De(d.auth,V);Z!==_.email&&(yield _.reload())})).apply(this,arguments)}function $s(_,c,d){return oo.apply(this,arguments)}function oo(){return(oo=(0,D.Z)(function*(_,c,d){const C=(0,T.m9)(_),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:c};d&&Ti(C.auth,Z,d);const{email:We}=yield Zr(C.auth,Z);We!==_.email&&(yield _.reload())})).apply(this,arguments)}function Eo(_,c){return Os.apply(this,arguments)}function Os(){return(Os=(0,D.Z)(function*(_,c){return Fn(_,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Co(_,c){return xs.apply(this,arguments)}function xs(){return(xs=(0,D.Z)(function*(_,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const C=(0,T.m9)(_),Z={idToken:yield C.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},We=yield ut(C,Eo(C.auth,Z));C.displayName=We.displayName||null,C.photoURL=We.photoUrl||null;const vt=C.providerData.find(({providerId:qt})=>"password"===qt);vt&&(vt.displayName=C.displayName,vt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(We)})).apply(this,arguments)}function Do(_,c){return bs((0,T.m9)(_),c,null)}function Ko(_,c){return bs((0,T.m9)(_),null,c)}function bs(_,c,d){return F.apply(this,arguments)}function F(){return(F=(0,D.Z)(function*(_,c,d){const{auth:C}=_,Z={idToken:yield _.getIdToken(),returnSecureToken:!0};c&&(Z.email=c),d&&(Z.password=d);const We=yield ut(_,Yn(C,Z));yield _._updateTokensIfNecessary(We,!0)})).apply(this,arguments)}class m{constructor(c,d,C={}){this.isNewUser=c,this.providerId=d,this.profile=C}}class R extends m{constructor(c,d,C,V){super(c,d,C),this.username=V}}class B extends m{constructor(c,d){super(c,"facebook.com",d)}}class K extends R{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class pe extends m{constructor(c,d){super(c,"google.com",d)}}class ye extends R{constructor(c,d,C){super(c,"twitter.com",d,C)}}function Le(_){const{user:c,_tokenResponse:d}=_;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function f(_){var c,d;if(!_)return null;const{providerId:C}=_,V=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},Z=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!C&&_?.idToken){const We=null===(d=null===(c=ot(_.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(We)return new m(Z,"anonymous"!==We&&"custom"!==We?We:null)}if(!C)return null;switch(C){case"facebook.com":return new B(Z,V);case"github.com":return new K(Z,V);case"google.com":return new pe(Z,V);case"twitter.com":return new ye(Z,V,_.screenName||null);case"custom":case"anonymous":return new m(Z,null);default:return new m(Z,C,V)}}(d)}class Dr{constructor(c,d){this.type=c,this.credential=d}static _fromIdtoken(c){return new Dr("enroll",c)}static _fromMfaPendingCredential(c){return new Dr("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,C;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Dr._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(C=c.multiFactorSession)&&void 0!==C&&C.idToken)return Dr._fromIdtoken(c.multiFactorSession.idToken)}return null}}class zr{constructor(c,d,C){this.session=c,this.hints=d,this.signInResolver=C}static _fromError(c,d){const C=wr(c),V=d.customData._serverResponse,Z=(V.mfaInfo||[]).map(vt=>Ii._fromServerResponse(C,vt));ge(V.mfaPendingCredential,C,"internal-error");const We=Dr._fromMfaPendingCredential(V.mfaPendingCredential);return new zr(We,Z,function(){var vt=(0,D.Z)(function*(qt){const wn=yield qt._process(C,We);delete V.mfaInfo,delete V.mfaPendingCredential;const er=Object.assign(Object.assign({},V),{idToken:wn.idToken,refreshToken:wn.refreshToken});switch(d.operationType){case"signIn":const $r=yield ni._fromIdTokenResponse(C,d.operationType,er);return yield C._updateCurrentUser($r.user),$r;case"reauthenticate":return ge(d.user,C,"internal-error"),ni._forOperation(d.user,d.operationType,er);default:pt(C,"internal-error")}});return function(qt){return vt.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,D.Z)(function*(){return d.signInResolver(c)})()}}function jr(_,c){var d;const C=(0,T.m9)(_),V=c;return ge(c.customData.operationType,C,"argument-error"),ge(null===(d=V.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,C,"argument-error"),zr._fromError(C,V)}function Rr(_,c){return Fn(_,"POST","/v2/accounts/mfaEnrollment:start",Jt(_,c))}class Gr{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(C=>Ii._fromServerResponse(c.auth,C)))})}static _fromUser(c){return new Gr(c)}getSession(){var c=this;return(0,D.Z)(function*(){return Dr._fromIdtoken(yield c.user.getIdToken())})()}enroll(c,d){var C=this;return(0,D.Z)(function*(){const V=c,Z=yield C.getSession(),We=yield ut(C.user,V._process(C.user.auth,Z,d));return yield C.user._updateTokensIfNecessary(We),C.user.reload()})()}unenroll(c){var d=this;return(0,D.Z)(function*(){var C;const V="string"==typeof c?c:c.uid,Z=yield d.user.getIdToken(),We=yield ut(d.user,function Mr(_,c){return Fn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(_,c))}(d.user.auth,{idToken:Z,mfaEnrollmentId:V}));d.enrolledFactors=d.enrolledFactors.filter(({uid:vt})=>vt!==V),yield d.user._updateTokensIfNecessary(We);try{yield d.user.reload()}catch(vt){if("auth/user-token-expired"!==(null===(C=vt)||void 0===C?void 0:C.code))throw vt}})()}}const Fr=new WeakMap;function qi(_){const c=(0,T.m9)(_);return Fr.has(c)||Fr.set(c,Gr._fromUser(c)),Fr.get(c)}const bi="__sak";class Hi{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(bi,"1"),this.storage.removeItem(bi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const $t=(()=>{class _ extends Hi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,C)=>this.onStorageEvent(d,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ls(){const _=(0,T.z$)();return ce(_)||me(_)}()&&function Vt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=at(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const C of Object.keys(this.listeners)){const V=this.storage.getItem(C),Z=this.localCache[C];V!==Z&&d(C,Z,V)}}onStorageEvent(d,C=!1){if(!d.key)return void this.forAllChangedKeys((vt,qt,wn)=>{this.notifyListeners(vt,wn)});const V=d.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const vt=this.storage.getItem(V);if(d.newValue!==vt)null!==d.newValue?this.storage.setItem(V,d.newValue):this.storage.removeItem(V);else if(this.localCache[V]===d.newValue&&!C)return}const Z=()=>{const vt=this.storage.getItem(V);!C&&this.localCache[V]===vt||this.notifyListeners(V,vt)},We=this.storage.getItem(V);!function fe(){return(0,T.w1)()&&10===document.documentMode}()||We===d.newValue||d.newValue===d.oldValue?Z():setTimeout(Z,10)}notifyListeners(d,C){this.localCache[d]=C;const V=this.listeners[d];if(V)for(const Z of Array.from(V))Z(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,C,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:C,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(C)}_removeListener(d,C){this.listeners[d]&&(this.listeners[d].delete(C),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,C){var V=()=>super._set,Z=this;return(0,D.Z)(function*(){yield V().call(Z,d,C),Z.localCache[d]=JSON.stringify(C)})()}_get(d){var C=()=>super._get,V=this;return(0,D.Z)(function*(){const Z=yield C().call(V,d);return V.localCache[d]=JSON.stringify(Z),Z})()}_remove(d){var C=()=>super._remove,V=this;return(0,D.Z)(function*(){yield C().call(V,d),delete V.localCache[d]})()}}return _.type="LOCAL",_})(),Kn=(()=>{class _ extends Hi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,C){}_removeListener(d,C){}}return _.type="SESSION",_})();let Jn=(()=>{class _{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const C=this.receivers.find(Z=>Z.isListeningto(d));if(C)return C;const V=new _(d);return this.receivers.push(V),V}isListeningto(d){return this.eventTarget===d}handleEvent(d){var C=this;return(0,D.Z)(function*(){const V=d,{eventId:Z,eventType:We,data:vt}=V.data,qt=C.handlersMap[We];if(!qt?.size)return;V.ports[0].postMessage({status:"ack",eventId:Z,eventType:We});const wn=Array.from(qt).map(function(){var $r=(0,D.Z)(function*(Xs){return Xs(V.origin,vt)});return function(Xs){return $r.apply(this,arguments)}}()),er=yield function Kr(_){return Promise.all(_.map(function(){var c=(0,D.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(C){return{fulfilled:!1,reason:C}}});return function(d){return c.apply(this,arguments)}}()))}(wn);V.ports[0].postMessage({status:"done",eventId:Z,eventType:We,response:er})})()}_subscribe(d,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(C)}_unsubscribe(d,C){this.handlersMap[d]&&C&&this.handlersMap[d].delete(C),(!C||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function yr(_="",c=10){let d="";for(let C=0;C<c;C++)d+=Math.floor(10*Math.random());return _+d}class ci{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,C=50){var V=this;return(0,D.Z)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let We,vt;return new Promise((qt,wn)=>{const er=yr("",20);Z.port1.start();const $r=setTimeout(()=>{wn(new Error("unsupported_event"))},C);vt={messageChannel:Z,onMessage(Xs){const ns=Xs;if(ns.data.eventId===er)switch(ns.data.status){case"ack":clearTimeout($r),We=setTimeout(()=>{wn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),qt(ns.data.response);break;default:clearTimeout($r),clearTimeout(We),wn(new Error("invalid_response"))}}},V.handlers.add(vt),Z.port1.addEventListener("message",vt.onMessage),V.target.postMessage({eventType:c,eventId:er,data:d},[Z.port2])}).finally(()=>{vt&&V.removeMessageHandler(vt)})})()}}function vn(){return window}function ys(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function Ji(){return(Ji=(0,D.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vs="firebaseLocalStorageDb",Ls="firebaseLocalStorage",wo="fbase_key";class Fs{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Ws(_,c){return _.transaction([Ls],c?"readwrite":"readonly").objectStore(Ls)}function uo(){const _=indexedDB.open(vs,1);return new Promise((c,d)=>{_.addEventListener("error",()=>{d(_.error)}),_.addEventListener("upgradeneeded",()=>{const C=_.result;try{C.createObjectStore(Ls,{keyPath:wo})}catch(V){d(V)}}),_.addEventListener("success",(0,D.Z)(function*(){const C=_.result;C.objectStoreNames.contains(Ls)?c(C):(C.close(),yield function cs(){const _=indexedDB.deleteDatabase(vs);return new Fs(_).toPromise()}(),c(yield uo()))}))})}function Zo(_,c,d){return co.apply(this,arguments)}function co(){return(co=(0,D.Z)(function*(_,c,d){const C=Ws(_,!0).put({[wo]:c,value:d});return new Fs(C).toPromise()})).apply(this,arguments)}function E(){return(E=(0,D.Z)(function*(_,c){const d=Ws(_,!1).get(c),C=yield new Fs(d).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function y(_,c){const d=Ws(_,!0).delete(c);return new Fs(d).toPromise()}const G=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,D.Z)(function*(){return d.db||(d.db=yield uo()),d.db})()}_withRetries(d){var C=this;return(0,D.Z)(function*(){let V=0;for(;;)try{const Z=yield C._openDb();return yield d(Z)}catch(Z){if(V++>3)throw Z;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,D.Z)(function*(){return ys()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,D.Z)(function*(){d.receiver=Jn._getInstance(function ks(){return ys()?self:null}()),d.receiver._subscribe("keyChanged",function(){var C=(0,D.Z)(function*(V,Z){return{keyProcessed:(yield d._poll()).includes(Z.key)}});return function(V,Z){return C.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var C=(0,D.Z)(function*(V,Z){return["keyChanged"]});return function(V,Z){return C.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,D.Z)(function*(){var C,V;if(d.activeServiceWorker=yield function Nr(){return Ji.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new ci(d.activeServiceWorker);const Z=yield d.sender._send("ping",{},800);!Z||(null===(C=Z[0])||void 0===C?void 0:C.fulfilled)&&(null===(V=Z[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var C=this;return(0,D.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function qr(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:d},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const d=yield uo();return yield Zo(d,bi,"1"),yield y(d,bi),!0}catch{}return!1})()}_withPendingWrite(d){var C=this;return(0,D.Z)(function*(){C.pendingWrites++;try{yield d()}finally{C.pendingWrites--}})()}_set(d,C){var V=this;return(0,D.Z)(function*(){return V._withPendingWrite((0,D.Z)(function*(){return yield V._withRetries(Z=>Zo(Z,d,C)),V.localCache[d]=C,V.notifyServiceWorker(d)}))})()}_get(d){var C=this;return(0,D.Z)(function*(){const V=yield C._withRetries(Z=>function ta(_,c){return E.apply(this,arguments)}(Z,d));return C.localCache[d]=V,V})()}_remove(d){var C=this;return(0,D.Z)(function*(){return C._withPendingWrite((0,D.Z)(function*(){return yield C._withRetries(V=>y(V,d)),delete C.localCache[d],C.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,D.Z)(function*(){const C=yield d._withRetries(We=>{const vt=Ws(We,!1).getAll();return new Fs(vt).toPromise()});if(!C)return[];if(0!==d.pendingWrites)return[];const V=[],Z=new Set;for(const{fbase_key:We,value:vt}of C)Z.add(We),JSON.stringify(d.localCache[We])!==JSON.stringify(vt)&&(d.notifyListeners(We,vt),V.push(We));for(const We of Object.keys(d.localCache))d.localCache[We]&&!Z.has(We)&&(d.notifyListeners(We,null),V.push(We));return V})()}notifyListeners(d,C){this.localCache[d]=C;const V=this.listeners[d];if(V)for(const Z of Array.from(V))Z(C)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(C)}_removeListener(d,C){this.listeners[d]&&(this.listeners[d].delete(C),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function re(_,c){return Fn(_,"POST","/v2/accounts/mfaSignIn:start",Jt(_,c))}function Bt(){return(Bt=(0,D.Z)(function*(_){return(yield Fn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kt(_){return new Promise((c,d)=>{const C=document.createElement("script");C.setAttribute("src",_),C.onload=c,C.onerror=V=>{const Z=Ve("internal-error");Z.customData=V,d(Z)},C.type="text/javascript",C.charset="UTF-8",function Zn(){var _,c;return null!==(c=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==c?c:document}().appendChild(C)})}function br(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Ni=1e12;class ho{constructor(c){this.auth=c,this.counter=Ni,this._widgets=new Map}render(c,d){const C=this.counter;return this._widgets.set(C,new zs(c,this.auth.name,d||{})),this.counter++,C}reset(c){var d;const C=c||Ni;null===(d=this._widgets.get(C))||void 0===d||d.delete(),this._widgets.delete(C)}getResponse(c){var d;return(null===(d=this._widgets.get(c||Ni))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,D.Z)(function*(){var C;return null===(C=d._widgets.get(c||Ni))||void 0===C||C.execute(),""})()}}class zs{constructor(c,d,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof c?document.getElementById(c):c;ge(V,"argument-error",{appName:d}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gs(_){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<_;C++)c.push(d.charAt(Math.floor(Math.random()*d.length)));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fo=br("rcb"),na=new ht(3e4,6e4);class Gl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!vn().grecaptcha}load(c,d=""){return ge(function Hr(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(d),c,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(vn().grecaptcha):new Promise((C,V)=>{const Z=vn().setTimeout(()=>{V(Ve(c,"network-request-failed"))},na.get());vn()[fo]=()=>{vn().clearTimeout(Z),delete vn()[fo];const vt=vn().grecaptcha;if(!vt)return void V(Ve(c,"internal-error"));const qt=vt.render;vt.render=(wn,er)=>{const $r=qt(wn,er);return this.counter++,$r},this.hostLanguage=d,C(vt)},Kt(`https://www.google.com/recaptcha/api.js??${(0,T.xO)({onload:fo,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(Z),V(Ve(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){return!!vn().grecaptcha&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ma{load(c){return(0,D.Z)(function*(){return new ho(c)})()}clearedOneInstance(){}}const _a="recaptcha",rl={theme:"light",type:"image"};class Kl{constructor(c,d=Object.assign({},rl),C){this.parameters=d,this.type=_a,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wr(C),this.isInvisible="invisible"===this.parameters.size,ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof c?document.getElementById(c):c;ge(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ma:new Gl,this.validateStartingState()}verify(){var c=this;return(0,D.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),C=c.getAssertedRecaptcha();return C.getResponse(d)||new Promise(Z=>{const We=vt=>{!vt||(c.tokenChangeListeners.delete(We),Z(vt))};c.tokenChangeListeners.add(We),c.isInvisible&&C.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(C=>C(d)),"function"==typeof c)c(d);else if("string"==typeof c){const C=vn()[c];"function"==typeof C&&C(d)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,D.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const C=document.createElement("div");d.appendChild(C),d=C}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,D.Z)(function*(){ge(gt()&&!ys(),c.auth,"internal-error"),yield function wl(){let _=null;return new Promise(c=>{"complete"!==document.readyState?(_=()=>c(),window.addEventListener("load",_)):c()}).catch(c=>{throw _&&window.removeEventListener("load",_),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function dt(_){return Bt.apply(this,arguments)}(c.auth);ge(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ya{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=Ri._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function Zl(_,c,d){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,D.Z)(function*(_,c,d){const C=wr(_),V=yield Io(C,c,(0,T.m9)(d));return new ya(V,Z=>mt(C,Z))})).apply(this,arguments)}function Yl(_,c,d){return Il.apply(this,arguments)}function Il(){return(Il=(0,D.Z)(function*(_,c,d){const C=(0,T.m9)(_);yield A(!1,C,"phone");const V=yield Io(C.auth,c,(0,T.m9)(d));return new ya(V,Z=>fr(C,Z))})).apply(this,arguments)}function yi(_,c,d){return ra.apply(this,arguments)}function ra(){return(ra=(0,D.Z)(function*(_,c,d){const C=(0,T.m9)(_),V=yield Io(C.auth,c,(0,T.m9)(d));return new ya(V,Z=>_r(C,Z))})).apply(this,arguments)}function Io(_,c,d){return La.apply(this,arguments)}function La(){return(La=(0,D.Z)(function*(_,c,d){var C;const V=yield d.verify();try{let Z;if(ge("string"==typeof V,_,"argument-error"),ge(d.type===_a,_,"argument-error"),Z="string"==typeof c?{phoneNumber:c}:c,"session"in Z){const We=Z.session;if("phoneNumber"in Z)return ge("enroll"===We.type,_,"internal-error"),(yield Rr(_,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{ge("signin"===We.type,_,"internal-error");const vt=(null===(C=Z.multiFactorHint)||void 0===C?void 0:C.uid)||Z.multiFactorUid;return ge(vt,_,"missing-multi-factor-info"),(yield re(_,{mfaPendingCredential:We.credential,mfaEnrollmentId:vt,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield ro(_,{phoneNumber:Z.phoneNumber,recaptchaToken:V});return We}}finally{d._reset()}})).apply(this,arguments)}function Tl(_,c){return Si.apply(this,arguments)}function Si(){return(Si=(0,D.Z)(function*(_,c){yield Sr((0,T.m9)(_),c)})).apply(this,arguments)}let Ss=(()=>{class _{constructor(d){this.providerId=_.PROVIDER_ID,this.auth=wr(d)}verifyPhoneNumber(d,C){return Io(this.auth,d,(0,T.m9)(C))}static credential(d,C){return Ri._fromVerification(d,C)}static credentialFromResult(d){return _.credentialFromTaggedObject(d)}static credentialFromError(d){return _.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:C,temporaryProof:V}=d;return C&&V?Ri._fromTokenResponse(C,V):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ks(_,c){return c?Ne(c):(ge(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class po extends xr{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return wi(c,this._buildIdpRequest())}_linkToIdToken(c,d){return wi(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return wi(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function Zs(_){return ve(_.auth,new po(_),_.bypassAuthState)}function ia(_){const{auth:c,user:d}=_;return ge(d,c,"internal-error"),M(d,new po(_),_.bypassAuthState)}function Fa(_){return il.apply(this,arguments)}function il(){return(il=(0,D.Z)(function*(_){const{auth:c,user:d}=_;return ge(d,c,"internal-error"),Sr(d,new po(_),_.bypassAuthState)})).apply(this,arguments)}class Ql{constructor(c,d,C,V,Z=!1){this.auth=c,this.resolver=C,this.user=V,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,D.Z)(function*(C,V){c.pendingPromise={resolve:C,reject:V};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(Z){c.reject(Z)}});return function(C,V){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,D.Z)(function*(){const{urlResponse:C,sessionId:V,postBody:Z,tenantId:We,error:vt,type:qt}=c;if(vt)return void d.reject(vt);const wn={auth:d.auth,requestUri:C,sessionId:V,tenantId:We||void 0,postBody:Z||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(qt)(wn))}catch(er){d.reject(er)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Zs;case"linkViaPopup":case"linkViaRedirect":return Fa;case"reauthViaPopup":case"reauthViaRedirect":return ia;default:pt(this.auth,"internal-error")}}resolve(c){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bl=new ht(2e3,1e4);function va(_,c,d){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,D.Z)(function*(_,c,d){const C=wr(_);je(_,c,Vr);const V=Ks(C,d);return new Qs(C,"signInViaPopup",c,V).executeNotNull()})).apply(this,arguments)}function To(_,c,d){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,D.Z)(function*(_,c,d){const C=(0,T.m9)(_);je(C.auth,c,Vr);const V=Ks(C.auth,d);return new Qs(C.auth,"reauthViaPopup",c,V,C).executeNotNull()})).apply(this,arguments)}function Fo(_,c,d){return sa.apply(this,arguments)}function sa(){return(sa=(0,D.Z)(function*(_,c,d){const C=(0,T.m9)(_);je(C.auth,c,Vr);const V=Ks(C.auth,d);return new Qs(C.auth,"linkViaPopup",c,V,C).executeNotNull()})).apply(this,arguments)}let Qs=(()=>{class _ extends Ql{constructor(d,C,V,Z,We){super(d,C,Z,We),this.provider=V,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var d=this;return(0,D.Z)(function*(){const C=yield d.execute();return ge(C,d.auth,"internal-error"),C})()}onExecution(){var d=this;return(0,D.Z)(function*(){Ze(1===d.filter.length,"Popup operations only handle one event");const C=yr();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],C),d.authWindow.associatedEvent=C,d.resolver._originValidation(d.auth).catch(V=>{d.reject(V)}),d.resolver._isIframeWebStorageSupported(d.auth,V=>{V||d.reject(Ve(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const d=()=>{var C,V;this.pollId=null!==(V=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==V&&V.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,bl.get())};d()}}return _.currentPopupAction=null,_})();const ds=new Map;class Ua extends Ql{constructor(c,d,C=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,C),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,D.Z)(function*(){let C=ds.get(d.auth._key());if(!C){try{const Z=(yield function ql(_,c){return Ea.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;C=()=>Promise.resolve(Z)}catch(V){C=()=>Promise.reject(V)}ds.set(d.auth._key(),C)}return d.bypassAuthState||ds.set(d.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,C=this;return(0,D.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(C,c);if("unknown"!==c.type){if(c.eventId){const V=yield C.auth._redirectUserForId(c.eventId);if(V)return C.user=V,d().call(C,c);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function Ea(){return(Ea=(0,D.Z)(function*(_,c){const d=j(c),C=P(_);if(!(yield C._isAvailable()))return!1;const V="true"===(yield C._get(d));return yield C._remove(d),V})).apply(this,arguments)}function oa(_,c){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,D.Z)(function*(_,c){return P(_)._set(j(c),"true")})).apply(this,arguments)}function Sl(){ds.clear()}function b(_,c){ds.set(_._key(),c)}function P(_){return Ne(_._redirectPersistence)}function j(_){return zt("pendingRedirect",_.config.apiKey,_.name)}function ne(_,c,d){return function xe(_,c,d){return qe.apply(this,arguments)}(_,c,d)}function qe(){return(qe=(0,D.Z)(function*(_,c,d){const C=wr(_);je(_,c,Vr);const V=Ks(C,d);return yield oa(V,C),V._openRedirect(C,c,"signInViaRedirect")})).apply(this,arguments)}function It(_,c,d){return function jt(_,c,d){return gn.apply(this,arguments)}(_,c,d)}function gn(){return(gn=(0,D.Z)(function*(_,c,d){const C=(0,T.m9)(_);je(C.auth,c,Vr);const V=Ks(C.auth,d);yield oa(V,C.auth);const Z=yield Ao(C);return V._openRedirect(C.auth,c,"reauthViaRedirect",Z)})).apply(this,arguments)}function Xn(_,c,d){return function un(_,c,d){return En.apply(this,arguments)}(_,c,d)}function En(){return(En=(0,D.Z)(function*(_,c,d){const C=(0,T.m9)(_);je(C.auth,c,Vr);const V=Ks(C.auth,d);yield A(!1,C,c.providerId),yield oa(V,C.auth);const Z=yield Ao(C);return V._openRedirect(C.auth,c,"linkViaRedirect",Z)})).apply(this,arguments)}function di(_,c){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,D.Z)(function*(_,c){return yield wr(_)._initializationPromise,es(_,c,!1)})).apply(this,arguments)}function es(_,c){return So.apply(this,arguments)}function So(){return(So=(0,D.Z)(function*(_,c,d=!1){const C=wr(_),V=Ks(C,c),We=yield new Ua(C,V,d).execute();return We&&!d&&(delete We.user._redirectEventId,yield C._persistUserIfCurrent(We.user),yield C._setRedirectUser(null,c)),We})).apply(this,arguments)}function Ao(_){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,D.Z)(function*(_){const c=yr(`${_.uid}:::`);return _._redirectEventId=c,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),c})).apply(this,arguments)}class Es{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(c,C)&&(d=!0,this.sendToConsumer(c,C),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Da(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cs(_);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var C;if(c.error&&!Cs(c)){const V=(null===(C=c.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";d.onError(Ve(this.auth,V))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const C=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&C}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Us(c))}saveEventToCache(c){this.cachedEventUids.add(Us(c)),this.lastProcessedEventTime=Date.now()}}function Us(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(c=>c).join("-")}function Cs({type:_,error:c}){return"unknown"===_&&"auth/no-auth-event"===c?.code}function Al(_){return go.apply(this,arguments)}function go(){return(go=(0,D.Z)(function*(_,c={}){return Fn(_,"GET","/v1/projects",c)})).apply(this,arguments)}const sl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jl=/^https?/;function Ba(){return(Ba=(0,D.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:c}=yield Al(_);for(const d of c)try{if(Yo(d))return}catch{}pt(_,"unauthorized-domain")})).apply(this,arguments)}function Yo(_){const c=Be(),{protocol:d,hostname:C}=new URL(c);if(_.startsWith("chrome-extension://")){const We=new URL(_);return""===We.hostname&&""===C?"chrome-extension:"===d&&_.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&We.hostname===C}if(!Jl.test(d))return!1;if(sl.test(_))return C===_;const V=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(C)}const Va=new ht(3e4,6e4);function Rl(){const _=vn().___jsl;if(_?.H)for(const c of Object.keys(_.H))if(_.H[c].r=_.H[c].r||[],_.H[c].L=_.H[c].L||[],_.H[c].r=[..._.H[c].L],_.CP)for(let d=0;d<_.CP.length;d++)_.CP[d]=null}let ja=null;function Xl(_){return ja=ja||function Nc(_){return new Promise((c,d)=>{var C,V,Z;function We(){Rl(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Rl(),d(Ve(_,"network-request-failed"))},timeout:Va.get()})}if(null!==(V=null===(C=vn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==V&&V.Iframe)c(gapi.iframes.getContext());else{if(null===(Z=vn().gapi)||void 0===Z||!Z.load){const vt=br("iframefcb");return vn()[vt]=()=>{gapi.load?We():d(Ve(_,"network-request-failed"))},Kt(`https://apis.google.com/js/api.js?onload=${vt}`).catch(qt=>d(qt))}We()}}).catch(c=>{throw ja=null,c})}(_),ja}const eu=new ht(5e3,15e3),ol={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ro=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function al(_){const c=_.config;ge(c.authDomain,_,"auth-domain-config-required");const d=c.emulator?hn(c,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,C={apiKey:c.apiKey,appName:_.name,v:U.SDK_VERSION},V=Ro.get(_.config.apiHost);V&&(C.eid=V);const Z=_._getFrameworks();return Z.length&&(C.fw=Z.join(",")),`${d}?${(0,T.xO)(C).slice(1)}`}function ll(){return ll=(0,D.Z)(function*(_){const c=yield Xl(_),d=vn().gapi;return ge(d,_,"internal-error"),c.open({where:document.body,url:al(_),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ol,dontclear:!0},C=>new Promise(function(){var V=(0,D.Z)(function*(Z,We){yield C.restyle({setHideOnLeave:!1});const vt=Ve(_,"network-request-failed"),qt=vn().setTimeout(()=>{We(vt)},eu.get());function wn(){vn().clearTimeout(qt),Z(C)}C.ping(wn).then(wn,()=>{We(vt)})});return function(Z,We){return V.apply(this,arguments)}}()))}),ll.apply(this,arguments)}const Nl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class aa{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wa(_,c,d,C,V,Z){ge(_.config.authDomain,_,"auth-domain-config-required"),ge(_.config.apiKey,_,"invalid-api-key");const We={apiKey:_.config.apiKey,appName:_.name,authType:d,redirectUrl:C,v:U.SDK_VERSION,eventId:V};if(c instanceof Vr){c.setDefaultLanguage(_.languageCode),We.providerId=c.providerId||"",(0,T.xb)(c.getCustomParameters())||(We.customParameters=JSON.stringify(c.getCustomParameters()));for(const[qt,wn]of Object.entries(Z||{}))We[qt]=wn}if(c instanceof Li){const qt=c.getScopes().filter(wn=>""!==wn);qt.length>0&&(We.scopes=qt.join(","))}_.tenantId&&(We.tid=_.tenantId);const vt=We;for(const qt of Object.keys(vt))void 0===vt[qt]&&delete vt[qt];return`${function ru({config:_}){return _.emulator?hn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,T.xO)(vt).slice(1)}`}const qo="webStorageSupport",Js=class mo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kn,this._completeRedirectFn=es,this._overrideRedirectResult=b}_openPopup(c,d,C,V){var Z=this;return(0,D.Z)(function*(){var We;Ze(null===(We=Z.eventManagers[c._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const vt=wa(c,d,C,Be(),V);return function Wu(_,c,d,C=500,V=600){const Z=Math.max((window.screen.availHeight-V)/2,0).toString(),We=Math.max((window.screen.availWidth-C)/2,0).toString();let vt="";const qt=Object.assign(Object.assign({},Nl),{width:C.toString(),height:V.toString(),top:Z,left:We}),wn=(0,T.z$)().toLowerCase();d&&(vt=Xe(wn)?"_blank":d),oe(wn)&&(c=c||"http://localhost",qt.scrollbars="yes");const er=Object.entries(qt).reduce((Xs,[ns,Mo])=>`${Xs}${ns}=${Mo},`,"");if(function X(_=(0,T.z$)()){var c;return me(_)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(wn)&&"_self"!==vt)return function zu(_,c){const d=document.createElement("a");d.href=_,d.target=c;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(C)}(c||"",vt),new aa(null);const $r=window.open(c||"",vt,er);ge($r,_,"popup-blocked");try{$r.focus()}catch{}return new aa($r)}(c,vt,yr())})()}_openRedirect(c,d,C,V){var Z=this;return(0,D.Z)(function*(){return yield Z._originValidation(c),function _s(_){vn().location.href=_}(wa(c,d,C,Be(),V)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:V,promise:Z}=this.eventManagers[d];return V?Promise.resolve(V):(Ze(Z,"If manager is not set, promise should be"),Z)}const C=this.initAndGetManager(c);return this.eventManagers[d]={promise:C},C.catch(()=>{delete this.eventManagers[d]}),C}initAndGetManager(c){var d=this;return(0,D.Z)(function*(){const C=yield function tu(_){return ll.apply(this,arguments)}(c),V=new Es(c);return C.register("authEvent",Z=>(ge(Z?.authEvent,c,"invalid-auth-event"),{status:V.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:V},d.iframes[c._key()]=C,V})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(qo,{type:qo},V=>{var Z;const We=null===(Z=V?.[0])||void 0===Z?void 0:Z[qo];void 0!==We&&d(!!We),pt(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function $u(_){return Ba.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return at()||ce()||me()}};class ul extends class Gu{constructor(c){this.factorId=c}_process(c,d,C){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,C);case"signin":return this._finalizeSignIn(c,d.credential);default:return L("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new ul(c)}_finalizeEnroll(c,d,C){return function ai(_,c){return Fn(_,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(_,c))}(c,{idToken:d,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function _e(_,c){return Fn(_,"POST","/v2/accounts/mfaSignIn:finalize",Jt(_,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xl=(()=>{class _{constructor(){}static assertion(d){return ul._fromCredential(d)}}return _.FACTOR_ID="phone",_})();var Ia="@firebase/auth";class Bo{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,D.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(C=>{var V;c((null===(V=C)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);!d||(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function kl(_){(0,U._registerComponent)(new Te.wA("auth",(c,{options:d})=>{const C=c.getProvider("app").getImmediate(),V=c.getProvider("heartbeat"),{apiKey:Z,authDomain:We}=C.options;return((vt,qt)=>{ge(Z&&!Z.includes(":"),"invalid-api-key",{appName:vt.name}),ge(!We?.includes(":"),"argument-error",{appName:vt.name});const wn={apiKey:Z,authDomain:We,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bn(_)},er=new rn(vt,qt,wn);return function Ke(_,c){const d=c?.persistence||[],C=(Array.isArray(d)?d:[d]).map(Ne);c?.errorMap&&_._updateErrorMap(c.errorMap),_._initializeWithPersistence(C,c?.popupRedirectResolver)}(er,d),er})(C,V)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,C)=>{c.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new Te.wA("auth-internal",c=>{const d=wr(c.getProvider("auth").getImmediate());return new Bo(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(Ia,"0.20.4",function ts(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,U.registerVersion)(Ia,"0.20.4","esm2017")}("Browser")},2090:(kt,ke,O)=>{O.d(ke,{$s:()=>zn,BH:()=>nt,DV:()=>Fn,Dv:()=>Zt,GJ:()=>tn,L:()=>Ee,LL:()=>Be,Pz:()=>Wt,Sg:()=>ze,UG:()=>Ue,UI:()=>Pr,US:()=>Te,Wj:()=>rt,Yr:()=>wt,ZB:()=>te,ZR:()=>Ke,b$:()=>pt,cI:()=>xt,dS:()=>Ie,eu:()=>Ze,g5:()=>U,gK:()=>vr,gQ:()=>sr,h$:()=>ie,hl:()=>L,hu:()=>T,jU:()=>$e,lb:()=>he,m9:()=>_n,ne:()=>tr,p$:()=>Y,pd:()=>lr,r3:()=>Jt,ru:()=>_t,tV:()=>Me,uI:()=>ft,ug:()=>ot,vZ:()=>pr,w1:()=>be,w9:()=>Xt,xO:()=>On,xb:()=>fn,z$:()=>Je,zI:()=>Ce,zd:()=>mr});const T=function(ue,ee){if(!ue)throw U(ee)},U=function(ue){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ue)},de=function(ue){const ee=[];let Se=0;for(let Ae=0;Ae<ue.length;Ae++){let J=ue.charCodeAt(Ae);J<128?ee[Se++]=J:J<2048?(ee[Se++]=J>>6|192,ee[Se++]=63&J|128):55296==(64512&J)&&Ae+1<ue.length&&56320==(64512&ue.charCodeAt(Ae+1))?(J=65536+((1023&J)<<10)+(1023&ue.charCodeAt(++Ae)),ee[Se++]=J>>18|240,ee[Se++]=J>>12&63|128,ee[Se++]=J>>6&63|128,ee[Se++]=63&J|128):(ee[Se++]=J>>12|224,ee[Se++]=J>>6&63|128,ee[Se++]=63&J|128)}return ee},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ee){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let J=0;J<ue.length;J+=3){const tt=ue[J],bt=J+1<ue.length,Ut=bt?ue[J+1]:0,dn=J+2<ue.length,yn=dn?ue[J+2]:0;let He=(15&Ut)<<2|yn>>6,oe=63&yn;dn||(oe=64,bt||(He=64)),Ae.push(Se[tt>>2],Se[(3&tt)<<4|Ut>>4],Se[He],Se[oe])}return Ae.join("")},encodeString(ue,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(ue):this.encodeByteArray(de(ue),ee)},decodeString(ue,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(ue):function(ue){const ee=[];let Se=0,Ae=0;for(;Se<ue.length;){const J=ue[Se++];if(J<128)ee[Ae++]=String.fromCharCode(J);else if(J>191&&J<224){const tt=ue[Se++];ee[Ae++]=String.fromCharCode((31&J)<<6|63&tt)}else if(J>239&&J<365){const dn=((7&J)<<18|(63&ue[Se++])<<12|(63&ue[Se++])<<6|63&ue[Se++])-65536;ee[Ae++]=String.fromCharCode(55296+(dn>>10)),ee[Ae++]=String.fromCharCode(56320+(1023&dn))}else{const tt=ue[Se++],bt=ue[Se++];ee[Ae++]=String.fromCharCode((15&J)<<12|(63&tt)<<6|63&bt)}}return ee.join("")}(this.decodeStringToByteArray(ue,ee))},decodeStringToByteArray(ue,ee){this.init_();const Se=ee?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let J=0;J<ue.length;){const tt=Se[ue.charAt(J++)],Ut=J<ue.length?Se[ue.charAt(J)]:0;++J;const yn=J<ue.length?Se[ue.charAt(J)]:64;++J;const pn=J<ue.length?Se[ue.charAt(J)]:64;if(++J,null==tt||null==Ut||null==yn||null==pn)throw Error();Ae.push(tt<<2|Ut>>4),64!==yn&&(Ae.push(Ut<<4&240|yn>>2),64!==pn&&Ae.push(yn<<6&192|pn))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},ie=function(ue){const ee=de(ue);return Te.encodeByteArray(ee,!0)},Ee=function(ue){return ie(ue).replace(/\./g,"")},Me=function(ue){try{return Te.decodeString(ue,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function Y(ue){return te(void 0,ue)}function te(ue,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ee}for(const Se in ee)!ee.hasOwnProperty(Se)||!Re(Se)||(ue[Se]=te(ue[Se],ee[Se]));return ue}function Re(ue){return"__proto__"!==ue}class nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,Se)=>{this.resolve=ee,this.reject=Se})}wrapCallback(ee){return(Se,Ae)=>{Se?this.reject(Se):this.resolve(Ae),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(Se):ee(Se,Ae))}}}function ze(ue,ee){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=ee||"demo-project",J=ue.iat||0,tt=ue.sub||ue.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:J,exp:J+3600,auth_time:J,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(bt)),""].join(".")}function Je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ft(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Ue(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function _t(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){const ue=Je();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function wt(){return!1}function L(){return"object"==typeof indexedDB}function Ze(){return new Promise((ue,ee)=>{try{let Se=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(Ae);J.onsuccess=()=>{J.result.close(),Se||self.indexedDB.deleteDatabase(Ae),ue(!0)},J.onupgradeneeded=()=>{Se=!1},J.onerror=()=>{var tt;ee((null===(tt=J.error)||void 0===tt?void 0:tt.message)||"")}}catch(Se){ee(Se)}})}function Ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ke extends Error{constructor(ee,Se,Ae){super(Se),this.code=ee,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(ee,Se,Ae){this.service=ee,this.serviceName=Se,this.errors=Ae}create(ee,...Se){const Ae=Se[0]||{},J=`${this.service}/${ee}`,tt=this.errors[ee],bt=tt?function gt(ue,ee){return ue.replace(Tt,(Se,Ae)=>{const J=ee[Ae];return null!=J?String(J):`<${Ae}?>`})}(tt,Ae):"Error";return new Ke(J,`${this.serviceName}: ${bt} (${J}).`,Ae)}}const Tt=/\{\$([^}]+)}/g;function xt(ue){return JSON.parse(ue)}function Wt(ue){return JSON.stringify(ue)}const ht=function(ue){let ee={},Se={},Ae={},J="";try{const tt=ue.split(".");ee=xt(Me(tt[0])||""),Se=xt(Me(tt[1])||""),J=tt[2],Ae=Se.d||{},delete Se.d}catch{}return{header:ee,claims:Se,data:Ae,signature:J}},Xt=function(ue){const Se=ht(ue).claims;return!!Se&&"object"==typeof Se&&Se.hasOwnProperty("iat")},tn=function(ue){const ee=ht(ue).claims;return"object"==typeof ee&&!0===ee.admin};function Jt(ue,ee){return Object.prototype.hasOwnProperty.call(ue,ee)}function Fn(ue,ee){if(Object.prototype.hasOwnProperty.call(ue,ee))return ue[ee]}function fn(ue){for(const ee in ue)if(Object.prototype.hasOwnProperty.call(ue,ee))return!1;return!0}function Pr(ue,ee,Se){const Ae={};for(const J in ue)Object.prototype.hasOwnProperty.call(ue,J)&&(Ae[J]=ee.call(Se,ue[J],J,ue));return Ae}function pr(ue,ee){if(ue===ee)return!0;const Se=Object.keys(ue),Ae=Object.keys(ee);for(const J of Se){if(!Ae.includes(J))return!1;const tt=ue[J],bt=ee[J];if(Un(tt)&&Un(bt)){if(!pr(tt,bt))return!1}else if(tt!==bt)return!1}for(const J of Ae)if(!Se.includes(J))return!1;return!0}function Un(ue){return null!==ue&&"object"==typeof ue}function On(ue){const ee=[];for(const[Se,Ae]of Object.entries(ue))Array.isArray(Ae)?Ae.forEach(J=>{ee.push(encodeURIComponent(Se)+"="+encodeURIComponent(J))}):ee.push(encodeURIComponent(Se)+"="+encodeURIComponent(Ae));return ee.length?"&"+ee.join("&"):""}function mr(ue){const ee={};return ue.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[J,tt]=Ae.split("=");ee[decodeURIComponent(J)]=decodeURIComponent(tt)}}),ee}function lr(ue){const ee=ue.indexOf("?");if(!ee)return"";const Se=ue.indexOf("#",ee);return ue.substring(ee,Se>0?Se:void 0)}class sr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ee=1;ee<this.blockSize;++ee)this.pad_[ee]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ee,Se){Se||(Se=0);const Ae=this.W_;if("string"==typeof ee)for(let pn=0;pn<16;pn++)Ae[pn]=ee.charCodeAt(Se)<<24|ee.charCodeAt(Se+1)<<16|ee.charCodeAt(Se+2)<<8|ee.charCodeAt(Se+3),Se+=4;else for(let pn=0;pn<16;pn++)Ae[pn]=ee[Se]<<24|ee[Se+1]<<16|ee[Se+2]<<8|ee[Se+3],Se+=4;for(let pn=16;pn<80;pn++){const He=Ae[pn-3]^Ae[pn-8]^Ae[pn-14]^Ae[pn-16];Ae[pn]=4294967295&(He<<1|He>>>31)}let yn,zt,J=this.chain_[0],tt=this.chain_[1],bt=this.chain_[2],Ut=this.chain_[3],dn=this.chain_[4];for(let pn=0;pn<80;pn++){pn<40?pn<20?(yn=Ut^tt&(bt^Ut),zt=1518500249):(yn=tt^bt^Ut,zt=1859775393):pn<60?(yn=tt&bt|Ut&(tt|bt),zt=2400959708):(yn=tt^bt^Ut,zt=3395469782);const He=(J<<5|J>>>27)+yn+dn+zt+Ae[pn]&4294967295;dn=Ut,Ut=bt,bt=4294967295&(tt<<30|tt>>>2),tt=J,J=He}this.chain_[0]=this.chain_[0]+J&4294967295,this.chain_[1]=this.chain_[1]+tt&4294967295,this.chain_[2]=this.chain_[2]+bt&4294967295,this.chain_[3]=this.chain_[3]+Ut&4294967295,this.chain_[4]=this.chain_[4]+dn&4294967295}update(ee,Se){if(null==ee)return;void 0===Se&&(Se=ee.length);const Ae=Se-this.blockSize;let J=0;const tt=this.buf_;let bt=this.inbuf_;for(;J<Se;){if(0===bt)for(;J<=Ae;)this.compress_(ee,J),J+=this.blockSize;if("string"==typeof ee){for(;J<Se;)if(tt[bt]=ee.charCodeAt(J),++bt,++J,bt===this.blockSize){this.compress_(tt),bt=0;break}}else for(;J<Se;)if(tt[bt]=ee[J],++bt,++J,bt===this.blockSize){this.compress_(tt),bt=0;break}}this.inbuf_=bt,this.total_+=Se}digest(){const ee=[];let Se=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let J=this.blockSize-1;J>=56;J--)this.buf_[J]=255&Se,Se/=256;this.compress_(this.buf_);let Ae=0;for(let J=0;J<5;J++)for(let tt=24;tt>=0;tt-=8)ee[Ae]=this.chain_[J]>>tt&255,++Ae;return ee}}function tr(ue,ee){const Se=new Pt(ue,ee);return Se.subscribe.bind(Se)}class Pt{constructor(ee,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{ee(this)}).catch(Ae=>{this.error(Ae)})}next(ee){this.forEachObserver(Se=>{Se.next(ee)})}error(ee){this.forEachObserver(Se=>{Se.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,Se,Ae){let J;if(void 0===ee&&void 0===Se&&void 0===Ae)throw new Error("Missing Observer.");J=function bn(ue,ee){if("object"!=typeof ue||null===ue)return!1;for(const Se of ee)if(Se in ue&&"function"==typeof ue[Se])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:Se,complete:Ae},void 0===J.next&&(J.next=an),void 0===J.error&&(J.error=an),void 0===J.complete&&(J.complete=an);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),tt}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,ee)}sendOne(ee,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{Se(this.observers[ee])}catch(Ae){typeof console<"u"&&console.error&&console.error(Ae)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function an(){}const Zt=function(ue,ee,Se,Ae){let J;if(Ae<ee?J="at least "+ee:Ae>Se&&(J=0===Se?"none":"no more than "+Se),J)throw new Error(ue+" failed: Was called with "+Ae+(1===Ae?" argument.":" arguments.")+" Expects "+J+".")};function vr(ue,ee){return`${ue} failed: ${ee} argument `}function rt(ue,ee,Se,Ae){if((!Ae||Se)&&"function"!=typeof Se)throw new Error(vr(ue,ee)+"must be a valid function.")}function he(ue,ee,Se,Ae){if((!Ae||Se)&&("object"!=typeof Se||null===Se))throw new Error(vr(ue,ee)+"must be a valid context object.")}const Ie=function(ue){const ee=[];let Se=0;for(let Ae=0;Ae<ue.length;Ae++){let J=ue.charCodeAt(Ae);if(J>=55296&&J<=56319){const tt=J-55296;Ae++,T(Ae<ue.length,"Surrogate pair missing trail surrogate."),J=65536+(tt<<10)+(ue.charCodeAt(Ae)-56320)}J<128?ee[Se++]=J:J<2048?(ee[Se++]=J>>6|192,ee[Se++]=63&J|128):J<65536?(ee[Se++]=J>>12|224,ee[Se++]=J>>6&63|128,ee[Se++]=63&J|128):(ee[Se++]=J>>18|240,ee[Se++]=J>>12&63|128,ee[Se++]=J>>6&63|128,ee[Se++]=63&J|128)}return ee},ot=function(ue){let ee=0;for(let Se=0;Se<ue.length;Se++){const Ae=ue.charCodeAt(Se);Ae<128?ee++:Ae<2048?ee+=2:Ae>=55296&&Ae<=56319?(ee+=4,Se++):ee+=3}return ee};function zn(ue,ee=1e3,Se=2){const Ae=ee*Math.pow(Se,ue),J=Math.round(.5*Ae*(Math.random()-.5)*2);return Math.min(144e5,Ae+J)}function _n(ue){return ue&&ue._delegate?ue._delegate:ue}},4374:(kt,ke,O)=>{O.d(ke,{n:()=>Te});var D=O(6895),T=O(284),U=O(4650);const de=[{path:"login",loadChildren:()=>Promise.all([O.e(915),O.e(592),O.e(617)]).then(O.bind(O,6617)).then(ie=>ie.LoginModule)},{path:"register",loadChildren:()=>Promise.all([O.e(915),O.e(592),O.e(351)]).then(O.bind(O,7351)).then(ie=>ie.RegisterModule)},{path:"forgot",loadChildren:()=>Promise.all([O.e(915),O.e(623)]).then(O.bind(O,6623)).then(ie=>ie.ForgotModule)},{path:"banner/:userEmail/:userName",loadChildren:()=>Promise.all([O.e(915),O.e(592),O.e(688)]).then(O.bind(O,2688)).then(ie=>ie.BannerModule)},{path:"products",loadChildren:()=>Promise.all([O.e(915),O.e(592),O.e(65)]).then(O.bind(O,3065)).then(ie=>ie.ProductsModule)},{path:"productsAdd",loadChildren:()=>Promise.all([O.e(915),O.e(592),O.e(561)]).then(O.bind(O,6561)).then(ie=>ie.AddModule)},{path:"**",redirectTo:"login"}];let le=(()=>{class ie{}return ie.\u0275fac=function(Me){return new(Me||ie)},ie.\u0275mod=U.oAB({type:ie}),ie.\u0275inj=U.cJS({imports:[T.Bz.forChild(de),T.Bz]}),ie})(),Te=(()=>{class ie{}return ie.\u0275fac=function(Me){return new(Me||ie)},ie.\u0275mod=U.oAB({type:ie}),ie.\u0275inj=U.cJS({imports:[D.ez,le]}),ie})()},2340:(kt,ke,O)=>{O.d(ke,{N:()=>D});const D={firebase:{projectId:"usercontrol-bootcampangular",appId:"1:837822863392:web:1c8a5f3ad151fdfd3f8445",databaseURL:"https://usercontrol-bootcampangular-default-rtdb.firebaseio.com",storageBucket:"usercontrol-bootcampangular.appspot.com",apiKey:"AIzaSyDoBrHrAE19oZAiPUCcKvBMyWjjUhXmh5A",authDomain:"usercontrol-bootcampangular.firebaseapp.com",messagingSenderId:"837822863392"},production:!0}},4066:(kt,ke,O)=>{var D=O(1481),T=O(4650),U=O(284);const de=[];let le=(()=>{class F{}return F.\u0275fac=function(m){return new(m||F)},F.\u0275mod=T.oAB({type:F}),F.\u0275inj=T.cJS({imports:[U.Bz.forRoot(de),U.Bz]}),F})(),Te=(()=>{class F{constructor(){this.title="Login_1"}ngOnInit(){}}return F.\u0275fac=function(m){return new(m||F)},F.\u0275cmp=T.Xpm({type:F,selectors:[["app-root"]],decls:1,vars:0,template:function(m,R){1&m&&T._UZ(0,"router-outlet")},dependencies:[U.lC]}),F})();var ie=O(7340);function Me(F){return new T.vHH(3e3,!1)}function pr(){return typeof window<"u"&&typeof window.document<"u"}function Un(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function On(F){switch(F.length){case 0:return new ie.ZN;case 1:return F[0];default:return new ie.ZE(F)}}function mr(F,f,m,R,B=new Map,K=new Map){const pe=[],ye=[];let Le=-1,ct=null;if(R.forEach(Ot=>{const Qt=Ot.get("offset"),Gn=Qt==Le,qn=Gn&&ct||new Map;Ot.forEach((Sn,An)=>{let Wn=An,ur=Sn;if("offset"!==An)switch(Wn=f.normalizePropertyName(Wn,pe),ur){case ie.k1:ur=B.get(An);break;case ie.l3:ur=K.get(An);break;default:ur=f.normalizeStyleValue(An,Wn,ur,pe)}qn.set(Wn,ur)}),Gn||ye.push(qn),ct=qn,Le=Qt}),pe.length)throw function gt(F){return new T.vHH(3502,!1)}();return ye}function lr(F,f,m,R){switch(f){case"start":F.onStart(()=>R(m&&sr(m,"start",F)));break;case"done":F.onDone(()=>R(m&&sr(m,"done",F)));break;case"destroy":F.onDestroy(()=>R(m&&sr(m,"destroy",F)))}}function sr(F,f,m){const K=tr(F.element,F.triggerName,F.fromState,F.toState,f||F.phaseName,m.totalTime??F.totalTime,!!m.disabled),pe=F._data;return null!=pe&&(K._data=pe),K}function tr(F,f,m,R,B="",K=0,pe){return{element:F,triggerName:f,fromState:m,toState:R,phaseName:B,totalTime:K,disabled:!!pe}}function Pt(F,f,m){let R=F.get(f);return R||F.set(f,R=m),R}function Tn(F){const f=F.indexOf(":");return[F.substring(1,f),F.slice(f+1)]}let bn=(F,f)=>!1,an=(F,f,m)=>[],Zt=null;function vr(F){const f=F.parentNode||F.host;return f===Zt?null:f}(Un()||typeof Element<"u")&&(pr()?(Zt=(()=>document.documentElement)(),bn=(F,f)=>{for(;f;){if(f===F)return!0;f=vr(f)}return!1}):bn=(F,f)=>F.contains(f),an=(F,f,m)=>{if(m)return Array.from(F.querySelectorAll(f));const R=F.querySelector(f);return R?[R]:[]});let he=null,Ie=!1;const Rn=bn,Cn=an;let zn=(()=>{class F{validateStyleProperty(m){return function ot(F){he||(he=function ut(){return typeof document<"u"?document.body:null}()||{},Ie=!!he.style&&"WebkitAppearance"in he.style);let f=!0;return he.style&&!function rt(F){return"ebkit"==F.substring(1,6)}(F)&&(f=F in he.style,!f&&Ie&&(f="Webkit"+F.charAt(0).toUpperCase()+F.slice(1)in he.style)),f}(m)}matchesElement(m,R){return!1}containsElement(m,R){return Rn(m,R)}getParentElement(m){return vr(m)}query(m,R,B){return Cn(m,R,B)}computeStyle(m,R,B){return B||""}animate(m,R,B,K,pe,ye=[],Le){return new ie.ZN(B,K)}}return F.\u0275fac=function(m){return new(m||F)},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})(),on=(()=>{class F{}return F.NOOP=new zn,F})();const ee="ng-enter",Se="ng-leave",Ae="ng-trigger",J=".ng-trigger",tt="ng-animating",bt=".ng-animating";function Ut(F){if("number"==typeof F)return F;const f=F.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:dn(parseFloat(f[1]),f[2])}function dn(F,f){return"s"===f?1e3*F:F}function yn(F,f,m){return F.hasOwnProperty("duration")?F:function zt(F,f,m){let B,K=0,pe="";if("string"==typeof F){const ye=F.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ye)return f.push(Me()),{duration:0,delay:0,easing:""};B=dn(parseFloat(ye[1]),ye[2]);const Le=ye[3];null!=Le&&(K=dn(parseFloat(Le),ye[4]));const ct=ye[5];ct&&(pe=ct)}else B=F;if(!m){let ye=!1,Le=f.length;B<0&&(f.push(function Y(){return new T.vHH(3100,!1)}()),ye=!0),K<0&&(f.push(function te(){return new T.vHH(3101,!1)}()),ye=!0),ye&&f.splice(Le,0,Me())}return{duration:B,delay:K,easing:pe}}(F,f,m)}function pn(F,f={}){return Object.keys(F).forEach(m=>{f[m]=F[m]}),f}function He(F){const f=new Map;return Object.keys(F).forEach(m=>{f.set(m,F[m])}),f}function Xe(F,f=new Map,m){if(m)for(let[R,B]of m)f.set(R,B);for(let[R,B]of F)f.set(R,B);return f}function At(F,f,m){return m?f+":"+m+";":""}function Yt(F){let f="";for(let m=0;m<F.style.length;m++){const R=F.style.item(m);f+=At(0,R,F.style.getPropertyValue(R))}for(const m in F.style)F.style.hasOwnProperty(m)&&!m.startsWith("_")&&(f+=At(0,rn(m),F.style[m]));F.setAttribute("style",f)}function st(F,f,m){F.style&&(f.forEach((R,B)=>{const K=gr(B);m&&!m.has(B)&&m.set(B,F.style[K]),F.style[K]=R}),Un()&&Yt(F))}function Ft(F,f){F.style&&(f.forEach((m,R)=>{const B=gr(R);F.style[B]=""}),Un()&&Yt(F))}function me(F){return Array.isArray(F)?1==F.length?F[0]:(0,ie.vP)(F):F}const X=new RegExp("{{\\s*(.+?)\\s*}}","g");function fe(F){let f=[];if("string"==typeof F){let m;for(;m=X.exec(F);)f.push(m[1]);X.lastIndex=0}return f}function at(F,f,m){const R=F.toString(),B=R.replace(X,(K,pe)=>{let ye=f[pe];return null==ye&&(m.push(function nt(F){return new T.vHH(3003,!1)}()),ye=""),ye.toString()});return B==R?F:B}function Vt(F){const f=[];let m=F.next();for(;!m.done;)f.push(m.value),m=F.next();return f}const Bn=/-+([a-z0-9])/g;function gr(F){return F.replace(Bn,(...f)=>f[1].toUpperCase())}function rn(F){return F.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yr(F,f,m){switch(f.type){case 7:return F.visitTrigger(f,m);case 0:return F.visitState(f,m);case 1:return F.visitTransition(f,m);case 2:return F.visitSequence(f,m);case 3:return F.visitGroup(f,m);case 4:return F.visitAnimate(f,m);case 5:return F.visitKeyframes(f,m);case 6:return F.visitStyle(f,m);case 8:return F.visitReference(f,m);case 9:return F.visitAnimateChild(f,m);case 10:return F.visitAnimateRef(f,m);case 11:return F.visitQuery(f,m);case 12:return F.visitStagger(f,m);default:throw function ze(F){return new T.vHH(3004,!1)}()}}function fi(F,f){return window.getComputedStyle(F)[f]}function Ci(F,f){const m=[];return"string"==typeof F?F.split(/\s*,\s*/).forEach(R=>function xi(F,f,m){if(":"==F[0]){const Le=function Jr(F,f){switch(F){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,R)=>parseFloat(R)>parseFloat(m);case":decrement":return(m,R)=>parseFloat(R)<parseFloat(m);default:return f.push(function Ne(F){return new T.vHH(3016,!1)}()),"* => *"}}(F,m);if("function"==typeof Le)return void f.push(Le);F=Le}const R=F.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return m.push(function Ce(F){return new T.vHH(3015,!1)}()),f;const B=R[1],K=R[2],pe=R[3];f.push(De(B,pe));"<"==K[0]&&!("*"==B&&"*"==pe)&&f.push(De(pe,B))}(R,m,f)):m.push(F),m}const Di=new Set(["true","1"]),Pe=new Set(["false","0"]);function De(F,f){const m=Di.has(F)||Pe.has(F),R=Di.has(f)||Pe.has(f);return(B,K)=>{let pe="*"==F||F==B,ye="*"==f||f==K;return!pe&&m&&"boolean"==typeof B&&(pe=B?Di.has(F):Pe.has(F)),!ye&&R&&"boolean"==typeof K&&(ye=K?Di.has(f):Pe.has(f)),pe&&ye}}const lt=new RegExp("s*:selfs*,?","g");function Ct(F,f,m,R){return new nr(F).build(f,m,R)}class nr{constructor(f){this._driver=f}build(f,m,R){const B=new si(m);return this._resetContextStyleTimingState(B),Yr(this,me(f),B)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,m){let R=m.queryCount=0,B=m.depCount=0;const K=[],pe=[];return"@"==f.name.charAt(0)&&m.errors.push(function ft(){return new T.vHH(3006,!1)}()),f.definitions.forEach(ye=>{if(this._resetContextStyleTimingState(m),0==ye.type){const Le=ye,ct=Le.name;ct.toString().split(/\s*,\s*/).forEach(Ot=>{Le.name=Ot,K.push(this.visitState(Le,m))}),Le.name=ct}else if(1==ye.type){const Le=this.visitTransition(ye,m);R+=Le.queryCount,B+=Le.depCount,pe.push(Le)}else m.errors.push(function Ue(){return new T.vHH(3007,!1)}())}),{type:7,name:f.name,states:K,transitions:pe,queryCount:R,depCount:B,options:null}}visitState(f,m){const R=this.visitStyle(f.styles,m),B=f.options&&f.options.params||null;if(R.containsDynamicStyles){const K=new Set,pe=B||{};R.styles.forEach(ye=>{ye instanceof Map&&ye.forEach(Le=>{fe(Le).forEach(ct=>{pe.hasOwnProperty(ct)||K.add(ct)})})}),K.size&&(Vt(K.values()),m.errors.push(function $e(F,f){return new T.vHH(3008,!1)}()))}return{type:0,name:f.name,style:R,options:B?{params:B}:null}}visitTransition(f,m){m.queryCount=0,m.depCount=0;const R=Yr(this,me(f.animation),m);return{type:1,matchers:Ci(f.expr,m.errors),animation:R,queryCount:m.queryCount,depCount:m.depCount,options:oi(f.options)}}visitSequence(f,m){return{type:2,steps:f.steps.map(R=>Yr(this,R,m)),options:oi(f.options)}}visitGroup(f,m){const R=m.currentTime;let B=0;const K=f.steps.map(pe=>{m.currentTime=R;const ye=Yr(this,pe,m);return B=Math.max(B,m.currentTime),ye});return m.currentTime=B,{type:3,steps:K,options:oi(f.options)}}visitAnimate(f,m){const R=function Bs(F,f){if(F.hasOwnProperty("duration"))return F;if("number"==typeof F)return Qr(yn(F,f).duration,0,"");const m=F;if(m.split(/\s+/).some(K=>"{"==K.charAt(0)&&"{"==K.charAt(1))){const K=Qr(0,0,"");return K.dynamic=!0,K.strValue=m,K}const B=yn(m,f);return Qr(B.duration,B.delay,B.easing)}(f.timings,m.errors);m.currentAnimateTimings=R;let B,K=f.styles?f.styles:(0,ie.oB)({});if(5==K.type)B=this.visitKeyframes(K,m);else{let pe=f.styles,ye=!1;if(!pe){ye=!0;const ct={};R.easing&&(ct.easing=R.easing),pe=(0,ie.oB)(ct)}m.currentTime+=R.duration+R.delay;const Le=this.visitStyle(pe,m);Le.isEmptyStep=ye,B=Le}return m.currentAnimateTimings=null,{type:4,timings:R,style:B,options:null}}visitStyle(f,m){const R=this._makeStyleAst(f,m);return this._validateStyleAst(R,m),R}_makeStyleAst(f,m){const R=[],B=Array.isArray(f.styles)?f.styles:[f.styles];for(let ye of B)"string"==typeof ye?ye===ie.l3?R.push(ye):m.errors.push(new T.vHH(3002,!1)):R.push(He(ye));let K=!1,pe=null;return R.forEach(ye=>{if(ye instanceof Map&&(ye.has("easing")&&(pe=ye.get("easing"),ye.delete("easing")),!K))for(let Le of ye.values())if(Le.toString().indexOf("{{")>=0){K=!0;break}}),{type:6,styles:R,easing:pe,offset:f.offset,containsDynamicStyles:K,options:null}}_validateStyleAst(f,m){const R=m.currentAnimateTimings;let B=m.currentTime,K=m.currentTime;R&&K>0&&(K-=R.duration+R.delay),f.styles.forEach(pe=>{"string"!=typeof pe&&pe.forEach((ye,Le)=>{const ct=m.collectedStyles.get(m.currentQuerySelector),Ot=ct.get(Le);let Qt=!0;Ot&&(K!=B&&K>=Ot.startTime&&B<=Ot.endTime&&(m.errors.push(function Ve(F,f,m,R,B){return new T.vHH(3010,!1)}()),Qt=!1),K=Ot.startTime),Qt&&ct.set(Le,{startTime:K,endTime:B}),m.options&&function ae(F,f,m){const R=f.params||{},B=fe(F);B.length&&B.forEach(K=>{R.hasOwnProperty(K)||m.push(function Re(F){return new T.vHH(3001,!1)}())})}(ye,m.options,m.errors)})})}visitKeyframes(f,m){const R={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push(function be(){return new T.vHH(3011,!1)}()),R;let K=0;const pe=[];let ye=!1,Le=!1,ct=0;const Ot=f.steps.map(ur=>{const Dr=this._makeStyleAst(ur,m);let zr=null!=Dr.offset?Dr.offset:function rs(F){if("string"==typeof F)return null;let f=null;if(Array.isArray(F))F.forEach(m=>{if(m instanceof Map&&m.has("offset")){const R=m;f=parseFloat(R.get("offset")),R.delete("offset")}});else if(F instanceof Map&&F.has("offset")){const m=F;f=parseFloat(m.get("offset")),m.delete("offset")}return f}(Dr.styles),jr=0;return null!=zr&&(K++,jr=Dr.offset=zr),Le=Le||jr<0||jr>1,ye=ye||jr<ct,ct=jr,pe.push(jr),Dr});Le&&m.errors.push(function je(){return new T.vHH(3012,!1)}()),ye&&m.errors.push(function wt(){return new T.vHH(3200,!1)}());const Qt=f.steps.length;let Gn=0;K>0&&K<Qt?m.errors.push(function ge(){return new T.vHH(3202,!1)}()):0==K&&(Gn=1/(Qt-1));const qn=Qt-1,Sn=m.currentTime,An=m.currentAnimateTimings,Wn=An.duration;return Ot.forEach((ur,Dr)=>{const zr=Gn>0?Dr==qn?1:Gn*Dr:pe[Dr],jr=zr*Wn;m.currentTime=Sn+An.delay+jr,An.duration=jr,this._validateStyleAst(ur,m),ur.offset=zr,R.styles.push(ur)}),R}visitReference(f,m){return{type:8,animation:Yr(this,me(f.animation),m),options:oi(f.options)}}visitAnimateChild(f,m){return m.depCount++,{type:9,options:oi(f.options)}}visitAnimateRef(f,m){return{type:10,animation:this.visitReference(f.animation,m),options:oi(f.options)}}visitQuery(f,m){const R=m.currentQuerySelector,B=f.options||{};m.queryCount++,m.currentQuery=f;const[K,pe]=function Zr(F){const f=!!F.split(/\s*,\s*/).find(m=>":self"==m);return f&&(F=F.replace(lt,"")),F=F.replace(/@\*/g,J).replace(/@\w+/g,m=>J+"-"+m.slice(1)).replace(/:animating/g,bt),[F,f]}(f.selector);m.currentQuerySelector=R.length?R+" "+K:K,Pt(m.collectedStyles,m.currentQuerySelector,new Map);const ye=Yr(this,me(f.animation),m);return m.currentQuery=null,m.currentQuerySelector=R,{type:11,selector:K,limit:B.limit||0,optional:!!B.optional,includeSelf:pe,animation:ye,originalSelector:f.selector,options:oi(f.options)}}visitStagger(f,m){m.currentQuery||m.errors.push(function L(){return new T.vHH(3013,!1)}());const R="full"===f.timings?{duration:0,delay:0,easing:"full"}:yn(f.timings,m.errors,!0);return{type:12,animation:Yr(this,me(f.animation),m),timings:R,options:null}}}class si{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function oi(F){return F?(F=pn(F)).params&&(F.params=function Dn(F){return F?pn(F):null}(F.params)):F={},F}function Qr(F,f,m){return{duration:F,delay:f,easing:m}}function wi(F,f,m,R,B,K,pe=null,ye=!1){return{type:1,element:F,keyframes:f,preStyleProps:m,postStyleProps:R,duration:B,delay:K,totalTime:B+K,easing:pe,subTimeline:ye}}class Xr{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,m){let R=this._map.get(f);R||this._map.set(f,R=[]),R.push(...m)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const ro=new RegExp(":enter","g"),hr=new RegExp(":leave","g");function Mn(F,f,m,R,B,K=new Map,pe=new Map,ye,Le,ct=[]){return(new li).buildKeyframes(F,f,m,R,B,K,pe,ye,Le,ct)}class li{buildKeyframes(f,m,R,B,K,pe,ye,Le,ct,Ot=[]){ct=ct||new Xr;const Qt=new js(f,m,ct,B,K,Ot,[]);Qt.options=Le;const Gn=Le.delay?Ut(Le.delay):0;Qt.currentTimeline.delayNextStep(Gn),Qt.currentTimeline.setStyles([pe],null,Qt.errors,Le),Yr(this,R,Qt);const qn=Qt.timelines.filter(Sn=>Sn.containsAnimation());if(qn.length&&ye.size){let Sn;for(let An=qn.length-1;An>=0;An--){const Wn=qn[An];if(Wn.element===m){Sn=Wn;break}}Sn&&!Sn.allowOnlyTimelineStyles()&&Sn.setStyles([ye],null,Qt.errors,Le)}return qn.length?qn.map(Sn=>Sn.buildKeyframes()):[wi(m,[],[],[],0,Gn,"",!1)]}visitTrigger(f,m){}visitState(f,m){}visitTransition(f,m){}visitAnimateChild(f,m){const R=m.subInstructions.get(m.element);if(R){const B=m.createSubContext(f.options),K=m.currentTimeline.currentTime,pe=this._visitSubInstructions(R,B,B.options);K!=pe&&m.transformIntoNewTimeline(pe)}m.previousNode=f}visitAnimateRef(f,m){const R=m.createSubContext(f.options);R.transformIntoNewTimeline(),this.visitReference(f.animation,R),m.transformIntoNewTimeline(R.currentTimeline.currentTime),m.previousNode=f}_visitSubInstructions(f,m,R){let K=m.currentTimeline.currentTime;const pe=null!=R.duration?Ut(R.duration):null,ye=null!=R.delay?Ut(R.delay):null;return 0!==pe&&f.forEach(Le=>{const ct=m.appendInstructionToTimeline(Le,pe,ye);K=Math.max(K,ct.duration+ct.delay)}),K}visitReference(f,m){m.updateOptions(f.options,!0),Yr(this,f.animation,m),m.previousNode=f}visitSequence(f,m){const R=m.subContextCount;let B=m;const K=f.options;if(K&&(K.params||K.delay)&&(B=m.createSubContext(K),B.transformIntoNewTimeline(),null!=K.delay)){6==B.previousNode.type&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=or);const pe=Ut(K.delay);B.delayNextStep(pe)}f.steps.length&&(f.steps.forEach(pe=>Yr(this,pe,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>R&&B.transformIntoNewTimeline()),m.previousNode=f}visitGroup(f,m){const R=[];let B=m.currentTimeline.currentTime;const K=f.options&&f.options.delay?Ut(f.options.delay):0;f.steps.forEach(pe=>{const ye=m.createSubContext(f.options);K&&ye.delayNextStep(K),Yr(this,pe,ye),B=Math.max(B,ye.currentTimeline.currentTime),R.push(ye.currentTimeline)}),R.forEach(pe=>m.currentTimeline.mergeTimelineCollectedStyles(pe)),m.transformIntoNewTimeline(B),m.previousNode=f}_visitTiming(f,m){if(f.dynamic){const R=f.strValue;return yn(m.params?at(R,m.params,m.errors):R,m.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,m){const R=m.currentAnimateTimings=this._visitTiming(f.timings,m),B=m.currentTimeline;R.delay&&(m.incrementTime(R.delay),B.snapshotCurrentStyles());const K=f.style;5==K.type?this.visitKeyframes(K,m):(m.incrementTime(R.duration),this.visitStyle(K,m),B.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=f}visitStyle(f,m){const R=m.currentTimeline,B=m.currentAnimateTimings;!B&&R.hasCurrentStyleProperties()&&R.forwardFrame();const K=B&&B.easing||f.easing;f.isEmptyStep?R.applyEmptyStep(K):R.setStyles(f.styles,K,m.errors,m.options),m.previousNode=f}visitKeyframes(f,m){const R=m.currentAnimateTimings,B=m.currentTimeline.duration,K=R.duration,ye=m.createSubContext().currentTimeline;ye.easing=R.easing,f.styles.forEach(Le=>{ye.forwardTime((Le.offset||0)*K),ye.setStyles(Le.styles,Le.easing,m.errors,m.options),ye.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(ye),m.transformIntoNewTimeline(B+K),m.previousNode=f}visitQuery(f,m){const R=m.currentTimeline.currentTime,B=f.options||{},K=B.delay?Ut(B.delay):0;K&&(6===m.previousNode.type||0==R&&m.currentTimeline.hasCurrentStyleProperties())&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=or);let pe=R;const ye=m.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!B.optional,m.errors);m.currentQueryTotal=ye.length;let Le=null;ye.forEach((ct,Ot)=>{m.currentQueryIndex=Ot;const Qt=m.createSubContext(f.options,ct);K&&Qt.delayNextStep(K),ct===m.element&&(Le=Qt.currentTimeline),Yr(this,f.animation,Qt),Qt.currentTimeline.applyStylesToKeyframe(),pe=Math.max(pe,Qt.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(pe),Le&&(m.currentTimeline.mergeTimelineCollectedStyles(Le),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=f}visitStagger(f,m){const R=m.parentContext,B=m.currentTimeline,K=f.timings,pe=Math.abs(K.duration),ye=pe*(m.currentQueryTotal-1);let Le=pe*m.currentQueryIndex;switch(K.duration<0?"reverse":K.easing){case"reverse":Le=ye-Le;break;case"full":Le=R.currentStaggerTime}const Ot=m.currentTimeline;Le&&Ot.delayNextStep(Le);const Qt=Ot.currentTime;Yr(this,f.animation,m),m.previousNode=f,R.currentStaggerTime=B.currentTime-Qt+(B.startTime-R.currentTimeline.startTime)}}const or={};class js{constructor(f,m,R,B,K,pe,ye,Le){this._driver=f,this.element=m,this.subInstructions=R,this._enterClassName=B,this._leaveClassName=K,this.errors=pe,this.timelines=ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=or,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Le||new As(this._driver,m,0),ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,m){if(!f)return;const R=f;let B=this.options;null!=R.duration&&(B.duration=Ut(R.duration)),null!=R.delay&&(B.delay=Ut(R.delay));const K=R.params;if(K){let pe=B.params;pe||(pe=this.options.params={}),Object.keys(K).forEach(ye=>{(!m||!pe.hasOwnProperty(ye))&&(pe[ye]=at(K[ye],pe,this.errors))})}}_copyOptions(){const f={};if(this.options){const m=this.options.params;if(m){const R=f.params={};Object.keys(m).forEach(B=>{R[B]=m[B]})}}return f}createSubContext(f=null,m,R){const B=m||this.element,K=new js(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,R||0));return K.previousNode=this.previousNode,K.currentAnimateTimings=this.currentAnimateTimings,K.options=this._copyOptions(),K.updateOptions(f),K.currentQueryIndex=this.currentQueryIndex,K.currentQueryTotal=this.currentQueryTotal,K.parentContext=this,this.subContextCount++,K}transformIntoNewTimeline(f){return this.previousNode=or,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,m,R){const B={duration:m??f.duration,delay:this.currentTimeline.currentTime+(R??0)+f.delay,easing:""},K=new Is(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,B,f.stretchStartingKeyframe);return this.timelines.push(K),B}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,m,R,B,K,pe){let ye=[];if(B&&ye.push(this.element),f.length>0){f=(f=f.replace(ro,"."+this._enterClassName)).replace(hr,"."+this._leaveClassName);let ct=this._driver.query(this.element,f,1!=R);0!==R&&(ct=R<0?ct.slice(ct.length+R,ct.length):ct.slice(0,R)),ye.push(...ct)}return!K&&0==ye.length&&pe.push(function Ze(F){return new T.vHH(3014,!1)}()),ye}}class As{constructor(f,m,R,B){this._driver=f,this.element=m,this.startTime=R,this._elementTimelineStylesLookup=B,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const m=1===this._keyframes.size&&this._pendingStyles.size;this.duration||m?(this.forwardTime(this.currentTime+f),m&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,m){return this.applyStylesToKeyframe(),new As(this._driver,f,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,m){this._localTimelineStyles.set(f,m),this._globalTimelineStyles.set(f,m),this._styleSummary.set(f,{time:this.currentTime,value:m})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[m,R]of this._globalTimelineStyles)this._backFill.set(m,R||ie.l3),this._currentKeyframe.set(m,ie.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,m,R,B){m&&this._previousKeyframe.set("easing",m);const K=B&&B.params||{},pe=function Er(F,f){const m=new Map;let R;return F.forEach(B=>{if("*"===B){R=R||f.keys();for(let K of R)m.set(K,ie.l3)}else Xe(B,m)}),m}(f,this._globalTimelineStyles);for(let[ye,Le]of pe){const ct=at(Le,K,R);this._pendingStyles.set(ye,ct),this._localTimelineStyles.has(ye)||this._backFill.set(ye,this._globalTimelineStyles.get(ye)||ie.l3),this._updateStyle(ye,ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,m)=>{this._currentKeyframe.set(m,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,m)=>{this._currentKeyframe.has(m)||this._currentKeyframe.set(m,f)}))}snapshotCurrentStyles(){for(let[f,m]of this._localTimelineStyles)this._pendingStyles.set(f,m),this._updateStyle(f,m)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let m in this._currentKeyframe)f.push(m);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((m,R)=>{const B=this._styleSummary.get(R);(!B||m.time>B.time)&&this._updateStyle(R,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,m=new Set,R=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((ye,Le)=>{const ct=Xe(ye,new Map,this._backFill);ct.forEach((Ot,Qt)=>{Ot===ie.k1?f.add(Qt):Ot===ie.l3&&m.add(Qt)}),R||ct.set("offset",Le/this.duration),B.push(ct)});const K=f.size?Vt(f.values()):[],pe=m.size?Vt(m.values()):[];if(R){const ye=B[0],Le=new Map(ye);ye.set("offset",0),Le.set("offset",1),B=[ye,Le]}return wi(this.element,B,K,pe,this.duration,this.startTime,this.easing,!1)}}class Is extends As{constructor(f,m,R,B,K,pe,ye=!1){super(f,m,pe.delay),this.keyframes=R,this.preStyleProps=B,this.postStyleProps=K,this._stretchStartingKeyframe=ye,this.timings={duration:pe.duration,delay:pe.delay,easing:pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:m,duration:R,easing:B}=this.timings;if(this._stretchStartingKeyframe&&m){const K=[],pe=R+m,ye=m/pe,Le=Xe(f[0]);Le.set("offset",0),K.push(Le);const ct=Xe(f[0]);ct.set("offset",Ri(ye)),K.push(ct);const Ot=f.length-1;for(let Qt=1;Qt<=Ot;Qt++){let Gn=Xe(f[Qt]);const qn=Gn.get("offset");Gn.set("offset",Ri((m+qn*R)/pe)),K.push(Gn)}R=pe,m=0,B="",f=K}return wi(this.element,f,this.preStyleProps,this.postStyleProps,R,m,B,!0)}}function Ri(F,f=3){const m=Math.pow(10,f-1);return Math.round(F*m)/m}class Tr{}const gi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Vr extends Tr{normalizePropertyName(f,m){return gr(f)}normalizeStyleValue(f,m,R,B){let K="";const pe=R.toString().trim();if(gi.has(m)&&0!==R&&"0"!==R)if("number"==typeof R)K="px";else{const ye=R.match(/^[+-]?[\d\.]+([a-z]*)$/);ye&&0==ye[1].length&&B.push(function Je(F,f){return new T.vHH(3005,!1)}())}return pe+K}}function Li(F,f,m,R,B,K,pe,ye,Le,ct,Ot,Qt,Gn){return{type:0,element:F,triggerName:f,isRemovalTransition:B,fromState:m,fromStyles:K,toState:R,toStyles:pe,timelines:ye,queriedElements:Le,preStyleProps:ct,postStyleProps:Ot,totalTime:Qt,errors:Gn}}const Fi={};class xo{constructor(f,m,R){this._triggerName=f,this.ast=m,this._stateStyles=R}match(f,m,R,B){return function Hs(F,f,m,R,B){return F.some(K=>K(f,m,R,B))}(this.ast.matchers,f,m,R,B)}buildStyles(f,m,R){let B=this._stateStyles.get("*");return void 0!==f&&(B=this._stateStyles.get(f?.toString())||B),B?B.buildStyles(m,R):new Map}build(f,m,R,B,K,pe,ye,Le,ct,Ot){const Qt=[],Gn=this.ast.options&&this.ast.options.params||Fi,Sn=this.buildStyles(R,ye&&ye.params||Fi,Qt),An=Le&&Le.params||Fi,Wn=this.buildStyles(B,An,Qt),ur=new Set,Dr=new Map,zr=new Map,jr="void"===B,Rr={params:Zi(An,Gn),delay:this.ast.options?.delay},ai=Ot?[]:Mn(f,m,this.ast.animation,K,pe,Sn,Wn,Rr,ct,Qt);let Mr=0;if(ai.forEach(Fr=>{Mr=Math.max(Fr.duration+Fr.delay,Mr)}),Qt.length)return Li(m,this._triggerName,R,B,jr,Sn,Wn,[],[],Dr,zr,Mr,Qt);ai.forEach(Fr=>{const qi=Fr.element,bi=Pt(Dr,qi,new Set);Fr.preStyleProps.forEach(ls=>bi.add(ls));const Hi=Pt(zr,qi,new Set);Fr.postStyleProps.forEach(ls=>Hi.add(ls)),qi!==m&&ur.add(qi)});const Gr=Vt(ur.values());return Li(m,this._triggerName,R,B,jr,Sn,Wn,ai,Gr,Dr,zr,Mr)}}function Zi(F,f){const m=pn(f);for(const R in F)F.hasOwnProperty(R)&&null!=F[R]&&(m[R]=F[R]);return m}class io{constructor(f,m,R){this.styles=f,this.defaultParams=m,this.normalizer=R}buildStyles(f,m){const R=new Map,B=pn(this.defaultParams);return Object.keys(f).forEach(K=>{const pe=f[K];null!==pe&&(B[K]=pe)}),this.styles.styles.forEach(K=>{"string"!=typeof K&&K.forEach((pe,ye)=>{pe&&(pe=at(pe,B,m));const Le=this.normalizer.normalizePropertyName(ye,m);pe=this.normalizer.normalizeStyleValue(ye,Le,pe,m),R.set(Le,pe)})}),R}}class yo{constructor(f,m,R){this.name=f,this.ast=m,this._normalizer=R,this.transitionFactories=[],this.states=new Map,m.states.forEach(B=>{this.states.set(B.name,new io(B.style,B.options&&B.options.params||{},R))}),kr(this.states,"true","1"),kr(this.states,"false","0"),m.transitions.forEach(B=>{this.transitionFactories.push(new xo(f,B,this.states))}),this.fallbackTransition=function Ui(F,f,m){return new xo(F,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pe,ye)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,m,R,B){return this.transitionFactories.find(pe=>pe.match(f,m,R,B))||null}matchStyles(f,m,R){return this.fallbackTransition.buildStyles(f,m,R)}}function kr(F,f,m){F.has(f)?F.has(m)||F.set(m,F.get(f)):F.has(m)&&F.set(f,F.get(m))}const Ts=new Xr;class ti{constructor(f,m,R){this.bodyNode=f,this._driver=m,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,m){const R=[],K=Ct(this._driver,m,R,[]);if(R.length)throw function Tt(F){return new T.vHH(3503,!1)}();this._animations.set(f,K)}_buildPlayer(f,m,R){const B=f.element,K=mr(0,this._normalizer,0,f.keyframes,m,R);return this._driver.animate(B,K,f.duration,f.delay,f.easing,[],!0)}create(f,m,R={}){const B=[],K=this._animations.get(f);let pe;const ye=new Map;if(K?(pe=Mn(this._driver,m,K,ee,Se,new Map,new Map,R,Ts,B),pe.forEach(Ot=>{const Qt=Pt(ye,Ot.element,new Map);Ot.postStyleProps.forEach(Gn=>Qt.set(Gn,null))})):(B.push(function xt(){return new T.vHH(3300,!1)}()),pe=[]),B.length)throw function Wt(F){return new T.vHH(3504,!1)}();ye.forEach((Ot,Qt)=>{Ot.forEach((Gn,qn)=>{Ot.set(qn,this._driver.computeStyle(Qt,qn,ie.l3))})});const ct=On(pe.map(Ot=>{const Qt=ye.get(Ot.element);return this._buildPlayer(Ot,new Map,Qt)}));return this._playersById.set(f,ct),ct.onDestroy(()=>this.destroy(f)),this.players.push(ct),ct}destroy(f){const m=this._getPlayer(f);m.destroy(),this._playersById.delete(f);const R=this.players.indexOf(m);R>=0&&this.players.splice(R,1)}_getPlayer(f){const m=this._playersById.get(f);if(!m)throw function ht(F){return new T.vHH(3301,!1)}();return m}listen(f,m,R,B){const K=tr(m,"","","");return lr(this._getPlayer(f),R,K,B),()=>{}}command(f,m,R,B){if("register"==R)return void this.register(f,B[0]);if("create"==R)return void this.create(f,m,B[0]||{});const K=this._getPlayer(f);switch(R){case"play":K.play();break;case"pause":K.pause();break;case"reset":K.reset();break;case"restart":K.restart();break;case"finish":K.finish();break;case"init":K.init();break;case"setPosition":K.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(f)}}}const ni="ng-animate-queued",is="ng-animate-disabled",ss=[],$n={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sr="__ng_removed";class Ar{constructor(f,m=""){this.namespaceId=m;const R=f&&f.hasOwnProperty("value");if(this.value=function mt(F){return F??null}(R?f.value:f),R){const K=pn(f);delete K.value,this.options=K}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(f){const m=f.params;if(m){const R=this.options.params;Object.keys(m).forEach(B=>{null==R[B]&&(R[B]=m[B])})}}}const A="void",$=new Ar(A);class M{constructor(f,m,R){this.id=f,this.hostElement=m,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,cr(m,this._hostClassName)}listen(f,m,R,B){if(!this._triggers.has(m))throw function hn(F,f){return new T.vHH(3302,!1)}();if(null==R||0==R.length)throw function nn(F){return new T.vHH(3303,!1)}();if(!function fr(F){return"start"==F||"done"==F}(R))throw function Xt(F,f){return new T.vHH(3400,!1)}();const K=Pt(this._elementListeners,f,[]),pe={name:m,phase:R,callback:B};K.push(pe);const ye=Pt(this._engine.statesByElement,f,new Map);return ye.has(m)||(cr(f,Ae),cr(f,Ae+"-"+m),ye.set(m,$)),()=>{this._engine.afterFlush(()=>{const Le=K.indexOf(pe);Le>=0&&K.splice(Le,1),this._triggers.has(m)||ye.delete(m)})}}register(f,m){return!this._triggers.has(f)&&(this._triggers.set(f,m),!0)}_getTrigger(f){const m=this._triggers.get(f);if(!m)throw function tn(F){return new T.vHH(3401,!1)}();return m}trigger(f,m,R,B=!0){const K=this._getTrigger(m),pe=new ve(this.id,m,f);let ye=this._engine.statesByElement.get(f);ye||(cr(f,Ae),cr(f,Ae+"-"+m),this._engine.statesByElement.set(f,ye=new Map));let Le=ye.get(m);const ct=new Ar(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&Le&&ct.absorbOptions(Le.options),ye.set(m,ct),Le||(Le=$),ct.value!==A&&Le.value===ct.value){if(!function Bi(F,f){const m=Object.keys(F),R=Object.keys(f);if(m.length!=R.length)return!1;for(let B=0;B<m.length;B++){const K=m[B];if(!f.hasOwnProperty(K)||F[K]!==f[K])return!1}return!0}(Le.params,ct.params)){const An=[],Wn=K.matchStyles(Le.value,Le.params,An),ur=K.matchStyles(ct.value,ct.params,An);An.length?this._engine.reportError(An):this._engine.afterFlush(()=>{Ft(f,Wn),st(f,ur)})}return}const Gn=Pt(this._engine.playersByElement,f,[]);Gn.forEach(An=>{An.namespaceId==this.id&&An.triggerName==m&&An.queued&&An.destroy()});let qn=K.matchTransition(Le.value,ct.value,f,ct.params),Sn=!1;if(!qn){if(!B)return;qn=K.fallbackTransition,Sn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:m,transition:qn,fromState:Le,toState:ct,player:pe,isFallbackTransition:Sn}),Sn||(cr(f,ni),pe.onStart(()=>{ir(f,ni)})),pe.onDone(()=>{let An=this.players.indexOf(pe);An>=0&&this.players.splice(An,1);const Wn=this._engine.playersByElement.get(f);if(Wn){let ur=Wn.indexOf(pe);ur>=0&&Wn.splice(ur,1)}}),this.players.push(pe),Gn.push(pe),pe}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(m=>m.delete(f)),this._elementListeners.forEach((m,R)=>{this._elementListeners.set(R,m.filter(B=>B.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const m=this._engine.playersByElement.get(f);m&&(m.forEach(R=>R.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,m){const R=this._engine.driver.query(f,J,!0);R.forEach(B=>{if(B[Sr])return;const K=this._engine.fetchNamespacesByElement(B);K.size?K.forEach(pe=>pe.triggerLeaveAnimation(B,m,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(f,m,R,B){const K=this._engine.statesByElement.get(f),pe=new Map;if(K){const ye=[];if(K.forEach((Le,ct)=>{if(pe.set(ct,Le.value),this._triggers.has(ct)){const Ot=this.trigger(f,ct,A,B);Ot&&ye.push(Ot)}}),ye.length)return this._engine.markElementAsRemoved(this.id,f,!0,m,pe),R&&On(ye).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const m=this._elementListeners.get(f),R=this._engine.statesByElement.get(f);if(m&&R){const B=new Set;m.forEach(K=>{const pe=K.name;if(B.has(pe))return;B.add(pe);const Le=this._triggers.get(pe).fallbackTransition,ct=R.get(pe)||$,Ot=new Ar(A),Qt=new ve(this.id,pe,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:pe,transition:Le,fromState:ct,toState:Ot,player:Qt,isFallbackTransition:!0})})}}removeNode(f,m){const R=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,m),this.triggerLeaveAnimation(f,m,!0))return;let B=!1;if(R.totalAnimations){const K=R.players.length?R.playersByQueriedElement.get(f):[];if(K&&K.length)B=!0;else{let pe=f;for(;pe=pe.parentNode;)if(R.statesByElement.get(pe)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(f),B)R.markElementAsRemoved(this.id,f,!1,m);else{const K=f[Sr];(!K||K===$n)&&(R.afterFlush(()=>this.clearElementCache(f)),R.destroyInnerAnimations(f),R._onRemovalComplete(f,m))}}insertNode(f,m){cr(f,this._hostClassName)}drainQueuedTransitions(f){const m=[];return this._queue.forEach(R=>{const B=R.player;if(B.destroyed)return;const K=R.element,pe=this._elementListeners.get(K);pe&&pe.forEach(ye=>{if(ye.name==R.triggerName){const Le=tr(K,R.triggerName,R.fromState.value,R.toState.value);Le._data=f,lr(R.player,ye.phase,Le,ye.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):m.push(R)}),this._queue=[],m.sort((R,B)=>{const K=R.transition.ast.depCount,pe=B.transition.ast.depCount;return 0==K||0==pe?K-pe:this._engine.driver.containsElement(R.element,B.element)?1:-1})}destroy(f){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}elementContainsData(f){let m=!1;return this._elementListeners.has(f)&&(m=!0),m=!!this._queue.find(R=>R.element===f)||m,m}}class z{constructor(f,m,R){this.bodyNode=f,this.driver=m,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(B,K)=>{}}_onRemovalComplete(f,m){this.onRemovalComplete(f,m)}get queuedPlayers(){const f=[];return this._namespaceList.forEach(m=>{m.players.forEach(R=>{R.queued&&f.push(R)})}),f}createNamespace(f,m){const R=new M(f,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(R,m):(this.newHostElements.set(m,R),this.collectEnterElement(m)),this._namespaceLookup[f]=R}_balanceNamespaceList(f,m){const R=this._namespaceList,B=this.namespacesByHostElement;if(R.length-1>=0){let pe=!1,ye=this.driver.getParentElement(m);for(;ye;){const Le=B.get(ye);if(Le){const ct=R.indexOf(Le);R.splice(ct+1,0,f),pe=!0;break}ye=this.driver.getParentElement(ye)}pe||R.unshift(f)}else R.push(f);return B.set(m,f),f}register(f,m){let R=this._namespaceLookup[f];return R||(R=this.createNamespace(f,m)),R}registerTrigger(f,m,R){let B=this._namespaceLookup[f];B&&B.register(m,R)&&this.totalAnimations++}destroy(f,m){if(!f)return;const R=this._fetchNamespace(f);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[f];const B=this._namespaceList.indexOf(R);B>=0&&this._namespaceList.splice(B,1)}),this.afterFlushAnimationsDone(()=>R.destroy(m))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const m=new Set,R=this.statesByElement.get(f);if(R)for(let B of R.values())if(B.namespaceId){const K=this._fetchNamespace(B.namespaceId);K&&m.add(K)}return m}trigger(f,m,R,B){if(Mt(m)){const K=this._fetchNamespace(f);if(K)return K.trigger(m,R,B),!0}return!1}insertNode(f,m,R,B){if(!Mt(m))return;const K=m[Sr];if(K&&K.setForRemoval){K.setForRemoval=!1,K.setForMove=!0;const pe=this.collectedLeaveElements.indexOf(m);pe>=0&&this.collectedLeaveElements.splice(pe,1)}if(f){const pe=this._fetchNamespace(f);pe&&pe.insertNode(m,R)}B&&this.collectEnterElement(m)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,m){m?this.disabledNodes.has(f)||(this.disabledNodes.add(f),cr(f,is)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),ir(f,is))}removeNode(f,m,R,B){if(Mt(m)){const K=f?this._fetchNamespace(f):null;if(K?K.removeNode(m,B):this.markElementAsRemoved(f,m,!1,B),R){const pe=this.namespacesByHostElement.get(m);pe&&pe.id!==f&&pe.removeNode(m,B)}}else this._onRemovalComplete(m,B)}markElementAsRemoved(f,m,R,B,K){this.collectedLeaveElements.push(m),m[Sr]={namespaceId:f,setForRemoval:B,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:K}}listen(f,m,R,B,K){return Mt(m)?this._fetchNamespace(f).listen(m,R,B,K):()=>{}}_buildInstruction(f,m,R,B,K){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,R,B,f.fromState.options,f.toState.options,m,K)}destroyInnerAnimations(f){let m=this.driver.query(f,J,!0);m.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(f,bt,!0),m.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(f){const m=this.playersByElement.get(f);m&&m.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(f){const m=this.playersByQueriedElement.get(f);m&&m.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return On(this.players).onDone(()=>f());f()})}processLeaveNode(f){const m=f[Sr];if(m&&m.setForRemoval){if(f[Sr]=$n,m.namespaceId){this.destroyInnerAnimations(f);const R=this._fetchNamespace(m.namespaceId);R&&R.clearElementCache(f)}this._onRemovalComplete(f,m.setForRemoval)}f.classList?.contains(is)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(f=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,B)=>this._balanceNamespaceList(R,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)cr(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{m=this._flushAnimations(R,f)}finally{for(let B=0;B<R.length;B++)R[B]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],m.length?On(m).onDone(()=>{R.forEach(B=>B())}):R.forEach(B=>B())}}reportError(f){throw function Jt(F){return new T.vHH(3402,!1)}()}_flushAnimations(f,m){const R=new Xr,B=[],K=new Map,pe=[],ye=new Map,Le=new Map,ct=new Map,Ot=new Set;this.disabledNodes.forEach(en=>{Ot.add(en);const $t=this.driver.query(en,".ng-animate-queued",!0);for(let ln=0;ln<$t.length;ln++)Ot.add($t[ln])});const Qt=this.bodyNode,Gn=Array.from(this.statesByElement.keys()),qn=Pn(Gn,this.collectedEnterElements),Sn=new Map;let An=0;qn.forEach((en,$t)=>{const ln=ee+An++;Sn.set($t,ln),en.forEach(Kn=>cr(Kn,ln))});const Wn=[],ur=new Set,Dr=new Set;for(let en=0;en<this.collectedLeaveElements.length;en++){const $t=this.collectedLeaveElements[en],ln=$t[Sr];ln&&ln.setForRemoval&&(Wn.push($t),ur.add($t),ln.hasAnimation?this.driver.query($t,".ng-star-inserted",!0).forEach(Kn=>ur.add(Kn)):Dr.add($t))}const zr=new Map,jr=Pn(Gn,Array.from(ur));jr.forEach((en,$t)=>{const ln=Se+An++;zr.set($t,ln),en.forEach(Kn=>cr(Kn,ln))}),f.push(()=>{qn.forEach((en,$t)=>{const ln=Sn.get($t);en.forEach(Kn=>ir(Kn,ln))}),jr.forEach((en,$t)=>{const ln=zr.get($t);en.forEach(Kn=>ir(Kn,ln))}),Wn.forEach(en=>{this.processLeaveNode(en)})});const Rr=[],ai=[];for(let en=this._namespaceList.length-1;en>=0;en--)this._namespaceList[en].drainQueuedTransitions(m).forEach(ln=>{const Kn=ln.player,Kr=ln.element;if(Rr.push(Kn),this.collectedEnterElements.length){const Nr=Kr[Sr];if(Nr&&Nr.setForMove){if(Nr.previousTriggersValues&&Nr.previousTriggersValues.has(ln.triggerName)){const Ji=Nr.previousTriggersValues.get(ln.triggerName),qr=this.statesByElement.get(ln.element);if(qr&&qr.has(ln.triggerName)){const ks=qr.get(ln.triggerName);ks.value=Ji,qr.set(ln.triggerName,ks)}}return void Kn.destroy()}}const Jn=!Qt||!this.driver.containsElement(Qt,Kr),yr=zr.get(Kr),ci=Sn.get(Kr),vn=this._buildInstruction(ln,R,ci,yr,Jn);if(vn.errors&&vn.errors.length)return void ai.push(vn);if(Jn)return Kn.onStart(()=>Ft(Kr,vn.fromStyles)),Kn.onDestroy(()=>st(Kr,vn.toStyles)),void B.push(Kn);if(ln.isFallbackTransition)return Kn.onStart(()=>Ft(Kr,vn.fromStyles)),Kn.onDestroy(()=>st(Kr,vn.toStyles)),void B.push(Kn);const _s=[];vn.timelines.forEach(Nr=>{Nr.stretchStartingKeyframe=!0,this.disabledNodes.has(Nr.element)||_s.push(Nr)}),vn.timelines=_s,R.append(Kr,vn.timelines),pe.push({instruction:vn,player:Kn,element:Kr}),vn.queriedElements.forEach(Nr=>Pt(ye,Nr,[]).push(Kn)),vn.preStyleProps.forEach((Nr,Ji)=>{if(Nr.size){let qr=Le.get(Ji);qr||Le.set(Ji,qr=new Set),Nr.forEach((ks,vs)=>qr.add(vs))}}),vn.postStyleProps.forEach((Nr,Ji)=>{let qr=ct.get(Ji);qr||ct.set(Ji,qr=new Set),Nr.forEach((ks,vs)=>qr.add(vs))})});if(ai.length){const en=[];ai.forEach($t=>{en.push(function fn(F,f){return new T.vHH(3505,!1)}())}),Rr.forEach($t=>$t.destroy()),this.reportError(en)}const Mr=new Map,Gr=new Map;pe.forEach(en=>{const $t=en.element;R.has($t)&&(Gr.set($t,$t),this._beforeAnimationBuild(en.player.namespaceId,en.instruction,Mr))}),B.forEach(en=>{const $t=en.element;this._getPreviousPlayers($t,!1,en.namespaceId,en.triggerName,null).forEach(Kn=>{Pt(Mr,$t,[]).push(Kn),Kn.destroy()})});const Fr=Wn.filter(en=>Ti(en,Le,ct)),qi=new Map;_r(qi,this.driver,Dr,ct,ie.l3).forEach(en=>{Ti(en,Le,ct)&&Fr.push(en)});const Hi=new Map;qn.forEach((en,$t)=>{_r(Hi,this.driver,new Set(en),Le,ie.k1)}),Fr.forEach(en=>{const $t=qi.get(en),ln=Hi.get(en);qi.set(en,new Map([...Array.from($t?.entries()??[]),...Array.from(ln?.entries()??[])]))});const ls=[],ao=[],lo={};pe.forEach(en=>{const{element:$t,player:ln,instruction:Kn}=en;if(R.has($t)){if(Ot.has($t))return ln.onDestroy(()=>st($t,Kn.toStyles)),ln.disabled=!0,ln.overrideTotalTime(Kn.totalTime),void B.push(ln);let Kr=lo;if(Gr.size>1){let yr=$t;const ci=[];for(;yr=yr.parentNode;){const vn=Gr.get(yr);if(vn){Kr=vn;break}ci.push(yr)}ci.forEach(vn=>Gr.set(vn,Kr))}const Jn=this._buildAnimation(ln.namespaceId,Kn,Mr,K,Hi,qi);if(ln.setRealPlayer(Jn),Kr===lo)ls.push(ln);else{const yr=this.playersByElement.get(Kr);yr&&yr.length&&(ln.parentPlayer=On(yr)),B.push(ln)}}else Ft($t,Kn.fromStyles),ln.onDestroy(()=>st($t,Kn.toStyles)),ao.push(ln),Ot.has($t)&&B.push(ln)}),ao.forEach(en=>{const $t=K.get(en.element);if($t&&$t.length){const ln=On($t);en.setRealPlayer(ln)}}),B.forEach(en=>{en.parentPlayer?en.syncPlayerEvents(en.parentPlayer):en.destroy()});for(let en=0;en<Wn.length;en++){const $t=Wn[en],ln=$t[Sr];if(ir($t,Se),ln&&ln.hasAnimation)continue;let Kn=[];if(ye.size){let Jn=ye.get($t);Jn&&Jn.length&&Kn.push(...Jn);let yr=this.driver.query($t,bt,!0);for(let ci=0;ci<yr.length;ci++){let vn=ye.get(yr[ci]);vn&&vn.length&&Kn.push(...vn)}}const Kr=Kn.filter(Jn=>!Jn.destroyed);Kr.length?Nt(this,$t,Kr):this.processLeaveNode($t)}return Wn.length=0,ls.forEach(en=>{this.players.push(en),en.onDone(()=>{en.destroy();const $t=this.players.indexOf(en);this.players.splice($t,1)}),en.play()}),ls}elementContainsData(f,m){let R=!1;const B=m[Sr];return B&&B.setForRemoval&&(R=!0),this.playersByElement.has(m)&&(R=!0),this.playersByQueriedElement.has(m)&&(R=!0),this.statesByElement.has(m)&&(R=!0),this._fetchNamespace(f).elementContainsData(m)||R}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,m,R,B,K){let pe=[];if(m){const ye=this.playersByQueriedElement.get(f);ye&&(pe=ye)}else{const ye=this.playersByElement.get(f);if(ye){const Le=!K||K==A;ye.forEach(ct=>{ct.queued||!Le&&ct.triggerName!=B||pe.push(ct)})}}return(R||B)&&(pe=pe.filter(ye=>!(R&&R!=ye.namespaceId||B&&B!=ye.triggerName))),pe}_beforeAnimationBuild(f,m,R){const K=m.element,pe=m.isRemovalTransition?void 0:f,ye=m.isRemovalTransition?void 0:m.triggerName;for(const Le of m.timelines){const ct=Le.element,Ot=ct!==K,Qt=Pt(R,ct,[]);this._getPreviousPlayers(ct,Ot,pe,ye,m.toState).forEach(qn=>{const Sn=qn.getRealPlayer();Sn.beforeDestroy&&Sn.beforeDestroy(),qn.destroy(),Qt.push(qn)})}Ft(K,m.fromStyles)}_buildAnimation(f,m,R,B,K,pe){const ye=m.triggerName,Le=m.element,ct=[],Ot=new Set,Qt=new Set,Gn=m.timelines.map(Sn=>{const An=Sn.element;Ot.add(An);const Wn=An[Sr];if(Wn&&Wn.removedBeforeQueried)return new ie.ZN(Sn.duration,Sn.delay);const ur=An!==Le,Dr=function Pi(F){const f=[];return Ii(F,f),f}((R.get(An)||ss).map(Mr=>Mr.getRealPlayer())).filter(Mr=>!!Mr.element&&Mr.element===An),zr=K.get(An),jr=pe.get(An),Rr=mr(0,this._normalizer,0,Sn.keyframes,zr,jr),ai=this._buildPlayer(Sn,Rr,Dr);if(Sn.subTimeline&&B&&Qt.add(An),ur){const Mr=new ve(f,ye,An);Mr.setRealPlayer(ai),ct.push(Mr)}return ai});ct.forEach(Sn=>{Pt(this.playersByQueriedElement,Sn.element,[]).push(Sn),Sn.onDone(()=>function it(F,f,m){let R=F.get(f);if(R){if(R.length){const B=R.indexOf(m);R.splice(B,1)}0==R.length&&F.delete(f)}return R}(this.playersByQueriedElement,Sn.element,Sn))}),Ot.forEach(Sn=>cr(Sn,tt));const qn=On(Gn);return qn.onDestroy(()=>{Ot.forEach(Sn=>ir(Sn,tt)),st(Le,m.toStyles)}),Qt.forEach(Sn=>{Pt(B,Sn,[]).push(qn)}),qn}_buildPlayer(f,m,R){return m.length>0?this.driver.animate(f.element,m,f.duration,f.delay,f.easing,R):new ie.ZN(f.duration,f.delay)}}class ve{constructor(f,m,R){this.namespaceId=f,this.triggerName=m,this.element=R,this._player=new ie.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((m,R)=>{m.forEach(B=>lr(f,R,void 0,B))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const m=this._player;m.triggerCallback&&f.onStart(()=>m.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,m){Pt(this._queuedCallbacks,f,[]).push(m)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const m=this._player;m.triggerCallback&&m.triggerCallback(f)}}function Mt(F){return F&&1===F.nodeType}function rr(F,f){const m=F.style.display;return F.style.display=f??"none",m}function _r(F,f,m,R,B){const K=[];m.forEach(Le=>K.push(rr(Le)));const pe=[];R.forEach((Le,ct)=>{const Ot=new Map;Le.forEach(Qt=>{const Gn=f.computeStyle(ct,Qt,B);Ot.set(Qt,Gn),(!Gn||0==Gn.length)&&(ct[Sr]=Yi,pe.push(ct))}),F.set(ct,Ot)});let ye=0;return m.forEach(Le=>rr(Le,K[ye++])),pe}function Pn(F,f){const m=new Map;if(F.forEach(ye=>m.set(ye,[])),0==f.length)return m;const B=new Set(f),K=new Map;function pe(ye){if(!ye)return 1;let Le=K.get(ye);if(Le)return Le;const ct=ye.parentNode;return Le=m.has(ct)?ct:B.has(ct)?1:pe(ct),K.set(ye,Le),Le}return f.forEach(ye=>{const Le=pe(ye);1!==Le&&m.get(Le).push(ye)}),m}function cr(F,f){F.classList?.add(f)}function ir(F,f){F.classList?.remove(f)}function Nt(F,f,m){On(m).onDone(()=>F.processLeaveNode(f))}function Ii(F,f){for(let m=0;m<F.length;m++){const R=F[m];R instanceof ie.ZE?Ii(R.players,f):f.push(R)}}function Ti(F,f,m){const R=m.get(F);if(!R)return!1;let B=f.get(F);return B?R.forEach(K=>B.add(K)):f.set(F,R),m.delete(F),!0}class Vi{constructor(f,m,R){this.bodyNode=f,this._driver=m,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(B,K)=>{},this._transitionEngine=new z(f,m,R),this._timelineEngine=new ti(f,m,R),this._transitionEngine.onRemovalComplete=(B,K)=>this.onRemovalComplete(B,K)}registerTrigger(f,m,R,B,K){const pe=f+"-"+B;let ye=this._triggerCache[pe];if(!ye){const Le=[],Ot=Ct(this._driver,K,Le,[]);if(Le.length)throw function Be(F,f){return new T.vHH(3404,!1)}();ye=function Mi(F,f,m){return new yo(F,f,m)}(B,Ot,this._normalizer),this._triggerCache[pe]=ye}this._transitionEngine.registerTrigger(m,B,ye)}register(f,m){this._transitionEngine.register(f,m)}destroy(f,m){this._transitionEngine.destroy(f,m)}onInsert(f,m,R,B){this._transitionEngine.insertNode(f,m,R,B)}onRemove(f,m,R,B){this._transitionEngine.removeNode(f,m,B||!1,R)}disableAnimations(f,m){this._transitionEngine.markElementAsDisabled(f,m)}process(f,m,R,B){if("@"==R.charAt(0)){const[K,pe]=Tn(R);this._timelineEngine.command(K,m,pe,B)}else this._transitionEngine.trigger(f,m,R,B)}listen(f,m,R,B,K){if("@"==R.charAt(0)){const[pe,ye]=Tn(R);return this._timelineEngine.listen(pe,m,ye,K)}return this._transitionEngine.listen(f,m,R,B,K)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Qi=(()=>{class F{constructor(m,R,B){this._element=m,this._startStyles=R,this._endStyles=B,this._state=0;let K=F.initialStylesByElement.get(m);K||F.initialStylesByElement.set(m,K=new Map),this._initialStyles=K}start(){this._state<1&&(this._startStyles&&st(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(st(this._element,this._initialStyles),this._endStyles&&(st(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(F.initialStylesByElement.delete(this._element),this._startStyles&&(Ft(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ft(this._element,this._endStyles),this._endStyles=null),st(this._element,this._initialStyles),this._state=3)}}return F.initialStylesByElement=new WeakMap,F})();function In(F){let f=null;return F.forEach((m,R)=>{(function Et(F){return"display"===F||"position"===F})(R)&&(f=f||new Map,f.set(R,m))}),f}class xn{constructor(f,m,R,B){this.element=f,this.keyframes=m,this.options=R,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const m=[];return f.forEach(R=>{m.push(Object.fromEntries(R))}),m}_triggerWebAnimation(f,m,R){return f.animate(this._convertKeyframesToObject(m),R)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,B)=>{"offset"!==B&&f.set(B,this._finished?R:fi(this.element,B))}),this.currentSnapshot=f}triggerCallback(f){const m="start"===f?this._onStartFns:this._onDoneFns;m.forEach(R=>R()),m.length=0}}class vo{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,m){return!1}containsElement(f,m){return Rn(f,m)}getParentElement(f){return vr(f)}query(f,m,R){return Cn(f,m,R)}computeStyle(f,m,R){return window.getComputedStyle(f)[m]}animate(f,m,R,B,K,pe=[]){const Le={duration:R,delay:B,fill:0==B?"both":"forwards"};K&&(Le.easing=K);const ct=new Map,Ot=pe.filter(qn=>qn instanceof xn);(function wr(F,f){return 0===F||0===f})(R,B)&&Ot.forEach(qn=>{qn.currentSnapshot.forEach((Sn,An)=>ct.set(An,Sn))});let Qt=function oe(F){return F.length?F[0]instanceof Map?F:F.map(f=>He(f)):[]}(m).map(qn=>Xe(qn));Qt=function hi(F,f,m){if(m.size&&f.length){let R=f[0],B=[];if(m.forEach((K,pe)=>{R.has(pe)||B.push(pe),R.set(pe,K)}),B.length)for(let K=1;K<f.length;K++){let pe=f[K];B.forEach(ye=>pe.set(ye,fi(F,ye)))}}return f}(f,Qt,ct);const Gn=function ri(F,f){let m=null,R=null;return Array.isArray(f)&&f.length?(m=In(f[0]),f.length>1&&(R=In(f[f.length-1]))):f instanceof Map&&(m=In(f)),m||R?new Qi(F,m,R):null}(f,Qt);return new xn(f,Qt,Le,Gn)}}var Cr=O(6895);let Lr=(()=>{class F extends ie._j{constructor(m,R){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(R.body,{id:"0",encapsulation:T.ifc.None,styles:[],data:{animation:[]}})}build(m){const R=this._nextAnimationId.toString();this._nextAnimationId++;const B=Array.isArray(m)?(0,ie.vP)(m):m;return ei(this._renderer,null,R,"register",[B]),new os(R,this._renderer)}}return F.\u0275fac=function(m){return new(m||F)(T.LFG(T.FYo),T.LFG(Cr.K0))},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})();class os extends ie.LC{constructor(f,m){super(),this._id=f,this._renderer=m}create(f,m){return new Ms(this._id,f,m||{},this._renderer)}}class Ms{constructor(f,m,R,B){this.id=f,this.element=m,this._renderer=B,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(f,m){return this._renderer.listen(this.element,`@@${this.id}:${f}`,m)}_command(f,...m){return ei(this._renderer,this.element,this.id,f,m)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ei(F,f,m,R,B){return F.setProperty(f,`@@${m}:${R}`,B)}const so="@.disabled";let ko=(()=>{class F{constructor(m,R,B){this.delegate=m,this.engine=R,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(K,pe)=>{const ye=pe?.parentNode(K);ye&&pe.removeChild(ye,K)}}createRenderer(m,R){const K=this.delegate.createRenderer(m,R);if(!(m&&R&&R.data&&R.data.animation)){let Ot=this._rendererCache.get(K);return Ot||(Ot=new zo("",K,this.engine),this._rendererCache.set(K,Ot)),Ot}const pe=R.id,ye=R.id+"-"+this._currentId;this._currentId++,this.engine.register(ye,m);const Le=Ot=>{Array.isArray(Ot)?Ot.forEach(Le):this.engine.registerTrigger(pe,ye,m,Ot.name,Ot)};return R.data.animation.forEach(Le),new Go(this,ye,K,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(m,R,B){m>=0&&m<this._microtaskId?this._zone.run(()=>R(B)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(K=>{const[pe,ye]=K;pe(ye)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,B]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return F.\u0275fac=function(m){return new(m||F)(T.LFG(T.FYo),T.LFG(Vi),T.LFG(T.R0b))},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})();class zo{constructor(f,m,R){this.namespaceId=f,this.delegate=m,this.engine=R,this.destroyNode=this.delegate.destroyNode?B=>m.destroyNode(B):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(f,m){return this.delegate.createElement(f,m)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,m){this.delegate.appendChild(f,m),this.engine.onInsert(this.namespaceId,m,f,!1)}insertBefore(f,m,R,B=!0){this.delegate.insertBefore(f,m,R),this.engine.onInsert(this.namespaceId,m,f,B)}removeChild(f,m,R){this.engine.onRemove(this.namespaceId,m,this.delegate,R)}selectRootElement(f,m){return this.delegate.selectRootElement(f,m)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,m,R,B){this.delegate.setAttribute(f,m,R,B)}removeAttribute(f,m,R){this.delegate.removeAttribute(f,m,R)}addClass(f,m){this.delegate.addClass(f,m)}removeClass(f,m){this.delegate.removeClass(f,m)}setStyle(f,m,R,B){this.delegate.setStyle(f,m,R,B)}removeStyle(f,m,R){this.delegate.removeStyle(f,m,R)}setProperty(f,m,R){"@"==m.charAt(0)&&m==so?this.disableAnimations(f,!!R):this.delegate.setProperty(f,m,R)}setValue(f,m){this.delegate.setValue(f,m)}listen(f,m,R){return this.delegate.listen(f,m,R)}disableAnimations(f,m){this.engine.disableAnimations(f,m)}}class Go extends zo{constructor(f,m,R,B){super(m,R,B),this.factory=f,this.namespaceId=m}setProperty(f,m,R){"@"==m.charAt(0)?"."==m.charAt(1)&&m==so?this.disableAnimations(f,R=void 0===R||!!R):this.engine.process(this.namespaceId,f,m.slice(1),R):this.delegate.setProperty(f,m,R)}listen(f,m,R){if("@"==m.charAt(0)){const B=function Ps(F){switch(F){case"body":return document.body;case"document":return document;case"window":return window;default:return F}}(f);let K=m.slice(1),pe="";return"@"!=K.charAt(0)&&([K,pe]=function ii(F){const f=F.indexOf(".");return[F.substring(0,f),F.slice(f+1)]}(K)),this.engine.listen(this.namespaceId,B,K,pe,ye=>{this.factory.scheduleListenerCallback(ye._data||-1,R,ye)})}return this.delegate.listen(f,m,R)}}const as=[{provide:ie._j,useClass:Lr},{provide:Tr,useFactory:function Ns(){return new Vr}},{provide:Vi,useClass:(()=>{class F extends Vi{constructor(m,R,B){super(m.body,R,B)}ngOnDestroy(){this.flush()}}return F.\u0275fac=function(m){return new(m||F)(T.LFG(Cr.K0),T.LFG(on),T.LFG(Tr))},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})()},{provide:T.FYo,useFactory:function _i(F,f,m){return new ko(F,f,m)},deps:[D.se,Vi,T.R0b]}],ms=[{provide:on,useFactory:()=>new vo},{provide:T.QbO,useValue:"BrowserAnimations"},...as],$s=[{provide:on,useClass:zn},{provide:T.QbO,useValue:"NoopAnimations"},...as];let oo=(()=>{class F{static withConfig(m){return{ngModule:F,providers:m.disableAnimations?$s:ms}}}return F.\u0275fac=function(m){return new(m||F)},F.\u0275mod=T.oAB({type:F}),F.\u0275inj=T.cJS({providers:ms,imports:[D.b2]}),F})();var Os=O(4374),Co=O(2340),xs=O(2011),Do=O(7471),Ko=O(529);let bs=(()=>{class F{}return F.\u0275fac=function(m){return new(m||F)},F.\u0275mod=T.oAB({type:F,bootstrap:[Te]}),F.\u0275inj=T.cJS({imports:[D.b2,le,oo,Os.n,xs.hO.initializeApp(Co.N.firebase),Do.JS,Ko.JF]}),F})();Co.N.production&&(0,T.G48)(),D.q6().bootstrapModule(bs).catch(F=>console.error(F))},5867:(kt,ke,O)=>{O.d(ke,{C6:()=>D.getApps,KN:()=>D.registerVersion,Mq:()=>D.getApp});var D=O(9681);(0,D.registerVersion)("firebase","9.8.4","app")},127:(kt,ke,O)=>{O.d(ke,{Z:()=>D.Z});var D=O(3942);D.Z.registerVersion("firebase","9.8.4","app-compat")},5881:(kt,ke,O)=>{O.r(ke);var D=O(5861),T=O(3942),U=O(3673),de=O(2090),ie=(O(9681),O(1877),O(4859));function Ee(){return window}function te(){return(te=(0,D.Z)(function*(He,oe,ce){var Xe;const{BuildInfo:At}=Ee();(0,U.aq)(oe.sessionId,"AuthEvent did not contain a session ID");const Yt=yield $e(oe.sessionId),st={};return(0,U.ar)()?st.ibi=At.packageName:(0,U.as)()?st.apn=At.packageName:(0,U.at)(He,"operation-not-supported-in-this-environment"),At.displayName&&(st.appDisplayName=At.displayName),st.sessionId=Yt,(0,U.au)(He,ce,oe.type,void 0,null!==(Xe=oe.eventId)&&void 0!==Xe?Xe:void 0,st)})).apply(this,arguments)}function nt(){return(nt=(0,D.Z)(function*(He){const{BuildInfo:oe}=Ee(),ce={};(0,U.ar)()?ce.iosBundleId=oe.packageName:(0,U.as)()?ce.androidPackageName=oe.packageName:(0,U.at)(He,"operation-not-supported-in-this-environment"),yield(0,U.av)(He,ce)})).apply(this,arguments)}function ft(){return(ft=(0,D.Z)(function*(He,oe,ce){const{cordova:Xe}=Ee();let At=()=>{};try{yield new Promise((Yt,st)=>{let Ft=null;function me(){var fe;Yt();const at=null===(fe=Xe.plugins.browsertab)||void 0===fe?void 0:fe.close;"function"==typeof at&&at(),"function"==typeof ce?.close&&ce.close()}function ae(){Ft||(Ft=window.setTimeout(()=>{st((0,U.aw)(He,"redirect-cancelled-by-user"))},2e3))}function X(){"visible"===document?.visibilityState&&ae()}oe.addPassiveListener(me),document.addEventListener("resume",ae,!1),(0,U.as)()&&document.addEventListener("visibilitychange",X,!1),At=()=>{oe.removePassiveListener(me),document.removeEventListener("resume",ae,!1),document.removeEventListener("visibilitychange",X,!1),Ft&&window.clearTimeout(Ft)}})}finally{At()}})).apply(this,arguments)}function $e(He){return _t.apply(this,arguments)}function _t(){return(_t=(0,D.Z)(function*(He){const oe=pt(He),ce=yield crypto.subtle.digest("SHA-256",oe);return Array.from(new Uint8Array(ce)).map(At=>At.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pt(He){if((0,U.aq)(/[0-9a-zA-Z]+/.test(He),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(He);const oe=new ArrayBuffer(He.length),ce=new Uint8Array(oe);for(let Xe=0;Xe<He.length;Xe++)ce[Xe]=He.charCodeAt(Xe);return ce}class be extends U.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(oe=>{this.resolveInialized=oe})}addPassiveListener(oe){this.passiveListeners.add(oe)}removePassiveListener(oe){this.passiveListeners.delete(oe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(oe){return this.resolveInialized(),this.passiveListeners.forEach(ce=>ce(oe)),super.onEvent(oe)}initialized(){var oe=this;return(0,D.Z)(function*(){yield oe.initPromise})()}}function ge(He){return L.apply(this,arguments)}function L(){return(L=(0,D.Z)(function*(He){const oe=yield Ne()._get(Fe(He));return oe&&(yield Ne()._remove(Fe(He))),oe})).apply(this,arguments)}function Ce(){const He=[],oe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ce=0;ce<20;ce++){const Xe=Math.floor(Math.random()*oe.length);He.push(oe.charAt(Xe))}return He.join("")}function Ne(){return(0,U.ay)(U.b)}function Fe(He){return(0,U.az)("authEvent",He.config.apiKey,He.name)}function gt(He){if(!He?.includes("?"))return{};const[oe,...ce]=He.split("?");return(0,de.zd)(ce.join("?"))}function ht(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aw)("no-auth-event")}}function Jt(){var He;return(null===(He=self?.location)||void 0===He?void 0:He.protocol)||null}function fn(He=(0,de.z$)()){return!("file:"!==Jt()&&"ionic:"!==Jt()&&"capacitor:"!==Jt()||!He.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){try{const He=self.localStorage,oe=U.aI();if(He)return He.setItem(oe,"1"),He.removeItem(oe),!function On(He=(0,de.z$)()){return function pr(){return(0,de.w1)()&&11===document?.documentMode}()||function Un(He=(0,de.z$)()){return/Edge\/\d+/.test(He)}(He)}()||(0,de.hl)()}catch{return lr()&&(0,de.hl)()}return!1}function lr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sr(){return(function Fn(){return"http:"===Jt()||"https:"===Jt()}()||(0,de.ru)()||fn())&&!function Pr(){return(0,de.b$)()||(0,de.UG)()}()&&mr()&&!lr()}function tr(){return fn()&&typeof document<"u"}function Tn(){return(Tn=(0,D.Z)(function*(){return!!tr()&&new Promise(He=>{const oe=setTimeout(()=>{He(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(oe),He(!0)})})})).apply(this,arguments)}const an={LOCAL:"local",NONE:"none",SESSION:"session"},Zt=U.ax,vr="persistence";function rt(He){return he.apply(this,arguments)}function he(){return(he=(0,D.Z)(function*(He){yield He._initializationPromise;const oe=ot(),ce=U.az(vr,He.config.apiKey,He.name);oe&&oe.setItem(ce,He._getPersistence())})).apply(this,arguments)}function ot(){var He;try{return(null===(He=function bn(){return typeof window<"u"?window:null}())||void 0===He?void 0:He.sessionStorage)||null}catch{return null}}const Oe=U.ax;class ut{constructor(){this.browserResolver=U.ay(U.k),this.cordovaResolver=U.ay(class xt{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(oe){var ce=this;return(0,D.Z)(function*(){const Xe=oe._key();let At=ce.eventManagers.get(Xe);return At||(At=new be(oe),ce.eventManagers.set(Xe,At),ce.attachCallbackListeners(oe,At)),At})()}_openPopup(oe){(0,U.at)(oe,"operation-not-supported-in-this-environment")}_openRedirect(oe,ce,Xe,At){var Yt=this;return(0,D.Z)(function*(){!function Ue(He){var oe,ce,Xe,At,Yt,st,Ft,me,ae,X;const fe=Ee();(0,U.ax)("function"==typeof(null===(oe=fe?.universalLinks)||void 0===oe?void 0:oe.subscribe),He,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.ax)(typeof(null===(ce=fe?.BuildInfo)||void 0===ce?void 0:ce.packageName)<"u",He,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.ax)("function"==typeof(null===(Yt=null===(At=null===(Xe=fe?.cordova)||void 0===Xe?void 0:Xe.plugins)||void 0===At?void 0:At.browsertab)||void 0===Yt?void 0:Yt.openUrl),He,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(me=null===(Ft=null===(st=fe?.cordova)||void 0===st?void 0:st.plugins)||void 0===Ft?void 0:Ft.browsertab)||void 0===me?void 0:me.isAvailable),He,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(X=null===(ae=fe?.cordova)||void 0===ae?void 0:ae.InAppBrowser)||void 0===X?void 0:X.open),He,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(oe);const st=yield Yt._initialize(oe);yield st.initialized(),st.resetRedirect(),(0,U.aD)(),yield Yt._originValidation(oe);const Ft=function je(He,oe,ce=null){return{type:oe,eventId:ce,urlResponse:null,sessionId:Ce(),postBody:null,tenantId:He.tenantId,error:(0,U.aw)(He,"no-auth-event")}}(oe,Xe,At);yield function wt(He,oe){return Ne()._set(Fe(He),oe)}(oe,Ft);const me=yield function Y(He,oe,ce){return te.apply(this,arguments)}(oe,Ft,ce),ae=yield function ze(He){const{cordova:oe}=Ee();return new Promise(ce=>{oe.plugins.browsertab.isAvailable(Xe=>{let At=null;Xe?oe.plugins.browsertab.openUrl(He):At=oe.InAppBrowser.open(He,(0,U.ap)()?"_blank":"_system","location=yes"),ce(At)})})}(me);return function Je(He,oe,ce){return ft.apply(this,arguments)}(oe,st,ae)})()}_isIframeWebStorageSupported(oe,ce){throw new Error("Method not implemented.")}_originValidation(oe){const ce=oe._key();return this.originValidationPromises[ce]||(this.originValidationPromises[ce]=function Re(He){return nt.apply(this,arguments)}(oe)),this.originValidationPromises[ce]}attachCallbackListeners(oe,ce){const{universalLinks:Xe,handleOpenURL:At,BuildInfo:Yt}=Ee(),st=setTimeout((0,D.Z)(function*(){yield ge(oe),ce.onEvent(ht())}),500),Ft=function(){var X=(0,D.Z)(function*(fe){clearTimeout(st);const at=yield ge(oe);let Vt=null;at&&fe?.url&&(Vt=function Ze(He,oe){var ce,Xe;const At=function Be(He){const oe=gt(He),ce=oe.link?decodeURIComponent(oe.link):void 0,Xe=gt(ce).link,At=oe.deep_link_id?decodeURIComponent(oe.deep_link_id):void 0;return gt(At).link||At||Xe||ce||He}(oe);if(At.includes("/__/auth/callback")){const Yt=gt(At),st=Yt.firebaseError?function Ke(He){try{return JSON.parse(He)}catch{return null}}(decodeURIComponent(Yt.firebaseError)):null,Ft=null===(Xe=null===(ce=st?.code)||void 0===ce?void 0:ce.split("auth/"))||void 0===Xe?void 0:Xe[1],me=Ft?(0,U.aw)(Ft):null;return me?{type:He.type,eventId:He.eventId,tenantId:He.tenantId,error:me,urlResponse:null,sessionId:null,postBody:null}:{type:He.type,eventId:He.eventId,tenantId:He.tenantId,sessionId:He.sessionId,urlResponse:At,postBody:null}}return null}(at,fe.url)),ce.onEvent(Vt||ht())});return function(at){return X.apply(this,arguments)}}();typeof Xe<"u"&&"function"==typeof Xe.subscribe&&Xe.subscribe(null,Ft);const me=At,ae=`${Yt.packageName.toLowerCase()}://`;Ee().handleOpenURL=function(){var X=(0,D.Z)(function*(fe){if(fe.toLowerCase().startsWith(ae)&&Ft({url:fe}),"function"==typeof me)try{me(fe)}catch(at){console.error(at)}});return function(fe){return X.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(oe){var ce=this;return(0,D.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._initialize(oe)})()}_openPopup(oe,ce,Xe,At){var Yt=this;return(0,D.Z)(function*(){return yield Yt.selectUnderlyingResolver(),Yt.assertedUnderlyingResolver._openPopup(oe,ce,Xe,At)})()}_openRedirect(oe,ce,Xe,At){var Yt=this;return(0,D.Z)(function*(){return yield Yt.selectUnderlyingResolver(),Yt.assertedUnderlyingResolver._openRedirect(oe,ce,Xe,At)})()}_isIframeWebStorageSupported(oe,ce){this.assertedUnderlyingResolver._isIframeWebStorageSupported(oe,ce)}_originValidation(oe){return this.assertedUnderlyingResolver._originValidation(oe)}get _shouldInitProactively(){return tr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Oe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var oe=this;return(0,D.Z)(function*(){if(oe.underlyingResolver)return;const ce=yield function Pt(){return Tn.apply(this,arguments)}();oe.underlyingResolver=ce?oe.cordovaResolver:oe.browserResolver})()}}function Rn(He){return He.unwrap()}function St(He){return on(He)}function on(He){const{_tokenResponse:oe}=He instanceof de.ZR?He.customData:He;if(!oe)return null;if(!(He instanceof de.ZR)&&"temporaryProof"in oe&&"phoneNumber"in oe)return U.P.credentialFromResult(He);const ce=oe.providerId;if(!ce||ce===U.o.PASSWORD)return null;let Xe;switch(ce){case U.o.GOOGLE:Xe=U.Q;break;case U.o.FACEBOOK:Xe=U.N;break;case U.o.GITHUB:Xe=U.T;break;case U.o.TWITTER:Xe=U.W;break;default:const{oauthIdToken:At,oauthAccessToken:Yt,oauthTokenSecret:st,pendingToken:Ft,nonce:me}=oe;return Yt||st||At||Ft?Ft?ce.startsWith("saml.")?U.aL._create(ce,Ft):U.J._fromParams({providerId:ce,signInMethod:ce,pendingToken:Ft,idToken:At,accessToken:Yt}):new U.U(ce).credential({idToken:At,accessToken:Yt,rawNonce:me}):null}return He instanceof de.ZR?Xe.credentialFromError(He):Xe.credentialFromResult(He)}function mn(He,oe){return oe.catch(ce=>{throw ce instanceof de.ZR&&function zn(He,oe){var ce,Xe;const At=null===(ce=oe.customData)||void 0===ce?void 0:ce._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Xe=oe)||void 0===Xe?void 0:Xe.code))oe.resolver=new ee(He,U.an(He,oe));else if(At){const Yt=on(oe),st=oe;Yt&&(st.credential=Yt,st.tenantId=At.tenantId||void 0,st.email=At.email||void 0,st.phoneNumber=At.phoneNumber||void 0)}}(He,ce),ce}).then(ce=>{const At=ce.user;return{operationType:ce.operationType,credential:St(ce),additionalUserInfo:U.al(ce),user:Se.getOrCreate(At)}})}function _n(He,oe){return ue.apply(this,arguments)}function ue(){return(ue=(0,D.Z)(function*(He,oe){const ce=yield oe;return{verificationId:ce.verificationId,confirm:Xe=>mn(He,ce.confirm(Xe))}})).apply(this,arguments)}class ee{constructor(oe,ce){this.resolver=ce,this.auth=function Cn(He){return He.wrapped()}(oe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(oe){return mn(Rn(this.auth),this.resolver.resolveSignIn(oe))}}class Se{constructor(oe){this._delegate=oe,this.multiFactor=U.ao(oe)}static getOrCreate(oe){return Se.USER_MAP.has(oe)||Se.USER_MAP.set(oe,new Se(oe)),Se.USER_MAP.get(oe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(oe){return this._delegate.getIdTokenResult(oe)}getIdToken(oe){return this._delegate.getIdToken(oe)}linkAndRetrieveDataWithCredential(oe){return this.linkWithCredential(oe)}linkWithCredential(oe){var ce=this;return(0,D.Z)(function*(){return mn(ce.auth,U.Z(ce._delegate,oe))})()}linkWithPhoneNumber(oe,ce){var Xe=this;return(0,D.Z)(function*(){return _n(Xe.auth,U.l(Xe._delegate,oe,ce))})()}linkWithPopup(oe){var ce=this;return(0,D.Z)(function*(){return mn(ce.auth,U.d(ce._delegate,oe,ut))})()}linkWithRedirect(oe){var ce=this;return(0,D.Z)(function*(){return yield rt(U.aE(ce.auth)),U.g(ce._delegate,oe,ut)})()}reauthenticateAndRetrieveDataWithCredential(oe){return this.reauthenticateWithCredential(oe)}reauthenticateWithCredential(oe){var ce=this;return(0,D.Z)(function*(){return mn(ce.auth,U._(ce._delegate,oe))})()}reauthenticateWithPhoneNumber(oe,ce){return _n(this.auth,U.r(this._delegate,oe,ce))}reauthenticateWithPopup(oe){return mn(this.auth,U.e(this._delegate,oe,ut))}reauthenticateWithRedirect(oe){var ce=this;return(0,D.Z)(function*(){return yield rt(U.aE(ce.auth)),U.h(ce._delegate,oe,ut)})()}sendEmailVerification(oe){return U.ab(this._delegate,oe)}unlink(oe){var ce=this;return(0,D.Z)(function*(){return yield U.ak(ce._delegate,oe),ce})()}updateEmail(oe){return U.ag(this._delegate,oe)}updatePassword(oe){return U.ah(this._delegate,oe)}updatePhoneNumber(oe){return U.u(this._delegate,oe)}updateProfile(oe){return U.af(this._delegate,oe)}verifyBeforeUpdateEmail(oe,ce){return U.ac(this._delegate,oe,ce)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Se.USER_MAP=new WeakMap;const Ae=U.ax;let J=(()=>{class He{constructor(ce,Xe){if(this.app=ce,Xe.isInitialized())return this._delegate=Xe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:At}=ce.options;Ae(At,"invalid-api-key",{appName:ce.name}),Ae(At,"invalid-api-key",{appName:ce.name});const Yt=typeof window<"u"?ut:void 0;this._delegate=Xe.initialize({options:{persistence:bt(At,ce.name),popupRedirectResolver:Yt}}),this._delegate._updateErrorMap(U.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Se.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ce){this._delegate.languageCode=ce}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ce){this._delegate.tenantId=ce}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ce,Xe){U.G(this._delegate,ce,Xe)}applyActionCode(ce){return U.a2(this._delegate,ce)}checkActionCode(ce){return U.a3(this._delegate,ce)}confirmPasswordReset(ce,Xe){return U.a1(this._delegate,ce,Xe)}createUserWithEmailAndPassword(ce,Xe){var At=this;return(0,D.Z)(function*(){return mn(At._delegate,U.a5(At._delegate,ce,Xe))})()}fetchProvidersForEmail(ce){return this.fetchSignInMethodsForEmail(ce)}fetchSignInMethodsForEmail(ce){return U.aa(this._delegate,ce)}isSignInWithEmailLink(ce){return U.a8(this._delegate,ce)}getRedirectResult(){var ce=this;return(0,D.Z)(function*(){Ae(sr(),ce._delegate,"operation-not-supported-in-this-environment");const Xe=yield U.j(ce._delegate,ut);return Xe?mn(ce._delegate,Promise.resolve(Xe)):{credential:null,user:null}})()}addFrameworkForLogging(ce){!function hn(He,oe){(0,U.aE)(He)._logFramework(oe)}(this._delegate,ce)}onAuthStateChanged(ce,Xe,At){const{next:Yt,error:st,complete:Ft}=tt(ce,Xe,At);return this._delegate.onAuthStateChanged(Yt,st,Ft)}onIdTokenChanged(ce,Xe,At){const{next:Yt,error:st,complete:Ft}=tt(ce,Xe,At);return this._delegate.onIdTokenChanged(Yt,st,Ft)}sendSignInLinkToEmail(ce,Xe){return U.a7(this._delegate,ce,Xe)}sendPasswordResetEmail(ce,Xe){return U.a0(this._delegate,ce,Xe||void 0)}setPersistence(ce){var Xe=this;return(0,D.Z)(function*(){let At;switch(function Vn(He,oe){Zt(Object.values(an).includes(oe),He,"invalid-persistence-type"),(0,de.b$)()?Zt(oe!==an.SESSION,He,"unsupported-persistence-type"):(0,de.UG)()?Zt(oe===an.NONE,He,"unsupported-persistence-type"):lr()?Zt(oe===an.NONE||oe===an.LOCAL&&(0,de.hl)(),He,"unsupported-persistence-type"):Zt(oe===an.NONE||mr(),He,"unsupported-persistence-type")}(Xe._delegate,ce),ce){case an.SESSION:At=U.a;break;case an.LOCAL:At=(yield U.ay(U.i)._isAvailable())?U.i:U.b;break;case an.NONE:At=U.L;break;default:return U.at("argument-error",{appName:Xe._delegate.name})}return Xe._delegate.setPersistence(At)})()}signInAndRetrieveDataWithCredential(ce){return this.signInWithCredential(ce)}signInAnonymously(){return mn(this._delegate,U.X(this._delegate))}signInWithCredential(ce){return mn(this._delegate,U.Y(this._delegate,ce))}signInWithCustomToken(ce){return mn(this._delegate,U.$(this._delegate,ce))}signInWithEmailAndPassword(ce,Xe){return mn(this._delegate,U.a6(this._delegate,ce,Xe))}signInWithEmailLink(ce,Xe){return mn(this._delegate,U.a9(this._delegate,ce,Xe))}signInWithPhoneNumber(ce,Xe){return _n(this._delegate,U.s(this._delegate,ce,Xe))}signInWithPopup(ce){var Xe=this;return(0,D.Z)(function*(){return Ae(sr(),Xe._delegate,"operation-not-supported-in-this-environment"),mn(Xe._delegate,U.c(Xe._delegate,ce,ut))})()}signInWithRedirect(ce){var Xe=this;return(0,D.Z)(function*(){return Ae(sr(),Xe._delegate,"operation-not-supported-in-this-environment"),yield rt(Xe._delegate),U.f(Xe._delegate,ce,ut)})()}updateCurrentUser(ce){return this._delegate.updateCurrentUser(ce)}verifyPasswordResetCode(ce){return U.a4(this._delegate,ce)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return He.Persistence=an,He})();function tt(He,oe,ce){let Xe=He;"function"!=typeof He&&({next:Xe,error:oe,complete:ce}=He);const At=Xe;return{next:st=>At(st&&Se.getOrCreate(st)),error:oe,complete:ce}}function bt(He,oe){const ce=function Ie(He,oe){const ce=ot();if(!ce)return[];const Xe=U.az(vr,He,oe);switch(ce.getItem(Xe)){case an.NONE:return[U.L];case an.LOCAL:return[U.i,U.a];case an.SESSION:return[U.a];default:return[]}}(He,oe);if(typeof self<"u"&&!ce.includes(U.i)&&ce.push(U.i),typeof window<"u")for(const Xe of[U.b,U.a])ce.includes(Xe)||ce.push(Xe);return ce.includes(U.L)||ce.push(U.L),ce}class Ut{constructor(){this.providerId="phone",this._delegate=new U.P(Rn(T.Z.auth()))}static credential(oe,ce){return U.P.credential(oe,ce)}verifyPhoneNumber(oe,ce){return this._delegate.verifyPhoneNumber(oe,ce)}unwrap(){return this._delegate}}Ut.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,Ut.PROVIDER_ID=U.P.PROVIDER_ID;const dn=U.ax;class yn{constructor(oe,ce,Xe=T.Z.app()){var At;dn(null===(At=Xe.options)||void 0===At?void 0:At.apiKey,"invalid-api-key",{appName:Xe.name}),this._delegate=new U.R(oe,ce,Xe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pn(He){He.INTERNAL.registerComponent(new ie.wA("auth-compat",oe=>{const ce=oe.getProvider("app-compat").getImmediate(),Xe=oe.getProvider("auth");return new J(ce,Xe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.M,FacebookAuthProvider:U.N,GithubAuthProvider:U.T,GoogleAuthProvider:U.Q,OAuthProvider:U.U,SAMLAuthProvider:U.V,PhoneAuthProvider:Ut,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:yn,TwitterAuthProvider:U.W,Auth:J,AuthCredential:U.H,Error:de.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),He.registerVersion("@firebase/auth-compat","0.2.17")}(T.Z)},1135:(kt,ke,O)=>{O.d(ke,{X:()=>T});var D=O(7579);class T extends D.x{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const le=super._subscribe(de);return!le.closed&&de.next(this._value),le}getValue(){const{hasError:de,thrownError:le,_value:Te}=this;if(de)throw le;return this._throwIfClosed(),Te}next(de){super.next(this._value=de)}}},8306:(kt,ke,O)=>{O.d(ke,{y:()=>Y});var D=O(930),T=O(727),U=O(8822),de=O(4671);var ie=O(2416),Ee=O(576),Me=O(2806);let Y=(()=>{class ze{constructor(ft){ft&&(this._subscribe=ft)}lift(ft){const Ue=new ze;return Ue.source=this,Ue.operator=ft,Ue}subscribe(ft,Ue,$e){const _t=function nt(ze){return ze&&ze instanceof D.Lv||function Re(ze){return ze&&(0,Ee.m)(ze.next)&&(0,Ee.m)(ze.error)&&(0,Ee.m)(ze.complete)}(ze)&&(0,T.Nn)(ze)}(ft)?ft:new D.Hp(ft,Ue,$e);return(0,Me.x)(()=>{const{operator:pt,source:Ve}=this;_t.add(pt?pt.call(_t,Ve):Ve?this._subscribe(_t):this._trySubscribe(_t))}),_t}_trySubscribe(ft){try{return this._subscribe(ft)}catch(Ue){ft.error(Ue)}}forEach(ft,Ue){return new(Ue=te(Ue))(($e,_t)=>{const pt=new D.Hp({next:Ve=>{try{ft(Ve)}catch(be){_t(be),pt.unsubscribe()}},error:_t,complete:$e});this.subscribe(pt)})}_subscribe(ft){var Ue;return null===(Ue=this.source)||void 0===Ue?void 0:Ue.subscribe(ft)}[U.L](){return this}pipe(...ft){return function Te(ze){return 0===ze.length?de.y:1===ze.length?ze[0]:function(ft){return ze.reduce((Ue,$e)=>$e(Ue),ft)}}(ft)(this)}toPromise(ft){return new(ft=te(ft))((Ue,$e)=>{let _t;this.subscribe(pt=>_t=pt,pt=>$e(pt),()=>Ue(_t))})}}return ze.create=Je=>new ze(Je),ze})();function te(ze){var Je;return null!==(Je=ze??ie.v.Promise)&&void 0!==Je?Je:Promise}},7579:(kt,ke,O)=>{O.d(ke,{x:()=>ie});var D=O(8306),T=O(727);const de=(0,O(3888).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=O(8737),Te=O(2806);let ie=(()=>{class Me extends D.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const Re=new Ee(this,this);return Re.operator=te,Re}_throwIfClosed(){if(this.closed)throw new de}next(te){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(te)}})}error(te){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:Re}=this;for(;Re.length;)Re.shift().error(te)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:Re,isStopped:nt,observers:ze}=this;return Re||nt?T.Lc:(this.currentObservers=null,ze.push(te),new T.w0(()=>{this.currentObservers=null,(0,le.P)(ze,te)}))}_checkFinalizedStatuses(te){const{hasError:Re,thrownError:nt,isStopped:ze}=this;Re?te.error(nt):ze&&te.complete()}asObservable(){const te=new D.y;return te.source=this,te}}return Me.create=(Y,te)=>new Ee(Y,te),Me})();class Ee extends ie{constructor(Y,te){super(),this.destination=Y,this.source=te}next(Y){var te,Re;null===(Re=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===Re||Re.call(te,Y)}error(Y){var te,Re;null===(Re=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===Re||Re.call(te,Y)}complete(){var Y,te;null===(te=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===te||te.call(Y)}_subscribe(Y){var te,Re;return null!==(Re=null===(te=this.source)||void 0===te?void 0:te.subscribe(Y))&&void 0!==Re?Re:T.Lc}}},930:(kt,ke,O)=>{O.d(ke,{Hp:()=>ft,Lv:()=>Re});var D=O(576),T=O(727),U=O(2416),de=O(7849),le=O(5032);const Te=Me("C",void 0,void 0);function Me(Ve,be,je){return{kind:Ve,value:be,error:je}}var Y=O(3410),te=O(2806);class Re extends T.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,T.Nn)(be)&&be.add(this)):this.destination=pt}static create(be,je,wt){return new ft(be,je,wt)}next(be){this.isStopped?_t(function Ee(Ve){return Me("N",Ve,void 0)}(be),this):this._next(be)}error(be){this.isStopped?_t(function ie(Ve){return Me("E",void 0,Ve)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?_t(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function ze(Ve,be){return nt.call(Ve,be)}class Je{constructor(be){this.partialObserver=be}next(be){const{partialObserver:je}=this;if(je.next)try{je.next(be)}catch(wt){Ue(wt)}}error(be){const{partialObserver:je}=this;if(je.error)try{je.error(be)}catch(wt){Ue(wt)}else Ue(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(je){Ue(je)}}}class ft extends Re{constructor(be,je,wt){let ge;if(super(),(0,D.m)(be)||!be)ge={next:be??void 0,error:je??void 0,complete:wt??void 0};else{let L;this&&U.v.useDeprecatedNextContext?(L=Object.create(be),L.unsubscribe=()=>this.unsubscribe(),ge={next:be.next&&ze(be.next,L),error:be.error&&ze(be.error,L),complete:be.complete&&ze(be.complete,L)}):ge=be}this.destination=new Je(ge)}}function Ue(Ve){U.v.useDeprecatedSynchronousErrorHandling?(0,te.O)(Ve):(0,de.h)(Ve)}function _t(Ve,be){const{onStoppedNotification:je}=U.v;je&&Y.z.setTimeout(()=>je(Ve,be))}const pt={closed:!0,next:le.Z,error:function $e(Ve){throw Ve},complete:le.Z}},727:(kt,ke,O)=>{O.d(ke,{Lc:()=>Te,w0:()=>le,Nn:()=>ie});var D=O(576);const U=(0,O(3888).d)(Me=>function(te){Me(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((Re,nt)=>`${nt+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var de=O(8737);class le{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const ze of te)ze.remove(this);else te.remove(this);const{initialTeardown:Re}=this;if((0,D.m)(Re))try{Re()}catch(ze){Y=ze instanceof U?ze.errors:[ze]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const ze of nt)try{Ee(ze)}catch(Je){Y=Y??[],Je instanceof U?Y=[...Y,...Je.errors]:Y.push(Je)}}if(Y)throw new U(Y)}}add(Y){var te;if(Y&&Y!==this)if(this.closed)Ee(Y);else{if(Y instanceof le){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(Y)}}_hasParent(Y){const{_parentage:te}=this;return te===Y||Array.isArray(te)&&te.includes(Y)}_addParent(Y){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(Y),te):te?[te,Y]:Y}_removeParent(Y){const{_parentage:te}=this;te===Y?this._parentage=null:Array.isArray(te)&&(0,de.P)(te,Y)}remove(Y){const{_finalizers:te}=this;te&&(0,de.P)(te,Y),Y instanceof le&&Y._removeParent(this)}}le.EMPTY=(()=>{const Me=new le;return Me.closed=!0,Me})();const Te=le.EMPTY;function ie(Me){return Me instanceof le||Me&&"closed"in Me&&(0,D.m)(Me.remove)&&(0,D.m)(Me.add)&&(0,D.m)(Me.unsubscribe)}function Ee(Me){(0,D.m)(Me)?Me():Me.unsubscribe()}},2416:(kt,ke,O)=>{O.d(ke,{v:()=>D});const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(kt,ke,O)=>{O.d(ke,{a:()=>Y});var D=O(8306),T=O(4742),U=O(8996),de=O(4671),le=O(3268),Te=O(3269),ie=O(1810),Ee=O(5403),Me=O(9672);function Y(...nt){const ze=(0,Te.yG)(nt),Je=(0,Te.jO)(nt),{args:ft,keys:Ue}=(0,T.D)(nt);if(0===ft.length)return(0,U.D)([],ze);const $e=new D.y(function te(nt,ze,Je=de.y){return ft=>{Re(ze,()=>{const{length:Ue}=nt,$e=new Array(Ue);let _t=Ue,pt=Ue;for(let Ve=0;Ve<Ue;Ve++)Re(ze,()=>{const be=(0,U.D)(nt[Ve],ze);let je=!1;be.subscribe((0,Ee.x)(ft,wt=>{$e[Ve]=wt,je||(je=!0,pt--),pt||ft.next(Je($e.slice()))},()=>{--_t||ft.complete()}))},ft)},ft)}}(ft,ze,Ue?_t=>(0,ie.n)(Ue,_t):de.y));return Je?$e.pipe((0,le.Z)(Je)):$e}function Re(nt,ze,Je){nt?(0,Me.f)(Je,nt,ze):ze()}},7272:(kt,ke,O)=>{O.d(ke,{z:()=>le});var D=O(8189),U=O(3269),de=O(8996);function le(...Te){return function T(){return(0,D.J)(1)}()((0,de.D)(Te,(0,U.yG)(Te)))}},9770:(kt,ke,O)=>{O.d(ke,{P:()=>U});var D=O(8306),T=O(8421);function U(de){return new D.y(le=>{(0,T.Xf)(de()).subscribe(le)})}},515:(kt,ke,O)=>{O.d(ke,{E:()=>T});const T=new(O(8306).y)(le=>le.complete())},8996:(kt,ke,O)=>{O.d(ke,{D:()=>be});var D=O(8421),T=O(5363),U=O(9468),Te=O(8306),Ee=O(2202),Me=O(576),Y=O(9672);function Re(je,wt){if(!je)throw new Error("Iterable cannot be null");return new Te.y(ge=>{(0,Y.f)(ge,wt,()=>{const L=je[Symbol.asyncIterator]();(0,Y.f)(ge,wt,()=>{L.next().then(Ze=>{Ze.done?ge.complete():ge.next(Ze.value)})},0,!0)})})}var nt=O(3670),ze=O(8239),Je=O(1144),ft=O(6495),Ue=O(2206),$e=O(4532),_t=O(3260);function be(je,wt){return wt?function Ve(je,wt){if(null!=je){if((0,nt.c)(je))return function de(je,wt){return(0,D.Xf)(je).pipe((0,U.R)(wt),(0,T.Q)(wt))}(je,wt);if((0,Je.z)(je))return function ie(je,wt){return new Te.y(ge=>{let L=0;return wt.schedule(function(){L===je.length?ge.complete():(ge.next(je[L++]),ge.closed||this.schedule())})})}(je,wt);if((0,ze.t)(je))return function le(je,wt){return(0,D.Xf)(je).pipe((0,U.R)(wt),(0,T.Q)(wt))}(je,wt);if((0,Ue.D)(je))return Re(je,wt);if((0,ft.T)(je))return function te(je,wt){return new Te.y(ge=>{let L;return(0,Y.f)(ge,wt,()=>{L=je[Ee.h](),(0,Y.f)(ge,wt,()=>{let Ze,Ce;try{({value:Ze,done:Ce}=L.next())}catch(Ne){return void ge.error(Ne)}Ce?ge.complete():ge.next(Ze)},0,!0)}),()=>(0,Me.m)(L?.return)&&L.return()})}(je,wt);if((0,_t.L)(je))return function pt(je,wt){return Re((0,_t.Q)(je),wt)}(je,wt)}throw(0,$e.z)(je)}(je,wt):(0,D.Xf)(je)}},8421:(kt,ke,O)=>{O.d(ke,{Xf:()=>nt});var D=O(655),T=O(1144),U=O(8239),de=O(8306),le=O(3670),Te=O(2206),ie=O(4532),Ee=O(6495),Me=O(3260),Y=O(576),te=O(7849),Re=O(8822);function nt(Ve){if(Ve instanceof de.y)return Ve;if(null!=Ve){if((0,le.c)(Ve))return function ze(Ve){return new de.y(be=>{const je=Ve[Re.L]();if((0,Y.m)(je.subscribe))return je.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,T.z)(Ve))return function Je(Ve){return new de.y(be=>{for(let je=0;je<Ve.length&&!be.closed;je++)be.next(Ve[je]);be.complete()})}(Ve);if((0,U.t)(Ve))return function ft(Ve){return new de.y(be=>{Ve.then(je=>{be.closed||(be.next(je),be.complete())},je=>be.error(je)).then(null,te.h)})}(Ve);if((0,Te.D)(Ve))return $e(Ve);if((0,Ee.T)(Ve))return function Ue(Ve){return new de.y(be=>{for(const je of Ve)if(be.next(je),be.closed)return;be.complete()})}(Ve);if((0,Me.L)(Ve))return function _t(Ve){return $e((0,Me.Q)(Ve))}(Ve)}throw(0,ie.z)(Ve)}function $e(Ve){return new de.y(be=>{(function pt(Ve,be){var je,wt,ge,L;return(0,D.mG)(this,void 0,void 0,function*(){try{for(je=(0,D.KL)(Ve);!(wt=yield je.next()).done;)if(be.next(wt.value),be.closed)return}catch(Ze){ge={error:Ze}}finally{try{wt&&!wt.done&&(L=je.return)&&(yield L.call(je))}finally{if(ge)throw ge.error}}be.complete()})})(Ve,be).catch(je=>be.error(je))})}},6451:(kt,ke,O)=>{O.d(ke,{T:()=>Te});var D=O(8189),T=O(8421),U=O(515),de=O(3269),le=O(8996);function Te(...ie){const Ee=(0,de.yG)(ie),Me=(0,de._6)(ie,1/0),Y=ie;return Y.length?1===Y.length?(0,T.Xf)(Y[0]):(0,D.J)(Me)((0,le.D)(Y,Ee)):U.E}},9646:(kt,ke,O)=>{O.d(ke,{of:()=>U});var D=O(3269),T=O(8996);function U(...de){const le=(0,D.yG)(de);return(0,T.D)(de,le)}},2843:(kt,ke,O)=>{O.d(ke,{_:()=>U});var D=O(8306),T=O(576);function U(de,le){const Te=(0,T.m)(de)?de:()=>de,ie=Ee=>Ee.error(Te());return new D.y(le?Ee=>le.schedule(ie,0,Ee):ie)}},5403:(kt,ke,O)=>{O.d(ke,{x:()=>T});var D=O(930);function T(de,le,Te,ie,Ee){return new U(de,le,Te,ie,Ee)}class U extends D.Lv{constructor(le,Te,ie,Ee,Me,Y){super(le),this.onFinalize=Me,this.shouldUnsubscribe=Y,this._next=Te?function(te){try{Te(te)}catch(Re){le.error(Re)}}:super._next,this._error=Ee?function(te){try{Ee(te)}catch(Re){le.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(te){le.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},262:(kt,ke,O)=>{O.d(ke,{K:()=>de});var D=O(8421),T=O(5403),U=O(4482);function de(le){return(0,U.e)((Te,ie)=>{let Y,Ee=null,Me=!1;Ee=Te.subscribe((0,T.x)(ie,void 0,void 0,te=>{Y=(0,D.Xf)(le(te,de(le)(Te))),Ee?(Ee.unsubscribe(),Ee=null,Y.subscribe(ie)):Me=!0})),Me&&(Ee.unsubscribe(),Ee=null,Y.subscribe(ie))})}},4351:(kt,ke,O)=>{O.d(ke,{b:()=>U});var D=O(5577),T=O(576);function U(de,le){return(0,T.m)(le)?(0,D.z)(de,le,1):(0,D.z)(de,1)}},6590:(kt,ke,O)=>{O.d(ke,{d:()=>U});var D=O(4482),T=O(5403);function U(de){return(0,D.e)((le,Te)=>{let ie=!1;le.subscribe((0,T.x)(Te,Ee=>{ie=!0,Te.next(Ee)},()=>{ie||Te.next(de),Te.complete()}))})}},1884:(kt,ke,O)=>{O.d(ke,{x:()=>de});var D=O(4671),T=O(4482),U=O(5403);function de(Te,ie=D.y){return Te=Te??le,(0,T.e)((Ee,Me)=>{let Y,te=!0;Ee.subscribe((0,U.x)(Me,Re=>{const nt=ie(Re);(te||!Te(Y,nt))&&(te=!1,Y=nt,Me.next(Re))}))})}function le(Te,ie){return Te===ie}},9300:(kt,ke,O)=>{O.d(ke,{h:()=>U});var D=O(4482),T=O(5403);function U(de,le){return(0,D.e)((Te,ie)=>{let Ee=0;Te.subscribe((0,T.x)(ie,Me=>de.call(le,Me,Ee++)&&ie.next(Me)))})}},8746:(kt,ke,O)=>{O.d(ke,{x:()=>T});var D=O(4482);function T(U){return(0,D.e)((de,le)=>{try{de.subscribe(le)}finally{le.add(U)}})}},590:(kt,ke,O)=>{O.d(ke,{P:()=>ie});var D=O(6805),T=O(9300),U=O(5698),de=O(6590),le=O(8068),Te=O(4671);function ie(Ee,Me){const Y=arguments.length>=2;return te=>te.pipe(Ee?(0,T.h)((Re,nt)=>Ee(Re,nt,te)):Te.y,(0,U.q)(1),Y?(0,de.d)(Me):(0,le.T)(()=>new D.K))}},4004:(kt,ke,O)=>{O.d(ke,{U:()=>U});var D=O(4482),T=O(5403);function U(de,le){return(0,D.e)((Te,ie)=>{let Ee=0;Te.subscribe((0,T.x)(ie,Me=>{ie.next(de.call(le,Me,Ee++))}))})}},8189:(kt,ke,O)=>{O.d(ke,{J:()=>U});var D=O(5577),T=O(4671);function U(de=1/0){return(0,D.z)(T.y,de)}},5577:(kt,ke,O)=>{O.d(ke,{z:()=>Ee});var D=O(4004),T=O(8421),U=O(4482),de=O(9672),le=O(5403),ie=O(576);function Ee(Me,Y,te=1/0){return(0,ie.m)(Y)?Ee((Re,nt)=>(0,D.U)((ze,Je)=>Y(Re,ze,nt,Je))((0,T.Xf)(Me(Re,nt))),te):("number"==typeof Y&&(te=Y),(0,U.e)((Re,nt)=>function Te(Me,Y,te,Re,nt,ze,Je,ft){const Ue=[];let $e=0,_t=0,pt=!1;const Ve=()=>{pt&&!Ue.length&&!$e&&Y.complete()},be=wt=>$e<Re?je(wt):Ue.push(wt),je=wt=>{ze&&Y.next(wt),$e++;let ge=!1;(0,T.Xf)(te(wt,_t++)).subscribe((0,le.x)(Y,L=>{nt?.(L),ze?be(L):Y.next(L)},()=>{ge=!0},void 0,()=>{if(ge)try{for($e--;Ue.length&&$e<Re;){const L=Ue.shift();Je?(0,de.f)(Y,Je,()=>je(L)):je(L)}Ve()}catch(L){Y.error(L)}}))};return Me.subscribe((0,le.x)(Y,be,()=>{pt=!0,Ve()})),()=>{ft?.()}}(Re,nt,Me,te)))}},5363:(kt,ke,O)=>{O.d(ke,{Q:()=>de});var D=O(9672),T=O(4482),U=O(5403);function de(le,Te=0){return(0,T.e)((ie,Ee)=>{ie.subscribe((0,U.x)(Ee,Me=>(0,D.f)(Ee,le,()=>Ee.next(Me),Te),()=>(0,D.f)(Ee,le,()=>Ee.complete(),Te),Me=>(0,D.f)(Ee,le,()=>Ee.error(Me),Te)))})}},5026:(kt,ke,O)=>{O.d(ke,{R:()=>de});var D=O(4482),T=O(5403);function U(le,Te,ie,Ee,Me){return(Y,te)=>{let Re=ie,nt=Te,ze=0;Y.subscribe((0,T.x)(te,Je=>{const ft=ze++;nt=Re?le(nt,Je,ft):(Re=!0,Je),Ee&&te.next(nt)},Me&&(()=>{Re&&te.next(nt),te.complete()})))}}function de(le,Te){return(0,D.e)(U(le,Te,arguments.length>=2,!0))}},3099:(kt,ke,O)=>{O.d(ke,{B:()=>Te});var D=O(8996),T=O(5698),U=O(7579),de=O(930),le=O(4482);function Te(Ee={}){const{connector:Me=(()=>new U.x),resetOnError:Y=!0,resetOnComplete:te=!0,resetOnRefCountZero:Re=!0}=Ee;return nt=>{let ze=null,Je=null,ft=null,Ue=0,$e=!1,_t=!1;const pt=()=>{Je?.unsubscribe(),Je=null},Ve=()=>{pt(),ze=ft=null,$e=_t=!1},be=()=>{const je=ze;Ve(),je?.unsubscribe()};return(0,le.e)((je,wt)=>{Ue++,!_t&&!$e&&pt();const ge=ft=ft??Me();wt.add(()=>{Ue--,0===Ue&&!_t&&!$e&&(Je=ie(be,Re))}),ge.subscribe(wt),ze||(ze=new de.Hp({next:L=>ge.next(L),error:L=>{_t=!0,pt(),Je=ie(Ve,Y,L),ge.error(L)},complete:()=>{$e=!0,pt(),Je=ie(Ve,te),ge.complete()}}),(0,D.D)(je).subscribe(ze))})(nt)}}function ie(Ee,Me,...Y){return!0===Me?(Ee(),null):!1===Me?null:Me(...Y).pipe((0,T.q)(1)).subscribe(()=>Ee())}},8675:(kt,ke,O)=>{O.d(ke,{O:()=>de});var D=O(7272),T=O(3269),U=O(4482);function de(...le){const Te=(0,T.yG)(le);return(0,U.e)((ie,Ee)=>{(Te?(0,D.z)(le,ie,Te):(0,D.z)(le,ie)).subscribe(Ee)})}},9468:(kt,ke,O)=>{O.d(ke,{R:()=>T});var D=O(4482);function T(U,de=0){return(0,D.e)((le,Te)=>{Te.add(U.schedule(()=>le.subscribe(Te),de))})}},3900:(kt,ke,O)=>{O.d(ke,{w:()=>de});var D=O(8421),T=O(4482),U=O(5403);function de(le,Te){return(0,T.e)((ie,Ee)=>{let Me=null,Y=0,te=!1;const Re=()=>te&&!Me&&Ee.complete();ie.subscribe((0,U.x)(Ee,nt=>{Me?.unsubscribe();let ze=0;const Je=Y++;(0,D.Xf)(le(nt,Je)).subscribe(Me=(0,U.x)(Ee,ft=>Ee.next(Te?Te(nt,ft,Je,ze++):ft),()=>{Me=null,Re()}))},()=>{te=!0,Re()}))})}},5698:(kt,ke,O)=>{O.d(ke,{q:()=>de});var D=O(515),T=O(4482),U=O(5403);function de(le){return le<=0?()=>D.E:(0,T.e)((Te,ie)=>{let Ee=0;Te.subscribe((0,U.x)(ie,Me=>{++Ee<=le&&(ie.next(Me),le<=Ee&&ie.complete())}))})}},8505:(kt,ke,O)=>{O.d(ke,{b:()=>le});var D=O(576),T=O(4482),U=O(5403),de=O(4671);function le(Te,ie,Ee){const Me=(0,D.m)(Te)||ie||Ee?{next:Te,error:ie,complete:Ee}:Te;return Me?(0,T.e)((Y,te)=>{var Re;null===(Re=Me.subscribe)||void 0===Re||Re.call(Me);let nt=!0;Y.subscribe((0,U.x)(te,ze=>{var Je;null===(Je=Me.next)||void 0===Je||Je.call(Me,ze),te.next(ze)},()=>{var ze;nt=!1,null===(ze=Me.complete)||void 0===ze||ze.call(Me),te.complete()},ze=>{var Je;nt=!1,null===(Je=Me.error)||void 0===Je||Je.call(Me,ze),te.error(ze)},()=>{var ze,Je;nt&&(null===(ze=Me.unsubscribe)||void 0===ze||ze.call(Me)),null===(Je=Me.finalize)||void 0===Je||Je.call(Me)}))}):de.y}},8068:(kt,ke,O)=>{O.d(ke,{T:()=>de});var D=O(6805),T=O(4482),U=O(5403);function de(Te=le){return(0,T.e)((ie,Ee)=>{let Me=!1;ie.subscribe((0,U.x)(Ee,Y=>{Me=!0,Ee.next(Y)},()=>Me?Ee.complete():Ee.error(Te())))})}function le(){return new D.K}},4408:(kt,ke,O)=>{O.d(ke,{o:()=>le});var D=O(727);class T extends D.w0{constructor(ie,Ee){super()}schedule(ie,Ee=0){return this}}const U={setInterval(Te,ie,...Ee){const{delegate:Me}=U;return Me?.setInterval?Me.setInterval(Te,ie,...Ee):setInterval(Te,ie,...Ee)},clearInterval(Te){const{delegate:ie}=U;return(ie?.clearInterval||clearInterval)(Te)},delegate:void 0};var de=O(8737);class le extends T{constructor(ie,Ee){super(ie,Ee),this.scheduler=ie,this.work=Ee,this.pending=!1}schedule(ie,Ee=0){if(this.closed)return this;this.state=ie;const Me=this.id,Y=this.scheduler;return null!=Me&&(this.id=this.recycleAsyncId(Y,Me,Ee)),this.pending=!0,this.delay=Ee,this.id=this.id||this.requestAsyncId(Y,this.id,Ee),this}requestAsyncId(ie,Ee,Me=0){return U.setInterval(ie.flush.bind(ie,this),Me)}recycleAsyncId(ie,Ee,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Ee;U.clearInterval(Ee)}execute(ie,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(ie,Ee);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,Ee){let Y,Me=!1;try{this.work(ie)}catch(te){Me=!0,Y=te||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:ie,scheduler:Ee}=this,{actions:Me}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(Me,this),null!=ie&&(this.id=this.recycleAsyncId(Ee,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(kt,ke,O)=>{O.d(ke,{v:()=>U});var D=O(6063);class T{constructor(le,Te=T.now){this.schedulerActionCtor=le,this.now=Te}schedule(le,Te=0,ie){return new this.schedulerActionCtor(this,le).schedule(ie,Te)}}T.now=D.l.now;class U extends T{constructor(le,Te=T.now){super(le,Te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:Te}=this;if(this._active)return void Te.push(le);let ie;this._active=!0;do{if(ie=le.execute(le.state,le.delay))break}while(le=Te.shift());if(this._active=!1,ie){for(;le=Te.shift();)le.unsubscribe();throw ie}}}},4986:(kt,ke,O)=>{O.d(ke,{P:()=>de,z:()=>U});var D=O(4408);const U=new(O(7565).v)(D.o),de=U},6063:(kt,ke,O)=>{O.d(ke,{l:()=>D});const D={now:()=>(D.delegate||Date).now(),delegate:void 0}},3410:(kt,ke,O)=>{O.d(ke,{z:()=>D});const D={setTimeout(T,U,...de){const{delegate:le}=D;return le?.setTimeout?le.setTimeout(T,U,...de):setTimeout(T,U,...de)},clearTimeout(T){const{delegate:U}=D;return(U?.clearTimeout||clearTimeout)(T)},delegate:void 0}},2202:(kt,ke,O)=>{O.d(ke,{h:()=>T});const T=function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(kt,ke,O)=>{O.d(ke,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(kt,ke,O)=>{O.d(ke,{K:()=>T});const T=(0,O(3888).d)(U=>function(){U(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(kt,ke,O)=>{O.d(ke,{_6:()=>Te,jO:()=>de,yG:()=>le});var D=O(576),T=O(3532);function U(ie){return ie[ie.length-1]}function de(ie){return(0,D.m)(U(ie))?ie.pop():void 0}function le(ie){return(0,T.K)(U(ie))?ie.pop():void 0}function Te(ie,Ee){return"number"==typeof U(ie)?ie.pop():Ee}},4742:(kt,ke,O)=>{O.d(ke,{D:()=>le});const{isArray:D}=Array,{getPrototypeOf:T,prototype:U,keys:de}=Object;function le(ie){if(1===ie.length){const Ee=ie[0];if(D(Ee))return{args:Ee,keys:null};if(function Te(ie){return ie&&"object"==typeof ie&&T(ie)===U}(Ee)){const Me=de(Ee);return{args:Me.map(Y=>Ee[Y]),keys:Me}}}return{args:ie,keys:null}}},8737:(kt,ke,O)=>{function D(T,U){if(T){const de=T.indexOf(U);0<=de&&T.splice(de,1)}}O.d(ke,{P:()=>D})},3888:(kt,ke,O)=>{function D(T){const de=T(le=>{Error.call(le),le.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}O.d(ke,{d:()=>D})},1810:(kt,ke,O)=>{function D(T,U){return T.reduce((de,le,Te)=>(de[le]=U[Te],de),{})}O.d(ke,{n:()=>D})},2806:(kt,ke,O)=>{O.d(ke,{O:()=>de,x:()=>U});var D=O(2416);let T=null;function U(le){if(D.v.useDeprecatedSynchronousErrorHandling){const Te=!T;if(Te&&(T={errorThrown:!1,error:null}),le(),Te){const{errorThrown:ie,error:Ee}=T;if(T=null,ie)throw Ee}}else le()}function de(le){D.v.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=le)}},9672:(kt,ke,O)=>{function D(T,U,de,le=0,Te=!1){const ie=U.schedule(function(){de(),Te?T.add(this.schedule(null,le)):this.unsubscribe()},le);if(T.add(ie),!Te)return ie}O.d(ke,{f:()=>D})},4671:(kt,ke,O)=>{function D(T){return T}O.d(ke,{y:()=>D})},1144:(kt,ke,O)=>{O.d(ke,{z:()=>D});const D=T=>T&&"number"==typeof T.length&&"function"!=typeof T},2206:(kt,ke,O)=>{O.d(ke,{D:()=>T});var D=O(576);function T(U){return Symbol.asyncIterator&&(0,D.m)(U?.[Symbol.asyncIterator])}},576:(kt,ke,O)=>{function D(T){return"function"==typeof T}O.d(ke,{m:()=>D})},3670:(kt,ke,O)=>{O.d(ke,{c:()=>U});var D=O(8822),T=O(576);function U(de){return(0,T.m)(de[D.L])}},6495:(kt,ke,O)=>{O.d(ke,{T:()=>U});var D=O(2202),T=O(576);function U(de){return(0,T.m)(de?.[D.h])}},8239:(kt,ke,O)=>{O.d(ke,{t:()=>T});var D=O(576);function T(U){return(0,D.m)(U?.then)}},3260:(kt,ke,O)=>{O.d(ke,{L:()=>de,Q:()=>U});var D=O(655),T=O(576);function U(le){return(0,D.FC)(this,arguments,function*(){const ie=le.getReader();try{for(;;){const{value:Ee,done:Me}=yield(0,D.qq)(ie.read());if(Me)return yield(0,D.qq)(void 0);yield yield(0,D.qq)(Ee)}}finally{ie.releaseLock()}})}function de(le){return(0,T.m)(le?.getReader)}},3532:(kt,ke,O)=>{O.d(ke,{K:()=>T});var D=O(576);function T(U){return U&&(0,D.m)(U.schedule)}},4482:(kt,ke,O)=>{O.d(ke,{A:()=>T,e:()=>U});var D=O(576);function T(de){return(0,D.m)(de?.lift)}function U(de){return le=>{if(T(le))return le.lift(function(Te){try{return de(Te,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(kt,ke,O)=>{O.d(ke,{Z:()=>de});var D=O(4004);const{isArray:T}=Array;function de(le){return(0,D.U)(Te=>function U(le,Te){return T(Te)?le(...Te):le(Te)}(le,Te))}},5032:(kt,ke,O)=>{function D(){}O.d(ke,{Z:()=>D})},7849:(kt,ke,O)=>{O.d(ke,{h:()=>U});var D=O(2416),T=O(3410);function U(de){T.z.setTimeout(()=>{const{onUnhandledError:le}=D.v;if(!le)throw de;le(de)})}},4532:(kt,ke,O)=>{function D(T){return new TypeError(`You provided ${null!==T&&"object"==typeof T?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(ke,{z:()=>D})},655:(kt,ke,O)=>{function de(Ce,Ne){var Fe={};for(var Ke in Ce)Object.prototype.hasOwnProperty.call(Ce,Ke)&&Ne.indexOf(Ke)<0&&(Fe[Ke]=Ce[Ke]);if(null!=Ce&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(Ke=Object.getOwnPropertySymbols(Ce);Be<Ke.length;Be++)Ne.indexOf(Ke[Be])<0&&Object.prototype.propertyIsEnumerable.call(Ce,Ke[Be])&&(Fe[Ke[Be]]=Ce[Ke[Be]])}return Fe}function Ee(Ce,Ne,Fe,Ke){return new(Fe||(Fe=Promise))(function(gt,Tt){function xt(hn){try{ht(Ke.next(hn))}catch(nn){Tt(nn)}}function Wt(hn){try{ht(Ke.throw(hn))}catch(nn){Tt(nn)}}function ht(hn){hn.done?gt(hn.value):function Be(gt){return gt instanceof Fe?gt:new Fe(function(Tt){Tt(gt)})}(hn.value).then(xt,Wt)}ht((Ke=Ke.apply(Ce,Ne||[])).next())})}function Ue(Ce){return this instanceof Ue?(this.v=Ce,this):new Ue(Ce)}function $e(Ce,Ne,Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Ke=Fe.apply(Ce,Ne||[]),gt=[];return Be={},Tt("next"),Tt("throw"),Tt("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function Tt(Xt){Ke[Xt]&&(Be[Xt]=function(tn){return new Promise(function(Jt,Fn){gt.push([Xt,tn,Jt,Fn])>1||xt(Xt,tn)})})}function xt(Xt,tn){try{!function Wt(Xt){Xt.value instanceof Ue?Promise.resolve(Xt.value.v).then(ht,hn):nn(gt[0][2],Xt)}(Ke[Xt](tn))}catch(Jt){nn(gt[0][3],Jt)}}function ht(Xt){xt("next",Xt)}function hn(Xt){xt("throw",Xt)}function nn(Xt,tn){Xt(tn),gt.shift(),gt.length&&xt(gt[0][0],gt[0][1])}}function pt(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Ne=Ce[Symbol.asyncIterator];return Ne?Ne.call(Ce):(Ce=function Re(Ce){var Ne="function"==typeof Symbol&&Symbol.iterator,Fe=Ne&&Ce[Ne],Ke=0;if(Fe)return Fe.call(Ce);if(Ce&&"number"==typeof Ce.length)return{next:function(){return Ce&&Ke>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[Ke++],done:!Ce}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ce),Fe={},Ke("next"),Ke("throw"),Ke("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe);function Ke(gt){Fe[gt]=Ce[gt]&&function(Tt){return new Promise(function(xt,Wt){!function Be(gt,Tt,xt,Wt){Promise.resolve(Wt).then(function(ht){gt({value:ht,done:xt})},Tt)}(xt,Wt,(Tt=Ce[gt](Tt)).done,Tt.value)})}}}O.d(ke,{FC:()=>$e,KL:()=>pt,_T:()=>de,mG:()=>Ee,qq:()=>Ue})},7340:(kt,ke,O)=>{O.d(ke,{IO:()=>Je,LC:()=>T,SB:()=>Me,X$:()=>de,ZE:()=>_t,ZN:()=>$e,_j:()=>D,eR:()=>te,jt:()=>le,k1:()=>pt,l3:()=>U,oB:()=>Ee,pV:()=>nt,ru:()=>Te,vP:()=>ie});class D{}class T{}const U="*";function de(Ve,be){return{type:7,name:Ve,definitions:be,options:{}}}function le(Ve,be=null){return{type:4,styles:be,timings:Ve}}function Te(Ve,be=null){return{type:3,steps:Ve,options:be}}function ie(Ve,be=null){return{type:2,steps:Ve,options:be}}function Ee(Ve){return{type:6,styles:Ve,offset:null}}function Me(Ve,be,je){return{type:0,name:Ve,styles:be,options:je}}function te(Ve,be,je=null){return{type:1,expr:Ve,animation:be,options:je}}function nt(Ve=null){return{type:9,options:Ve}}function Je(Ve,be,je=null){return{type:11,selector:Ve,animation:be,options:je}}function Ue(Ve){Promise.resolve(null).then(Ve)}class $e{constructor(be=0,je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._originalOnStartFns.push(be),this._onStartFns.push(be)}onDone(be){this._originalOnDoneFns.push(be),this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ue(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const je="start"==be?this._onStartFns:this._onDoneFns;je.forEach(wt=>wt()),je.length=0}}class _t{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let je=0,wt=0,ge=0;const L=this.players.length;0==L?Ue(()=>this._onFinish()):this.players.forEach(Ze=>{Ze.onDone(()=>{++je==L&&this._onFinish()}),Ze.onDestroy(()=>{++wt==L&&this._onDestroy()}),Ze.onStart(()=>{++ge==L&&this._onStart()})}),this.totalTime=this.players.reduce((Ze,Ce)=>Math.max(Ze,Ce.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const je=be*this.totalTime;this.players.forEach(wt=>{const ge=wt.totalTime?Math.min(1,je/wt.totalTime):1;wt.setPosition(ge)})}getPosition(){const be=this.players.reduce((je,wt)=>null===je||wt.totalTime>je.totalTime?wt:je,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const je="start"==be?this._onStartFns:this._onDoneFns;je.forEach(wt=>wt()),je.length=0}}const pt="!"},6895:(kt,ke,O)=>{O.d(ke,{Do:()=>Ve,ED:()=>Dn,EM:()=>gs,HT:()=>le,JF:()=>Ar,K0:()=>ie,Mx:()=>Ki,NF:()=>ni,O5:()=>Ye,PM:()=>Rs,RF:()=>nr,S$:()=>Ue,V_:()=>Y,Ye:()=>be,b0:()=>pt,bD:()=>Ui,ez:()=>yo,lw:()=>Ee,mk:()=>ps,mr:()=>_t,n9:()=>Zr,q:()=>U,sg:()=>Di,w_:()=>Te});var D=O(4650);let T=null;function U(){return T}function le(A){T||(T=A)}class Te{}const ie=new D.OlP("DocumentToken");let Ee=(()=>{class A{historyGo(M){throw new Error("Not implemented")}}return A.\u0275fac=function(M){return new(M||A)},A.\u0275prov=D.Yz7({token:A,factory:function(){return function Me(){return(0,D.LFG)(te)}()},providedIn:"platform"}),A})();const Y=new D.OlP("Location Initialized");let te=(()=>{class A extends Ee{constructor(M){super(),this._doc=M,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(M){const z=U().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",M,!1),()=>z.removeEventListener("popstate",M)}onHashChange(M){const z=U().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",M,!1),()=>z.removeEventListener("hashchange",M)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(M){this.location.pathname=M}pushState(M,z,ve){Re()?this._history.pushState(M,z,ve):this.location.hash=ve}replaceState(M,z,ve){Re()?this._history.replaceState(M,z,ve):this.location.hash=ve}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return A.\u0275fac=function(M){return new(M||A)(D.LFG(ie))},A.\u0275prov=D.Yz7({token:A,factory:function(){return function nt(){return new te((0,D.LFG)(ie))}()},providedIn:"platform"}),A})();function Re(){return!!window.history.pushState}function ze(A,$){if(0==A.length)return $;if(0==$.length)return A;let M=0;return A.endsWith("/")&&M++,$.startsWith("/")&&M++,2==M?A+$.substring(1):1==M?A+$:A+"/"+$}function Je(A){const $=A.match(/#|\?|$/),M=$&&$.index||A.length;return A.slice(0,M-("/"===A[M-1]?1:0))+A.slice(M)}function ft(A){return A&&"?"!==A[0]?"?"+A:A}let Ue=(()=>{class A{historyGo(M){throw new Error("Not implemented")}}return A.\u0275fac=function(M){return new(M||A)},A.\u0275prov=D.Yz7({token:A,factory:function(){return function $e(){const A=(0,D.LFG)(ie).location;return new pt((0,D.LFG)(Ee),A&&A.origin||"")}()},providedIn:"root"}),A})();const _t=new D.OlP("appBaseHref");let pt=(()=>{class A extends Ue{constructor(M,z){if(super(),this._platformLocation=M,this._removeListenerFns=[],null==z&&(z=this._platformLocation.getBaseHrefFromDOM()),null==z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return ze(this._baseHref,M)}path(M=!1){const z=this._platformLocation.pathname+ft(this._platformLocation.search),ve=this._platformLocation.hash;return ve&&M?`${z}${ve}`:z}pushState(M,z,ve,it){const mt=this.prepareExternalUrl(ve+ft(it));this._platformLocation.pushState(M,z,mt)}replaceState(M,z,ve,it){const mt=this.prepareExternalUrl(ve+ft(it));this._platformLocation.replaceState(M,z,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return A.\u0275fac=function(M){return new(M||A)(D.LFG(Ee),D.LFG(_t,8))},A.\u0275prov=D.Yz7({token:A,factory:A.\u0275fac}),A})(),Ve=(()=>{class A extends Ue{constructor(M,z){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(M){const z=ze(this._baseHref,M);return z.length>0?"#"+z:z}pushState(M,z,ve,it){let mt=this.prepareExternalUrl(ve+ft(it));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.pushState(M,z,mt)}replaceState(M,z,ve,it){let mt=this.prepareExternalUrl(ve+ft(it));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.replaceState(M,z,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return A.\u0275fac=function(M){return new(M||A)(D.LFG(Ee),D.LFG(_t,8))},A.\u0275prov=D.Yz7({token:A,factory:A.\u0275fac}),A})(),be=(()=>{class A{constructor(M){this._subject=new D.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const z=this._locationStrategy.getBaseHref();this._baseHref=Je(ge(z)),this._locationStrategy.onPopState(ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:ve.state,type:ve.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,z=""){return this.path()==this.normalize(M+ft(z))}normalize(M){return A.stripTrailingSlash(function wt(A,$){return A&&$.startsWith(A)?$.substring(A.length):$}(this._baseHref,ge(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,z="",ve=null){this._locationStrategy.pushState(ve,"",M,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+ft(z)),ve)}replaceState(M,z="",ve=null){this._locationStrategy.replaceState(ve,"",M,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+ft(z)),ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)})),()=>{const z=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",z){this._urlChangeListeners.forEach(ve=>ve(M,z))}subscribe(M,z,ve){return this._subject.subscribe({next:M,error:z,complete:ve})}}return A.normalizeQueryParams=ft,A.joinWithSlash=ze,A.stripTrailingSlash=Je,A.\u0275fac=function(M){return new(M||A)(D.LFG(Ue))},A.\u0275prov=D.Yz7({token:A,factory:function(){return function je(){return new be((0,D.LFG)(Ue))}()},providedIn:"root"}),A})();function ge(A){return A.replace(/\/index.html$/,"")}function Ki(A,$){$=encodeURIComponent($);for(const M of A.split(";")){const z=M.indexOf("="),[ve,it]=-1==z?[M,""]:[M.slice(0,z),M.slice(z+1)];if(ve.trim()===$)return decodeURIComponent(it)}return null}let ps=(()=>{class A{constructor(M,z,ve,it){this._iterableDiffers=M,this._keyValueDiffers=z,this._ngEl=ve,this._renderer=it,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(M){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof M?M.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(M){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof M?M.split(/\s+/):M,this._rawClass&&((0,D.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const M=this._iterableDiffer.diff(this._rawClass);M&&this._applyIterableChanges(M)}else if(this._keyValueDiffer){const M=this._keyValueDiffer.diff(this._rawClass);M&&this._applyKeyValueChanges(M)}}_applyKeyValueChanges(M){M.forEachAddedItem(z=>this._toggleClass(z.key,z.currentValue)),M.forEachChangedItem(z=>this._toggleClass(z.key,z.currentValue)),M.forEachRemovedItem(z=>{z.previousValue&&this._toggleClass(z.key,!1)})}_applyIterableChanges(M){M.forEachAddedItem(z=>{if("string"!=typeof z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,D.AaK)(z.item)}`);this._toggleClass(z.item,!0)}),M.forEachRemovedItem(z=>this._toggleClass(z.item,!1))}_applyClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(z=>this._toggleClass(z,!0)):Object.keys(M).forEach(z=>this._toggleClass(z,!!M[z])))}_removeClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(z=>this._toggleClass(z,!1)):Object.keys(M).forEach(z=>this._toggleClass(z,!1)))}_toggleClass(M,z){(M=M.trim())&&M.split(/\s+/g).forEach(ve=>{z?this._renderer.addClass(this._ngEl.nativeElement,ve):this._renderer.removeClass(this._ngEl.nativeElement,ve)})}}return A.\u0275fac=function(M){return new(M||A)(D.Y36(D.ZZ4),D.Y36(D.aQg),D.Y36(D.SBq),D.Y36(D.Qsj))},A.\u0275dir=D.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),A})();class Jr{constructor($,M,z,ve){this.$implicit=$,this.ngForOf=M,this.index=z,this.count=ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Di=(()=>{class A{constructor(M,z,ve){this._viewContainer=M,this._template=z,this._differs=ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const z=this._viewContainer;M.forEachOperation((ve,it,mt)=>{if(null==ve.previousIndex)z.createEmbeddedView(this._template,new Jr(ve.item,this._ngForOf,-1,-1),null===mt?void 0:mt);else if(null==mt)z.remove(null===it?void 0:it);else if(null!==it){const Mt=z.get(it);z.move(Mt,mt),Pe(Mt,ve)}});for(let ve=0,it=z.length;ve<it;ve++){const Mt=z.get(ve).context;Mt.index=ve,Mt.count=it,Mt.ngForOf=this._ngForOf}M.forEachIdentityChange(ve=>{Pe(z.get(ve.currentIndex),ve)})}static ngTemplateContextGuard(M,z){return!0}}return A.\u0275fac=function(M){return new(M||A)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(D.ZZ4))},A.\u0275dir=D.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),A})();function Pe(A,$){A.context.$implicit=$.item}let Ye=(()=>{class A{constructor(M,z){this._viewContainer=M,this._context=new lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){Ct("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){Ct("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,z){return!0}}return A.\u0275fac=function(M){return new(M||A)(D.Y36(D.s_b),D.Y36(D.Rgc))},A.\u0275dir=D.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),A})();class lt{constructor(){this.$implicit=null,this.ngIf=null}}function Ct(A,$){if($&&!$.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,D.AaK)($)}'.`)}class Ht{constructor($,M){this._viewContainerRef=$,this._templateRef=M,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState($){$&&!this._created?this.create():!$&&this._created&&this.destroy()}}let nr=(()=>{class A{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(M){this._ngSwitch=M,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(M){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(M)}_matchCase(M){const z=M==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||z,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),z}_updateDefaultCases(M){if(this._defaultViews&&M!==this._defaultUsed){this._defaultUsed=M;for(let z=0;z<this._defaultViews.length;z++)this._defaultViews[z].enforceState(M)}}}return A.\u0275fac=function(M){return new(M||A)},A.\u0275dir=D.lG2({type:A,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),A})(),Zr=(()=>{class A{constructor(M,z,ve){this.ngSwitch=ve,ve._addCase(),this._view=new Ht(M,z)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return A.\u0275fac=function(M){return new(M||A)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(nr,9))},A.\u0275dir=D.lG2({type:A,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),A})(),Dn=(()=>{class A{constructor(M,z,ve){ve._addDefault(new Ht(M,z))}}return A.\u0275fac=function(M){return new(M||A)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(nr,9))},A.\u0275dir=D.lG2({type:A,selectors:[["","ngSwitchDefault",""]]}),A})(),yo=(()=>{class A{}return A.\u0275fac=function(M){return new(M||A)},A.\u0275mod=D.oAB({type:A}),A.\u0275inj=D.cJS({}),A})();const Ui="browser";function ni(A){return A===Ui}function Rs(A){return"server"===A}let gs=(()=>{class A{}return A.\u0275prov=(0,D.Yz7)({token:A,providedIn:"root",factory:()=>new ss((0,D.LFG)(ie),window)}),A})();class ss{constructor($,M){this.document=$,this.window=M,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const M=function Yi(A,$){const M=A.getElementById($)||A.getElementsByName($)[0];if(M)return M;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const z=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let ve=z.currentNode;for(;ve;){const it=ve.shadowRoot;if(it){const mt=it.getElementById($)||it.querySelector(`[name="${$}"]`);if(mt)return mt}ve=z.nextNode()}}return null}(this.document,$);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=$)}}scrollToElement($){const M=$.getBoundingClientRect(),z=M.left+this.window.pageXOffset,ve=M.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(z-it[0],ve-it[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=$n(this.window.history)||$n(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $n(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class Ar{}},529:(kt,ke,O)=>{O.d(ke,{JF:()=>Zt,eN:()=>Be});var D=O(6895),T=O(4650),U=O(9646),de=O(8306),le=O(4351),Te=O(9300),ie=O(4004);class Ee{}class Me{}class Y{constructor(he){this.normalizedNames=new Map,this.lazyUpdate=null,he?this.lazyInit="string"==typeof he?()=>{this.headers=new Map,he.split("\n").forEach(Ie=>{const ot=Ie.indexOf(":");if(ot>0){const Oe=Ie.slice(0,ot),ut=Oe.toLowerCase(),Rn=Ie.slice(ot+1).trim();this.maybeSetNormalizedName(Oe,ut),this.headers.has(ut)?this.headers.get(ut).push(Rn):this.headers.set(ut,[Rn])}})}:()=>{this.headers=new Map,Object.keys(he).forEach(Ie=>{let ot=he[Ie];const Oe=Ie.toLowerCase();"string"==typeof ot&&(ot=[ot]),ot.length>0&&(this.headers.set(Oe,ot),this.maybeSetNormalizedName(Ie,Oe))})}:this.headers=new Map}has(he){return this.init(),this.headers.has(he.toLowerCase())}get(he){this.init();const Ie=this.headers.get(he.toLowerCase());return Ie&&Ie.length>0?Ie[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(he){return this.init(),this.headers.get(he.toLowerCase())||null}append(he,Ie){return this.clone({name:he,value:Ie,op:"a"})}set(he,Ie){return this.clone({name:he,value:Ie,op:"s"})}delete(he,Ie){return this.clone({name:he,value:Ie,op:"d"})}maybeSetNormalizedName(he,Ie){this.normalizedNames.has(Ie)||this.normalizedNames.set(Ie,he)}init(){this.lazyInit&&(this.lazyInit instanceof Y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(he=>this.applyUpdate(he)),this.lazyUpdate=null))}copyFrom(he){he.init(),Array.from(he.headers.keys()).forEach(Ie=>{this.headers.set(Ie,he.headers.get(Ie)),this.normalizedNames.set(Ie,he.normalizedNames.get(Ie))})}clone(he){const Ie=new Y;return Ie.lazyInit=this.lazyInit&&this.lazyInit instanceof Y?this.lazyInit:this,Ie.lazyUpdate=(this.lazyUpdate||[]).concat([he]),Ie}applyUpdate(he){const Ie=he.name.toLowerCase();switch(he.op){case"a":case"s":let ot=he.value;if("string"==typeof ot&&(ot=[ot]),0===ot.length)return;this.maybeSetNormalizedName(he.name,Ie);const Oe=("a"===he.op?this.headers.get(Ie):void 0)||[];Oe.push(...ot),this.headers.set(Ie,Oe);break;case"d":const ut=he.value;if(ut){let Rn=this.headers.get(Ie);if(!Rn)return;Rn=Rn.filter(Cn=>-1===ut.indexOf(Cn)),0===Rn.length?(this.headers.delete(Ie),this.normalizedNames.delete(Ie)):this.headers.set(Ie,Rn)}else this.headers.delete(Ie),this.normalizedNames.delete(Ie)}}forEach(he){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ie=>he(this.normalizedNames.get(Ie),this.headers.get(Ie)))}}class te{encodeKey(he){return Je(he)}encodeValue(he){return Je(he)}decodeKey(he){return decodeURIComponent(he)}decodeValue(he){return decodeURIComponent(he)}}const nt=/%(\d[a-f0-9])/gi,ze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Je(rt){return encodeURIComponent(rt).replace(nt,(he,Ie)=>ze[Ie]??he)}function ft(rt){return`${rt}`}class Ue{constructor(he={}){if(this.updates=null,this.cloneFrom=null,this.encoder=he.encoder||new te,he.fromString){if(he.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Re(rt,he){const Ie=new Map;return rt.length>0&&rt.replace(/^\?/,"").split("&").forEach(Oe=>{const ut=Oe.indexOf("="),[Rn,Cn]=-1==ut?[he.decodeKey(Oe),""]:[he.decodeKey(Oe.slice(0,ut)),he.decodeValue(Oe.slice(ut+1))],St=Ie.get(Rn)||[];St.push(Cn),Ie.set(Rn,St)}),Ie}(he.fromString,this.encoder)}else he.fromObject?(this.map=new Map,Object.keys(he.fromObject).forEach(Ie=>{const ot=he.fromObject[Ie],Oe=Array.isArray(ot)?ot.map(ft):[ft(ot)];this.map.set(Ie,Oe)})):this.map=null}has(he){return this.init(),this.map.has(he)}get(he){this.init();const Ie=this.map.get(he);return Ie?Ie[0]:null}getAll(he){return this.init(),this.map.get(he)||null}keys(){return this.init(),Array.from(this.map.keys())}append(he,Ie){return this.clone({param:he,value:Ie,op:"a"})}appendAll(he){const Ie=[];return Object.keys(he).forEach(ot=>{const Oe=he[ot];Array.isArray(Oe)?Oe.forEach(ut=>{Ie.push({param:ot,value:ut,op:"a"})}):Ie.push({param:ot,value:Oe,op:"a"})}),this.clone(Ie)}set(he,Ie){return this.clone({param:he,value:Ie,op:"s"})}delete(he,Ie){return this.clone({param:he,value:Ie,op:"d"})}toString(){return this.init(),this.keys().map(he=>{const Ie=this.encoder.encodeKey(he);return this.map.get(he).map(ot=>Ie+"="+this.encoder.encodeValue(ot)).join("&")}).filter(he=>""!==he).join("&")}clone(he){const Ie=new Ue({encoder:this.encoder});return Ie.cloneFrom=this.cloneFrom||this,Ie.updates=(this.updates||[]).concat(he),Ie}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(he=>this.map.set(he,this.cloneFrom.map.get(he))),this.updates.forEach(he=>{switch(he.op){case"a":case"s":const Ie=("a"===he.op?this.map.get(he.param):void 0)||[];Ie.push(ft(he.value)),this.map.set(he.param,Ie);break;case"d":if(void 0===he.value){this.map.delete(he.param);break}{let ot=this.map.get(he.param)||[];const Oe=ot.indexOf(ft(he.value));-1!==Oe&&ot.splice(Oe,1),ot.length>0?this.map.set(he.param,ot):this.map.delete(he.param)}}}),this.cloneFrom=this.updates=null)}}class _t{constructor(){this.map=new Map}set(he,Ie){return this.map.set(he,Ie),this}get(he){return this.map.has(he)||this.map.set(he,he.defaultValue()),this.map.get(he)}delete(he){return this.map.delete(he),this}has(he){return this.map.has(he)}keys(){return this.map.keys()}}function Ve(rt){return typeof ArrayBuffer<"u"&&rt instanceof ArrayBuffer}function be(rt){return typeof Blob<"u"&&rt instanceof Blob}function je(rt){return typeof FormData<"u"&&rt instanceof FormData}class ge{constructor(he,Ie,ot,Oe){let ut;if(this.url=Ie,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=he.toUpperCase(),function pt(rt){switch(rt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Oe?(this.body=void 0!==ot?ot:null,ut=Oe):ut=ot,ut&&(this.reportProgress=!!ut.reportProgress,this.withCredentials=!!ut.withCredentials,ut.responseType&&(this.responseType=ut.responseType),ut.headers&&(this.headers=ut.headers),ut.context&&(this.context=ut.context),ut.params&&(this.params=ut.params)),this.headers||(this.headers=new Y),this.context||(this.context=new _t),this.params){const Rn=this.params.toString();if(0===Rn.length)this.urlWithParams=Ie;else{const Cn=Ie.indexOf("?");this.urlWithParams=Ie+(-1===Cn?"?":Cn<Ie.length-1?"&":"")+Rn}}else this.params=new Ue,this.urlWithParams=Ie}serializeBody(){return null===this.body?null:Ve(this.body)||be(this.body)||je(this.body)||function wt(rt){return typeof URLSearchParams<"u"&&rt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ue?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||je(this.body)?null:be(this.body)?this.body.type||null:Ve(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ue?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(he={}){const Ie=he.method||this.method,ot=he.url||this.url,Oe=he.responseType||this.responseType,ut=void 0!==he.body?he.body:this.body,Rn=void 0!==he.withCredentials?he.withCredentials:this.withCredentials,Cn=void 0!==he.reportProgress?he.reportProgress:this.reportProgress;let St=he.headers||this.headers,zn=he.params||this.params;const on=he.context??this.context;return void 0!==he.setHeaders&&(St=Object.keys(he.setHeaders).reduce((mn,_n)=>mn.set(_n,he.setHeaders[_n]),St)),he.setParams&&(zn=Object.keys(he.setParams).reduce((mn,_n)=>mn.set(_n,he.setParams[_n]),zn)),new ge(Ie,ot,ut,{params:zn,headers:St,context:on,reportProgress:Cn,responseType:Oe,withCredentials:Rn})}}var L=(()=>((L=L||{})[L.Sent=0]="Sent",L[L.UploadProgress=1]="UploadProgress",L[L.ResponseHeader=2]="ResponseHeader",L[L.DownloadProgress=3]="DownloadProgress",L[L.Response=4]="Response",L[L.User=5]="User",L))();class Ze{constructor(he,Ie=200,ot="OK"){this.headers=he.headers||new Y,this.status=void 0!==he.status?he.status:Ie,this.statusText=he.statusText||ot,this.url=he.url||null,this.ok=this.status>=200&&this.status<300}}class Ce extends Ze{constructor(he={}){super(he),this.type=L.ResponseHeader}clone(he={}){return new Ce({headers:he.headers||this.headers,status:void 0!==he.status?he.status:this.status,statusText:he.statusText||this.statusText,url:he.url||this.url||void 0})}}class Ne extends Ze{constructor(he={}){super(he),this.type=L.Response,this.body=void 0!==he.body?he.body:null}clone(he={}){return new Ne({body:void 0!==he.body?he.body:this.body,headers:he.headers||this.headers,status:void 0!==he.status?he.status:this.status,statusText:he.statusText||this.statusText,url:he.url||this.url||void 0})}}class Fe extends Ze{constructor(he){super(he,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${he.url||"(unknown url)"}`:`Http failure response for ${he.url||"(unknown url)"}: ${he.status} ${he.statusText}`,this.error=he.error||null}}function Ke(rt,he){return{body:he,headers:rt.headers,context:rt.context,observe:rt.observe,params:rt.params,reportProgress:rt.reportProgress,responseType:rt.responseType,withCredentials:rt.withCredentials}}let Be=(()=>{class rt{constructor(Ie){this.handler=Ie}request(Ie,ot,Oe={}){let ut;if(Ie instanceof ge)ut=Ie;else{let St,zn;St=Oe.headers instanceof Y?Oe.headers:new Y(Oe.headers),Oe.params&&(zn=Oe.params instanceof Ue?Oe.params:new Ue({fromObject:Oe.params})),ut=new ge(Ie,ot,void 0!==Oe.body?Oe.body:null,{headers:St,context:Oe.context,params:zn,reportProgress:Oe.reportProgress,responseType:Oe.responseType||"json",withCredentials:Oe.withCredentials})}const Rn=(0,U.of)(ut).pipe((0,le.b)(St=>this.handler.handle(St)));if(Ie instanceof ge||"events"===Oe.observe)return Rn;const Cn=Rn.pipe((0,Te.h)(St=>St instanceof Ne));switch(Oe.observe||"body"){case"body":switch(ut.responseType){case"arraybuffer":return Cn.pipe((0,ie.U)(St=>{if(null!==St.body&&!(St.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return St.body}));case"blob":return Cn.pipe((0,ie.U)(St=>{if(null!==St.body&&!(St.body instanceof Blob))throw new Error("Response is not a Blob.");return St.body}));case"text":return Cn.pipe((0,ie.U)(St=>{if(null!==St.body&&"string"!=typeof St.body)throw new Error("Response is not a string.");return St.body}));default:return Cn.pipe((0,ie.U)(St=>St.body))}case"response":return Cn;default:throw new Error(`Unreachable: unhandled observe type ${Oe.observe}}`)}}delete(Ie,ot={}){return this.request("DELETE",Ie,ot)}get(Ie,ot={}){return this.request("GET",Ie,ot)}head(Ie,ot={}){return this.request("HEAD",Ie,ot)}jsonp(Ie,ot){return this.request("JSONP",Ie,{params:(new Ue).append(ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ie,ot={}){return this.request("OPTIONS",Ie,ot)}patch(Ie,ot,Oe={}){return this.request("PATCH",Ie,Ke(Oe,ot))}post(Ie,ot,Oe={}){return this.request("POST",Ie,Ke(Oe,ot))}put(Ie,ot,Oe={}){return this.request("PUT",Ie,Ke(Oe,ot))}}return rt.\u0275fac=function(Ie){return new(Ie||rt)(T.LFG(Ee))},rt.\u0275prov=T.Yz7({token:rt,factory:rt.\u0275fac}),rt})();class gt{constructor(he,Ie){this.next=he,this.interceptor=Ie}handle(he){return this.interceptor.intercept(he,this.next)}}const Tt=new T.OlP("HTTP_INTERCEPTORS");let xt=(()=>{class rt{intercept(Ie,ot){return ot.handle(Ie)}}return rt.\u0275fac=function(Ie){return new(Ie||rt)},rt.\u0275prov=T.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const Pr=/^\)\]\}',?\n/;let Un=(()=>{class rt{constructor(Ie){this.xhrFactory=Ie}handle(Ie){if("JSONP"===Ie.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new de.y(ot=>{const Oe=this.xhrFactory.build();if(Oe.open(Ie.method,Ie.urlWithParams),Ie.withCredentials&&(Oe.withCredentials=!0),Ie.headers.forEach((ue,ee)=>Oe.setRequestHeader(ue,ee.join(","))),Ie.headers.has("Accept")||Oe.setRequestHeader("Accept","application/json, text/plain, */*"),!Ie.headers.has("Content-Type")){const ue=Ie.detectContentTypeHeader();null!==ue&&Oe.setRequestHeader("Content-Type",ue)}if(Ie.responseType){const ue=Ie.responseType.toLowerCase();Oe.responseType="json"!==ue?ue:"text"}const ut=Ie.serializeBody();let Rn=null;const Cn=()=>{if(null!==Rn)return Rn;const ue=Oe.statusText||"OK",ee=new Y(Oe.getAllResponseHeaders()),Se=function pr(rt){return"responseURL"in rt&&rt.responseURL?rt.responseURL:/^X-Request-URL:/m.test(rt.getAllResponseHeaders())?rt.getResponseHeader("X-Request-URL"):null}(Oe)||Ie.url;return Rn=new Ce({headers:ee,status:Oe.status,statusText:ue,url:Se}),Rn},St=()=>{let{headers:ue,status:ee,statusText:Se,url:Ae}=Cn(),J=null;204!==ee&&(J=typeof Oe.response>"u"?Oe.responseText:Oe.response),0===ee&&(ee=J?200:0);let tt=ee>=200&&ee<300;if("json"===Ie.responseType&&"string"==typeof J){const bt=J;J=J.replace(Pr,"");try{J=""!==J?JSON.parse(J):null}catch(Ut){J=bt,tt&&(tt=!1,J={error:Ut,text:J})}}tt?(ot.next(new Ne({body:J,headers:ue,status:ee,statusText:Se,url:Ae||void 0})),ot.complete()):ot.error(new Fe({error:J,headers:ue,status:ee,statusText:Se,url:Ae||void 0}))},zn=ue=>{const{url:ee}=Cn(),Se=new Fe({error:ue,status:Oe.status||0,statusText:Oe.statusText||"Unknown Error",url:ee||void 0});ot.error(Se)};let on=!1;const mn=ue=>{on||(ot.next(Cn()),on=!0);let ee={type:L.DownloadProgress,loaded:ue.loaded};ue.lengthComputable&&(ee.total=ue.total),"text"===Ie.responseType&&!!Oe.responseText&&(ee.partialText=Oe.responseText),ot.next(ee)},_n=ue=>{let ee={type:L.UploadProgress,loaded:ue.loaded};ue.lengthComputable&&(ee.total=ue.total),ot.next(ee)};return Oe.addEventListener("load",St),Oe.addEventListener("error",zn),Oe.addEventListener("timeout",zn),Oe.addEventListener("abort",zn),Ie.reportProgress&&(Oe.addEventListener("progress",mn),null!==ut&&Oe.upload&&Oe.upload.addEventListener("progress",_n)),Oe.send(ut),ot.next({type:L.Sent}),()=>{Oe.removeEventListener("error",zn),Oe.removeEventListener("abort",zn),Oe.removeEventListener("load",St),Oe.removeEventListener("timeout",zn),Ie.reportProgress&&(Oe.removeEventListener("progress",mn),null!==ut&&Oe.upload&&Oe.upload.removeEventListener("progress",_n)),Oe.readyState!==Oe.DONE&&Oe.abort()}})}}return rt.\u0275fac=function(Ie){return new(Ie||rt)(T.LFG(D.JF))},rt.\u0275prov=T.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const On=new T.OlP("XSRF_COOKIE_NAME"),mr=new T.OlP("XSRF_HEADER_NAME");class lr{}let sr=(()=>{class rt{constructor(Ie,ot,Oe){this.doc=Ie,this.platform=ot,this.cookieName=Oe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ie=this.doc.cookie||"";return Ie!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D.Mx)(Ie,this.cookieName),this.lastCookieString=Ie),this.lastToken}}return rt.\u0275fac=function(Ie){return new(Ie||rt)(T.LFG(D.K0),T.LFG(T.Lbi),T.LFG(On))},rt.\u0275prov=T.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),tr=(()=>{class rt{constructor(Ie,ot){this.tokenService=Ie,this.headerName=ot}intercept(Ie,ot){const Oe=Ie.url.toLowerCase();if("GET"===Ie.method||"HEAD"===Ie.method||Oe.startsWith("http://")||Oe.startsWith("https://"))return ot.handle(Ie);const ut=this.tokenService.getToken();return null!==ut&&!Ie.headers.has(this.headerName)&&(Ie=Ie.clone({headers:Ie.headers.set(this.headerName,ut)})),ot.handle(Ie)}}return rt.\u0275fac=function(Ie){return new(Ie||rt)(T.LFG(lr),T.LFG(mr))},rt.\u0275prov=T.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),Pt=(()=>{class rt{constructor(Ie,ot){this.backend=Ie,this.injector=ot,this.chain=null}handle(Ie){if(null===this.chain){const ot=this.injector.get(Tt,[]);this.chain=ot.reduceRight((Oe,ut)=>new gt(Oe,ut),this.backend)}return this.chain.handle(Ie)}}return rt.\u0275fac=function(Ie){return new(Ie||rt)(T.LFG(Me),T.LFG(T.zs3))},rt.\u0275prov=T.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),an=(()=>{class rt{static disable(){return{ngModule:rt,providers:[{provide:tr,useClass:xt}]}}static withOptions(Ie={}){return{ngModule:rt,providers:[Ie.cookieName?{provide:On,useValue:Ie.cookieName}:[],Ie.headerName?{provide:mr,useValue:Ie.headerName}:[]]}}}return rt.\u0275fac=function(Ie){return new(Ie||rt)},rt.\u0275mod=T.oAB({type:rt}),rt.\u0275inj=T.cJS({providers:[tr,{provide:Tt,useExisting:tr,multi:!0},{provide:lr,useClass:sr},{provide:On,useValue:"XSRF-TOKEN"},{provide:mr,useValue:"X-XSRF-TOKEN"}]}),rt})(),Zt=(()=>{class rt{}return rt.\u0275fac=function(Ie){return new(Ie||rt)},rt.\u0275mod=T.oAB({type:rt}),rt.\u0275inj=T.cJS({providers:[Be,{provide:Ee,useClass:Pt},Un,{provide:Me,useExisting:Un}],imports:[an.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),rt})()},4650:(kt,ke,O)=>{O.d(ke,{$8M:()=>$i,$Z:()=>Vp,AFp:()=>ny,AaK:()=>Ee,BQk:()=>wd,CHM:()=>vo,CRH:()=>O_,CZH:()=>Ld,CqO:()=>zg,D6c:()=>ew,EJc:()=>gD,EiD:()=>Lc,EpF:()=>$g,F$t:()=>Yg,F4k:()=>Wg,FYo:()=>g_,FiY:()=>Es,G48:()=>LD,Gf:()=>P_,GfV:()=>m_,GkF:()=>yf,Gpc:()=>te,Gre:()=>Sm,Hsn:()=>Qg,Ikx:()=>Rf,JOm:()=>Jo,JVY:()=>xc,KtG:()=>Cr,L6k:()=>_,LAX:()=>d,LFG:()=>un,LSH:()=>fl,Lbi:()=>dD,MAs:()=>Hg,MMx:()=>Hf,NdJ:()=>Ef,OlP:()=>Hr,Oqu:()=>Af,PXZ:()=>RD,Q6J:()=>gf,QGY:()=>vf,QP$:()=>Vu,QbO:()=>hD,Qsj:()=>X0,R0b:()=>$o,RDi:()=>mi,Rgc:()=>Mc,SBq:()=>bc,Sil:()=>_D,Suo:()=>N_,TTD:()=>Li,TgZ:()=>Ed,Udp:()=>Tf,WFA:()=>Cf,X6Q:()=>kD,XFs:()=>Pt,Xpm:()=>Ae,Y36:()=>Cu,YKP:()=>f_,YNc:()=>jg,Yjl:()=>He,Yz7:()=>tn,ZZ4:()=>cp,_Bn:()=>d_,_UZ:()=>_f,_Vd:()=>Tc,_c5:()=>JD,_uU:()=>ym,aQg:()=>dp,c2e:()=>fD,cJS:()=>Fn,cg1:()=>Pf,d8E:()=>Mf,dDg:()=>TD,deG:()=>ma,dqk:()=>Oe,eBb:()=>c,eFA:()=>py,ekj:()=>bf,eoX:()=>cy,f3M:()=>di,g9A:()=>iy,h0i:()=>$l,hGG:()=>XD,hM9:()=>lC,hij:()=>Td,iGM:()=>M_,ifc:()=>ot,ip1:()=>ty,kL8:()=>Fm,lG2:()=>pn,lqb:()=>yu,lri:()=>ly,mCW:()=>$r,n5z:()=>Zn,n_E:()=>Pd,oAB:()=>dn,oxw:()=>Zg,pB0:()=>C,q3G:()=>Ai,q4F:()=>__,qLn:()=>Po,qOj:()=>df,qZA:()=>Cd,qzn:()=>ts,rWj:()=>uy,s9C:()=>wf,sBO:()=>FD,sIi:()=>yc,s_b:()=>Od,soG:()=>Fd,tBr:()=>qs,tb:()=>sy,tp0:()=>Cs,uIk:()=>pf,vHH:()=>Je,vpe:()=>ka,wAp:()=>jn,xp6:()=>a,yhl:()=>kl,ynx:()=>Dd,z2F:()=>Ud,z3N:()=>Bo,zSh:()=>Mh,zs3:()=>Ma});var D=O(7579),T=O(727),U=O(8306),de=O(6451),le=O(3099);function Te(e){for(let t in e)if(e[t]===Te)return t;throw Error("Could not find renamed property on target object.")}function ie(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ee(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ee).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Me(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Y=Te({__forward_ref__:Te});function te(e){return e.__forward_ref__=te,e.toString=function(){return Ee(this())},e}function Re(e){return nt(e)?e():e}function nt(e){return"function"==typeof e&&e.hasOwnProperty(Y)&&e.__forward_ref__===te}class Je extends Error{constructor(t,n){super(function ft(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function Ue(e){return"string"==typeof e?e:null==e?"":String(e)}function be(e,t){throw new Je(-201,!1)}function Wt(e,t){null==e&&function ht(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function tn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Fn(e){return{providers:e.providers||[],imports:e.imports||[]}}function fn(e){return Pr(e,mr)||Pr(e,sr)}function Pr(e,t){return e.hasOwnProperty(t)?e[t]:null}function On(e){return e&&(e.hasOwnProperty(lr)||e.hasOwnProperty(tr))?e[lr]:null}const mr=Te({\u0275prov:Te}),lr=Te({\u0275inj:Te}),sr=Te({ngInjectableDef:Te}),tr=Te({ngInjectorDef:Te});var Pt=(()=>((Pt=Pt||{})[Pt.Default=0]="Default",Pt[Pt.Host=1]="Host",Pt[Pt.Self=2]="Self",Pt[Pt.SkipSelf=4]="SkipSelf",Pt[Pt.Optional=8]="Optional",Pt))();let Tn;function an(e){const t=Tn;return Tn=e,t}function Zt(e,t,n){const r=fn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Pt.Optional?null:void 0!==t?t:void be(Ee(e))}function Vn(e){return{toString:e}.toString()}var rt=(()=>((rt=rt||{})[rt.OnPush=0]="OnPush",rt[rt.Default=1]="Default",rt))(),ot=(()=>{return(e=ot||(ot={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",ot;var e})();const Oe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Cn={},St=[],zn=Te({\u0275cmp:Te}),on=Te({\u0275dir:Te}),mn=Te({\u0275pipe:Te}),_n=Te({\u0275mod:Te}),ue=Te({\u0275fac:Te}),ee=Te({__NG_ELEMENT_ID__:Te});let Se=0;function Ae(e){return Vn(()=>{const n=!0===e.standalone,r={},o={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===rt.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||St,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ot.Emulated,id:"c"+Se++,styles:e.styles||St,_:null,setInput:null,schemas:e.schemas||null,tView:null},u=e.dependencies,h=e.features;return o.inputs=zt(e.inputs,r),o.outputs=zt(e.outputs),h&&h.forEach(v=>v(o)),o.directiveDefs=u?()=>("function"==typeof u?u():u).map(tt).filter(bt):null,o.pipeDefs=u?()=>("function"==typeof u?u():u).map(Xe).filter(bt):null,o})}function tt(e){return oe(e)||ce(e)}function bt(e){return null!==e}const Ut={};function dn(e){return Vn(()=>{const t={type:e.type,bootstrap:e.bootstrap||St,declarations:e.declarations||St,imports:e.imports||St,exports:e.exports||St,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Ut[e.id]=e.type),t})}function zt(e,t){if(null==e)return Cn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],u=o;Array.isArray(o)&&(u=o[1],o=o[0]),n[o]=r,t&&(t[o]=u)}return n}const pn=Ae;function He(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function oe(e){return e[zn]||null}function ce(e){return e[on]||null}function Xe(e){return e[mn]||null}function At(e,t){const n=e[_n]||null;if(!n&&!0===t)throw new Error(`Type ${Ee(e)} does not have '\u0275mod' property.`);return n}function lt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ct(e){return Array.isArray(e)&&!0===e[1]}function Ht(e){return 0!=(8&e.flags)}function nr(e){return 2==(2&e.flags)}function Zr(e){return 1==(1&e.flags)}function Dn(e){return null!==e.template}function si(e){return 0!=(256&e[2])}function gi(e,t){return e.hasOwnProperty(ue)?e[ue]:null}class Vr{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Li(){return Fi}function Fi(e){return e.type.prototype.ngOnChanges&&(e.setInput=Hs),xo}function xo(){const e=io(this),t=e?.current;if(t){const n=e.previous;if(n===Cn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Hs(e,t,n,r){const o=io(e)||function Mi(e,t){return e[Zi]=t}(e,{previous:Cn,current:null}),u=o.current||(o.current={}),h=o.previous,v=this.declaredInputs[n],w=h[v];u[v]=new Vr(w&&w.currentValue,t,h===Cn),e[r]=t}Li.ngInherit=!0;const Zi="__ngSimpleChanges__";function io(e){return e[Zi]||null}let kn;function mi(e){kn=e}function $n(e){return!!e.listen}const Yi={createRenderer:(e,t)=>function gs(){return void 0!==kn?kn:typeof document<"u"?document:void 0}()};function Ar(e){for(;Array.isArray(e);)e=e[0];return e}function M(e,t){return Ar(t[e])}function z(e,t){return Ar(t[e.index])}function it(e,t){return e.data[t]}function Mt(e,t){const n=t[e];return lt(n)?n:n[0]}function fr(e){return 4==(4&e[2])}function rr(e){return 64==(64&e[2])}function Pn(e,t){return null==t?null:e[t]}function cr(e){e[18]=0}function ir(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Nt={lFrame:m(null),bindingsEnabled:!0};function ri(){return Nt.bindingsEnabled}function Et(){return Nt.lFrame.lView}function xn(){return Nt.lFrame.tView}function vo(e){return Nt.lFrame.contextLView=e,e[8]}function Cr(e){return Nt.lFrame.contextLView=null,e}function Lr(){let e=os();for(;null!==e&&64===e.type;)e=e.parent;return e}function os(){return Nt.lFrame.currentTNode}function ei(e,t){const n=Nt.lFrame;n.currentTNode=e,n.isParent=t}function ji(){return Nt.lFrame.isParent}function so(){Nt.lFrame.isParent=!1}function _i(){return Nt.lFrame.bindingIndex++}function as(e){const t=Nt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function oo(e,t){const n=Nt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Os(t)}function Os(e){Nt.lFrame.currentDirectiveIndex=e}function Co(e){const t=Nt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function xs(){return Nt.lFrame.currentQueryIndex}function Do(e){Nt.lFrame.currentQueryIndex=e}function Ko(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function bs(e,t,n){if(n&Pt.SkipSelf){let o=t,u=e;for(;!(o=o.parent,null!==o||n&Pt.Host||(o=Ko(u),null===o||(u=u[15],10&o.type))););if(null===o)return!1;t=o,e=u}const r=Nt.lFrame=f();return r.currentTNode=t,r.lView=e,!0}function F(e){const t=f(),n=e[1];Nt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function f(){const e=Nt.lFrame,t=null===e?null:e.child;return null===t?m(e):t}function m(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function R(){const e=Nt.lFrame;return Nt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const B=R;function K(){const e=R();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Le(){return Nt.lFrame.selectedIndex}function ct(e){Nt.lFrame.selectedIndex=e}function Ot(){const e=Nt.lFrame;return it(e.tView,e.selectedIndex)}function ur(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const u=e.data[n].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:k,ngOnDestroy:H}=u;h&&(e.contentHooks||(e.contentHooks=[])).push(-n,h),v&&((e.contentHooks||(e.contentHooks=[])).push(n,v),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,v)),w&&(e.viewHooks||(e.viewHooks=[])).push(-n,w),k&&((e.viewHooks||(e.viewHooks=[])).push(n,k),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,k)),null!=H&&(e.destroyHooks||(e.destroyHooks=[])).push(n,H)}}function Dr(e,t,n){Rr(e,t,3,n)}function zr(e,t,n,r){(3&e[2])===n&&Rr(e,t,n,r)}function jr(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Rr(e,t,n,r){const u=r??-1,h=t.length-1;let v=0;for(let w=void 0!==r?65535&e[18]:0;w<h;w++)if("number"==typeof t[w+1]){if(v=t[w],null!=r&&v>=r)break}else t[w]<0&&(e[18]+=65536),(v<u||-1==u)&&(ai(e,n,t,w),e[18]=(4294901760&e[18])+w+2),w++}function ai(e,t,n,r){const o=n[r]<0,u=n[r+1],v=e[o?-n[r]:n[r]];if(o){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{u.call(v)}finally{}}}else try{u.call(v)}finally{}}class Gr{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function $t(e,t,n){const r=$n(e);let o=0;for(;o<n.length;){const u=n[o];if("number"==typeof u){if(0!==u)break;o++;const h=n[o++],v=n[o++],w=n[o++];r?e.setAttribute(t,v,w,h):t.setAttributeNS(h,v,w)}else{const h=u,v=n[++o];Kn(h)?r&&e.setProperty(t,h,v):r?e.setAttribute(t,h,v):t.setAttribute(h,v),o++}}return o}function ln(e){return 3===e||4===e||6===e}function Kn(e){return 64===e.charCodeAt(0)}function Kr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Jn(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Jn(e,t,n,r,o){let u=0,h=e.length;if(-1===t)h=-1;else for(;u<e.length;){const v=e[u++];if("number"==typeof v){if(v===t){h=-1;break}if(v>t){h=u-1;break}}}for(;u<e.length;){const v=e[u];if("number"==typeof v)break;if(v===n){if(null===r)return void(null!==o&&(e[u+1]=o));if(r===e[u+1])return void(e[u+2]=o)}u++,null!==r&&u++,null!==o&&u++}-1!==h&&(e.splice(h,0,t),u=h+1),e.splice(u++,0,n),null!==r&&e.splice(u++,0,r),null!==o&&e.splice(u++,0,o)}function yr(e){return-1!==e}function ci(e){return 32767&e}function _s(e,t){let n=function vn(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let ys=!0;function Nr(e){const t=ys;return ys=e,t}let vs=0;const us={};function wo(e,t){const n=Ws(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Fs(r.data,e),Fs(t,null),Fs(r.blueprint,null));const o=cs(e,t),u=e.injectorIndex;if(yr(o)){const h=ci(o),v=_s(o,t),w=v[1].data;for(let k=0;k<8;k++)t[u+k]=v[h+k]|w[h+k]}return t[u+8]=o,u}function Fs(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ws(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function cs(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Ur(o),null===r)return-1;if(n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function uo(e,t,n){!function Ls(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ee)&&(r=n[ee]),null==r&&(r=n[ee]=vs++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function co(e,t,n){if(n&Pt.Optional)return e;be()}function ta(e,t,n,r){if(n&Pt.Optional&&void 0===r&&(r=null),0==(n&(Pt.Self|Pt.Host))){const o=e[9],u=an(void 0);try{return o?o.get(t,r,n&Pt.Optional):Zt(t,r,n&Pt.Optional)}finally{an(u)}}return co(r,0,n)}function E(e,t,n,r=Pt.Default,o){if(null!==e){if(1024&t[2]){const h=function br(e,t,n,r,o){let u=e,h=t;for(;null!==u&&null!==h&&1024&h[2]&&!(256&h[2]);){const v=y(u,h,n,r|Pt.Self,us);if(v!==us)return v;let w=u.parent;if(!w){const k=h[21];if(k){const H=k.get(n,us,r);if(H!==us)return H}w=Ur(h),h=h[15]}u=w}return o}(e,t,n,r,us);if(h!==us)return h}const u=y(e,t,n,r,us);if(u!==us)return u}return ta(t,n,r,o)}function y(e,t,n,r,o){const u=function G(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ee)?e[ee]:void 0;return"number"==typeof t?t>=0?255&t:Bt:t}(n);if("function"==typeof u){if(!bs(t,e,r))return r&Pt.Host?co(o,0,r):ta(t,n,r,o);try{const h=u(r);if(null!=h||r&Pt.Optional)return h;be()}finally{B()}}else if("number"==typeof u){let h=null,v=Ws(e,t),w=-1,k=r&Pt.Host?t[16][6]:null;for((-1===v||r&Pt.SkipSelf)&&(w=-1===v?cs(e,t):t[v+8],-1!==w&&_e(r,!1)?(h=t[1],v=ci(w),t=_s(w,t)):v=-1);-1!==v;){const H=t[1];if(re(u,v,H.data)){const q=g(v,t,n,h,r,k);if(q!==us)return q}w=t[v+8],-1!==w&&_e(r,t[1].data[v+8]===k)&&re(u,v,t)?(h=H,v=ci(w),t=_s(w,t)):v=-1}}return o}function g(e,t,n,r,o,u){const h=t[1],v=h.data[e+8],H=S(v,h,n,null==r?nr(v)&&ys:r!=h&&0!=(3&v.type),o&Pt.Host&&u===v);return null!==H?x(t,h,H,v):us}function S(e,t,n,r,o){const u=e.providerIndexes,h=t.data,v=1048575&u,w=e.directiveStart,H=u>>20,we=o?v+H:e.directiveEnd;for(let Ge=r?v:v+H;Ge<we;Ge++){const yt=h[Ge];if(Ge<w&&n===yt||Ge>=w&&yt.type===n)return Ge}if(o){const Ge=h[w];if(Ge&&Dn(Ge)&&Ge.type===n)return w}return null}function x(e,t,n,r){let o=e[n];const u=t.data;if(function Fr(e){return e instanceof Gr}(o)){const h=o;h.resolving&&function _t(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Je(-200,`Circular dependency in DI detected for ${e}${n}`)}(function $e(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ue(e)}(u[n]));const v=Nr(h.canSeeViewProviders);h.resolving=!0;const w=h.injectImpl?an(h.injectImpl):null;bs(e,r,Pt.Default);try{o=e[n]=h.factory(void 0,u,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Wn(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:u}=t.type.prototype;if(r){const h=Fi(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,h),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,h)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u))}(n,u[n],t)}finally{null!==w&&an(w),Nr(v),h.resolving=!1,B()}}return o}function re(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function _e(e,t){return!(e&Pt.Self||e&Pt.Host&&t)}class dt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return E(this._tNode,this._lView,t,r,n)}}function Bt(){return new dt(Lr(),Et())}function Zn(e){return Vn(()=>{const t=e.prototype.constructor,n=t[ue]||Kt(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const u=o[ue]||Kt(o);if(u&&u!==n)return u;o=Object.getPrototypeOf(o)}return u=>new u})}function Kt(e){return nt(e)?()=>{const t=Kt(Re(e));return t&&t()}:gi(e)}function Ur(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}function $i(e){return function Zo(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const u=n[o];if(ln(u))break;if(0===u)o+=2;else if("number"==typeof u)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(u===t)return n[o+1];o+=2}}}return null}(Lr(),e)}const ho="__parameters__";function na(e,t,n){return Vn(()=>{const r=function fo(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...u){if(this instanceof o)return r.apply(this,u),this;const h=new o(...u);return v.annotation=h,v;function v(w,k,H){const q=w.hasOwnProperty(ho)?w[ho]:Object.defineProperty(w,ho,{value:[]})[ho];for(;q.length<=H;)q.push(null);return(q[H]=q[H]||[]).push(h),w}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class Hr{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=tn({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ma=new Hr("AnalyzeForEntryComponents");function Si(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Si(r,t)):t!==e&&t.push(r)}return t}function Ss(e,t){e.forEach(n=>Array.isArray(n)?Ss(n,t):t(n))}function Ks(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function po(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Zs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Xi(e,t,n){let r=Ys(e,t);return r>=0?e[1|r]=n:(r=~r,function il(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function To(e,t){const n=Ys(e,t);if(n>=0)return e[1|n]}function Ys(e,t){return function sa(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const u=r+(o-r>>1),h=e[u<<n];if(t===h)return u<<n;h>t?o=u:r=u+1}return~(o<<n)}(e,t,1)}const b={},P="__NG_DI_FLAG__",j="ngTempTokenPath",xe=/\n/gm,It="__source";let jt;function gn(e){const t=jt;return jt=e,t}function Xn(e,t=Pt.Default){if(void 0===jt)throw new Je(-203,!1);return null===jt?Zt(e,void 0,t):jt.get(e,t&Pt.Optional?null:void 0,t)}function un(e,t=Pt.Default){return(function bn(){return Tn}()||Xn)(Re(e),t)}function di(e,t=Pt.Default){return un(e,t)}function Oi(e){const t=[];for(let n=0;n<e.length;n++){const r=Re(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Je(900,!1);let o,u=Pt.Default;for(let h=0;h<r.length;h++){const v=r[h],w=So(v);"number"==typeof w?-1===w?o=v.token:u|=w:o=v}t.push(un(o,u))}else t.push(un(r))}return t}function es(e,t){return e[P]=t,e.prototype[P]=t,e}function So(e){return e[P]}const qs=es(na("Inject",e=>({token:e})),-1),Es=es(na("Optional"),8),Cs=es(na("SkipSelf"),4);let Qo;function aa(e){return function Ha(){if(void 0===Qo&&(Qo=null,Oe.trustedTypes))try{Qo=Oe.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Qo}()?.createHTML(e)||e}class Js{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gu extends Js{getTypeName(){return"HTML"}}class ul extends Js{getTypeName(){return"Style"}}class xl extends Js{getTypeName(){return"Script"}}class Ia extends Js{getTypeName(){return"URL"}}class Ta extends Js{getTypeName(){return"ResourceURL"}}function Bo(e){return e instanceof Js?e.changingThisBreaksApplicationSecurity:e}function ts(e,t){const n=kl(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function kl(e){return e instanceof Js&&e.getTypeName()||null}function xc(e){return new Gu(e)}function _(e){return new ul(e)}function c(e){return new xl(e)}function d(e){return new Ia(e)}function C(e){return new Ta(e)}class Z{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(aa(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class We{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=aa(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=aa(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let o=n.length-1;0<o;o--){const h=n.item(o).name;("xmlns:ns1"===h||0===h.indexOf("ns1:"))&&t.removeAttribute(h)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const qt=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $r(e){return(e=String(e)).match(qt)||e.match(er)?e:"unsafe:"+e}function ns(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Mo(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const ba=ns("area,br,col,hr,img,wbr"),cl=ns("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$a=ns("rp,rt"),Wa=Mo(ba,Mo(cl,ns("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mo($a,ns("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mo($a,cl)),za=ns("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dl=ns("srcset"),Ll=Mo(za,dl,ns("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ns("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hd=ns("script,style,template");class Ga{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=this.checkClobberedElement(n,n.nextSibling);if(o){n=o;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Wa.hasOwnProperty(n))return this.sanitizedSomething=!0,!Hd.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let o=0;o<r.length;o++){const u=r.item(o),h=u.name,v=h.toLowerCase();if(!Ll.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=u.value;za[v]&&(w=$r(w)),dl[v]&&(e=w,w=(e=String(e)).split(",").map(t=>$r(t.trim())).join(", ")),this.buf.push(" ",h,'="',su(w),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Wa.hasOwnProperty(n)&&!ba.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(su(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Sa=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$d=/([^\#-~ |!])/g;function su(e){return e.replace(/&/g,"&amp;").replace(Sa,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace($d,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ka;function Lc(e,t){let n=null;try{Ka=Ka||function V(e){const t=new We(e);return function vt(){try{return!!(new window.DOMParser).parseFromString(aa(""),"text/html")}catch{return!1}}()?new Z(t):t}(e);let r=t?String(t):"";n=Ka.getInertBodyElement(r);let o=5,u=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=u,u=n.innerHTML,n=Ka.getInertBodyElement(r)}while(r!==u);return aa((new Ga).sanitizeChildren(Aa(n)||n))}finally{if(n){const r=Aa(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Aa(e){return"content"in e&&function Wd(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ai=(()=>((Ai=Ai||{})[Ai.NONE=0]="NONE",Ai[Ai.HTML=1]="HTML",Ai[Ai.STYLE=2]="STYLE",Ai[Ai.SCRIPT=3]="SCRIPT",Ai[Ai.URL=4]="URL",Ai[Ai.RESOURCE_URL=5]="RESOURCE_URL",Ai))();function fl(e){const t=function pl(){const e=Et();return e&&e[12]}();return t?t.sanitize(Ai.URL,e)||"":ts(e,"URL")?Bo(e):$r(Ue(e))}function gl(e){return e.ngOriginalError}class Po{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&gl(t);for(;n&&gl(n);)n=gl(n);return n||null}}const Ju=new Map;let Xu=0;const du="__ngContext__";function Ds(e,t){lt(t)?(e[du]=t[20],function Jd(e){Ju.set(e[20],e)}(t)):e[du]=t}function ml(e){const t=e[du];return"number"==typeof t?function Vc(e){return Ju.get(e)||null}(t):t||null}function hu(e){const t=ml(e);return t?lt(t)?t:t.lView:null}const ih=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Oe))();function ua(e){return e instanceof Function?e():e}var Jo=(()=>((Jo=Jo||{})[Jo.Important=1]="Important",Jo[Jo.DashCase=2]="DashCase",Jo))();function rc(e,t){return undefined(e,t)}function Fl(e){const t=e[3];return Ct(t)?t[3]:t}function sc(e){return Wc(e[13])}function pu(e){return Wc(e[4])}function Wc(e){for(;null!==e&&!Ct(e);)e=e[4];return e}function yl(e,t,n,r,o){if(null!=r){let u,h=!1;Ct(r)?u=r:lt(r)&&(h=!0,r=r[0]);const v=Ar(r);0===e&&null!==n?null==o?Zc(t,n,v):qa(t,n,v,o||null,!0):1===e&&null!==n?qa(t,n,v,o||null,!0):2===e?function Jc(e,t,n){const r=gu(e,t);r&&function yh(e,t,n,r){$n(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,v,h):3===e&&t.destroyNode(v),null!=u&&function Xc(e,t,n,r,o){const u=n[7];u!==Ar(n)&&yl(t,e,r,u,o);for(let v=10;v<n.length;v++){const w=n[v];Ul(w[1],w,e,t,r,u)}}(t,e,u,n,o)}}function lc(e,t,n){if($n(e))return e.createElement(t,n);{const r=null!==n?function is(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function zc(e,t){const n=e[9],r=n.indexOf(t),o=t[3];512&t[2]&&(t[2]&=-513,ir(o,-1)),n.splice(r,1)}function uc(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[17];null!==o&&o!==e&&zc(o,r),t>0&&(e[n-1][4]=r[4]);const u=po(e,10+t);!function bp(e,t){Ul(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const h=u[19];null!==h&&h.detachView(u[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Gc(e,t){if(!(128&t[2])){const n=t[11];$n(n)&&n.destroyNode&&Ul(e,t,n,3,null,null),function fh(e){let t=e[13];if(!t)return cc(e[1],e);for(;t;){let n=null;if(lt(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)lt(t)&&cc(t[1],t),t=t[3];null===t&&(t=e),lt(t)&&cc(t[1],t),n=t&&t[4]}t=n}}(t)}}function cc(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Sp(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Gr)){const u=n[r+1];if(Array.isArray(u))for(let h=0;h<u.length;h+=2){const v=o[u[h]],w=u[h+1];try{w.call(v)}finally{}}else try{u.call(o)}finally{}}}}(e,t),function mh(e,t){const n=e.cleanup,r=t[7];let o=-1;if(null!==n)for(let u=0;u<n.length-1;u+=2)if("string"==typeof n[u]){const h=n[u+1],v="function"==typeof h?h(t):Ar(t[h]),w=r[o=n[u+2]],k=n[u+3];"boolean"==typeof k?v.removeEventListener(n[u],w,k):k>=0?r[o=k]():r[o=-k].unsubscribe(),u+=2}else{const h=r[o=n[u+1]];n[u].call(h)}if(null!==r){for(let u=o+1;u<r.length;u++)r[u]();t[7]=null}}(e,t),1===t[1].type&&$n(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Ct(t[3])){n!==t[3]&&zc(n,t);const r=t[19];null!==r&&r.detachView(e)}!function Xd(e){Ju.delete(e[20])}(t)}}function _h(e,t,n){return function Kc(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const o=e.data[r.directiveStart].encapsulation;if(o===ot.None||o===ot.Emulated)return null}return z(r,n)}(e,t.parent,n)}function qa(e,t,n,r,o){$n(e)?e.insertBefore(t,n,r,o):(Yc(t)?t.content:t).insertBefore(n,r,o)}function Zc(e,t,n){$n(e)?e.appendChild(t,n):(Yc(t)?t.content:t).appendChild(n)}function dc(e,t,n,r,o){null!==r?qa(e,t,n,r,o):Zc(e,t,n)}function Yc(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}function gu(e,t){return $n(e)?e.parentNode(t):t.parentNode}function ca(e,t,n){return to(e,t,n)}let to=function fs(e,t,n){return 40&e.type?z(e,n):null};function mu(e,t,n,r){const o=_h(e,r,t),u=t[11],v=ca(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(n))for(let w=0;w<n.length;w++)dc(u,o,n[w],v,!1);else dc(u,o,n,v,!1)}function _u(e,t){if(null!==t){const n=t.type;if(3&n)return z(t,e);if(4&n)return Xo(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return _u(e,r);{const o=e[t.index];return Ct(o)?Xo(-1,o):Ar(o)}}if(32&n)return rc(t,e)()||Ar(e[t.index]);{const r=qc(e,t);return null!==r?Array.isArray(r)?r[0]:_u(Fl(e[16]),r):_u(e,t.next)}}return null}function qc(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Xo(e,t){const n=10+e+1;if(n<t.length){const r=t[n],o=r[1].firstChild;if(null!==o)return _u(r,o)}return t[7]}function hc(e,t,n,r,o,u,h){for(;null!=n;){const v=r[n.index],w=n.type;if(h&&0===t&&(v&&Ds(Ar(v),r),n.flags|=4),64!=(64&n.flags))if(8&w)hc(e,t,n.child,r,o,u,!1),yl(t,e,o,v,u);else if(32&w){const k=rc(n,r);let H;for(;H=k();)yl(t,e,o,H,u);yl(t,e,o,v,u)}else 16&w?fc(e,t,r,n,o,u):yl(t,e,o,v,u);n=h?n.projectionNext:n.next}}function Ul(e,t,n,r,o,u){hc(n,r,e.firstChild,t,o,u,!1)}function fc(e,t,n,r,o,u){const h=n[16],w=h[6].projection[r.projection];if(Array.isArray(w))for(let k=0;k<w.length;k++)yl(t,e,o,w[k],u);else hc(e,t,w,h[3],o,u,!0)}function pc(e,t,n){$n(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Xa(e,t,n){$n(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function td(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const u=t.length;if(o+u===r||e.charCodeAt(o+u)<=32)return o}n=o+1}}const nd="ng-template";function Dh(e,t,n){let r=0;for(;r<e.length;){let o=e[r++];if(n&&"class"===o){if(o=e[r],-1!==td(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function gc(e){return 4===e.type&&e.value!==nd}function rd(e,t,n){return t===(4!==e.type||n?e.value:nd)}function id(e,t,n){let r=4;const o=e.attrs||[],u=function Ih(e){for(let t=0;t<e.length;t++)if(ln(e[t]))return t;return e.length}(o);let h=!1;for(let v=0;v<t.length;v++){const w=t[v];if("number"!=typeof w){if(!h)if(4&r){if(r=2|1&r,""!==w&&!rd(e,w,n)||""===w&&1===t.length){if(jo(r))return!1;h=!0}}else{const k=8&r?w:t[++v];if(8&r&&null!==e.attrs){if(!Dh(e.attrs,k,n)){if(jo(r))return!1;h=!0}continue}const q=wh(8&r?"class":w,o,gc(e),n);if(-1===q){if(jo(r))return!1;h=!0;continue}if(""!==k){let we;we=q>u?"":o[q+1].toLowerCase();const Ge=8&r?we:null;if(Ge&&-1!==td(Ge,k,0)||2&r&&k!==we){if(jo(r))return!1;h=!0}}}}else{if(!h&&!jo(r)&&!jo(w))return!1;if(h&&jo(w))continue;h=!1,r=w|1&r}}return jo(r)||h}function jo(e){return 0==(1&e)}function wh(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let u=!1;for(;o<t.length;){const h=t[o];if(h===e)return o;if(3===h||6===h)u=!0;else{if(1===h||2===h){let v=t[++o];for(;"string"==typeof v;)v=t[++o];continue}if(4===h)break;if(0===h){o+=4;continue}}o+=u?1:2}return-1}return function Th(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function sd(e,t,n=!1){for(let r=0;r<t.length;r++)if(id(e,t[r],n))return!0;return!1}function ad(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function ld(e,t){return e?":not("+t.trim()+")":t}function bh(e){let t=e[0],n=1,r=2,o="",u=!1;for(;n<e.length;){let h=e[n];if("string"==typeof h)if(2&r){const v=e[++n];o+="["+h+(v.length>0?'="'+v+'"':"")+"]"}else 8&r?o+="."+h:4&r&&(o+=" "+h);else""!==o&&!jo(h)&&(t+=ld(u,o),o=""),r=h,u=u||!jo(r);n++}return""!==o&&(t+=ld(u,o)),t}const ar={};function a(e){i(xn(),Et(),Le()+e,!1)}function i(e,t,n,r){if(!r)if(3==(3&t[2])){const u=e.preOrderCheckHooks;null!==u&&Dr(t,u,n)}else{const u=e.preOrderHooks;null!==u&&zr(t,u,0,n)}ct(n)}const et=new Hr("ENVIRONMENT_INITIALIZER"),Dt=new Hr("INJECTOR_DEF_TYPES");function cn(...e){return{\u0275providers:Ln(0,e)}}function Ln(e,...t){const n=[],r=new Set;let o;return Ss(t,u=>{const h=u;Wi(h,n,[],r)&&(o||(o=[]),o.push(h))}),void 0!==o&&Wr(o,n),n}function Wr(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];Ss(o,u=>{t.push(u)})}}function Wi(e,t,n,r){if(!(e=Re(e)))return!1;let o=null,u=On(e);const h=!u&&oe(e);if(u||h){if(h&&!h.standalone)return!1;o=e}else{const w=e.ngModule;if(u=On(w),!u)return!1;o=w}const v=r.has(o);if(h){if(v)return!1;if(r.add(o),h.dependencies){const w="function"==typeof h.dependencies?h.dependencies():h.dependencies;for(const k of w)Wi(k,t,n,r)}}else{if(!u)return!1;{if(null!=u.imports&&!v){let k;r.add(o);try{Ss(u.imports,H=>{Wi(H,t,n,r)&&(k||(k=[]),k.push(H))})}finally{}void 0!==k&&Wr(k,t)}if(!v){const k=gi(o)||(()=>new o);t.push({provide:o,useFactory:k,deps:St},{provide:Dt,useValue:o,multi:!0},{provide:et,useValue:()=>un(o),multi:!0})}const w=u.providers;null==w||v||Ss(w,H=>{t.push(H)})}}return o!==e&&void 0!==e.providers}const da=Te({provide:String,useValue:Te});function Ra(e){return null!==e&&"object"==typeof e&&da in e}function Bl(e){return"function"==typeof e}const Rh=new Hr("INJECTOR",-1);class Rp{get(t,n=b){if(n===b){const r=new Error(`NullInjectorError: No provider for ${Ee(t)}!`);throw r.name="NullInjectorError",r}return n}}const Mh=new Hr("Set Injector scope."),cd={},Oy={};let Ph;function Nh(){return void 0===Ph&&(Ph=new Rp),Ph}class yu{}class Mp extends yu{constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xh(t,h=>this.processProvider(h)),this.records.set(Rh,vu(void 0,this)),o.has("environment")&&this.records.set(yu,vu(void 0,this));const u=this.records.get(Mh);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(Dt.multi,St,Pt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}get(t,n=b,r=Pt.Default){this.assertNotDestroyed();const o=gn(this),u=an(void 0);try{if(!(r&Pt.SkipSelf)){let v=this.records.get(t);if(void 0===v){const w=function Uy(e){return"function"==typeof e||"object"==typeof e&&e instanceof Hr}(t)&&fn(t);v=w&&this.injectableDefInScope(w)?vu(Oh(t),cd):null,this.records.set(t,v)}if(null!=v)return this.hydrate(t,v)}return(r&Pt.Self?Nh():this.parent).get(t,n=r&Pt.Optional&&n===b?null:n)}catch(h){if("NullInjectorError"===h.name){if((h[j]=h[j]||[]).unshift(Ee(t)),o)throw h;return function Ao(e,t,n,r){const o=e[j];throw t[It]&&o.unshift(t[It]),e.message=function Ca(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Ee(t);if(Array.isArray(t))o=t.map(Ee).join(" -> ");else if("object"==typeof t){let u=[];for(let h in t)if(t.hasOwnProperty(h)){let v=t[h];u.push(h+":"+("string"==typeof v?JSON.stringify(v):Ee(v)))}o=`{${u.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(xe,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[j]=null,e}(h,t,"R3InjectorError",this.source)}throw h}finally{an(u),gn(o)}}resolveInjectorInitializers(){const t=gn(this),n=an(void 0);try{const r=this.get(et.multi,St,Pt.Self);for(const o of r)o()}finally{gn(t),an(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ee(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(t){let n=Bl(t=Re(t))?t:Re(t&&t.provide);const r=function ky(e){return Ra(e)?vu(void 0,e.useValue):vu(Pp(e),cd)}(t);if(Bl(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=vu(void 0,cd,!0),o.factory=()=>Oi(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===cd&&(n.value=Oy,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Fy(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Re(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Oh(e){const t=fn(e),n=null!==t?t.factory:gi(e);if(null!==n)return n;if(e instanceof Hr)throw new Je(204,!1);if(e instanceof Function)return function xy(e){const t=e.length;if(t>0)throw Zs(t,"?"),new Je(204,!1);const n=function pr(e){const t=e&&(e[mr]||e[sr]);if(t){const n=function Un(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Je(204,!1)}function Pp(e,t,n){let r;if(Bl(e)){const o=Re(e);return gi(o)||Oh(o)}if(Ra(e))r=()=>Re(e.useValue);else if(function Ap(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Oi(e.deps||[]));else if(function ud(e){return!(!e||!e.useExisting)}(e))r=()=>un(Re(e.useExisting));else{const o=Re(e&&(e.useClass||e.provide));if(!function Ly(e){return!!e.deps}(e))return gi(o)||Oh(o);r=()=>new o(...Oi(e.deps))}return r}function vu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function By(e){return!!e.\u0275providers}function xh(e,t){for(const n of e)Array.isArray(n)?xh(n,t):By(n)?xh(n.\u0275providers,t):t(n)}function Np(e,t=null,n=null,r){const o=Op(e,t,n,r);return o.resolveInjectorInitializers(),o}function Op(e,t=null,n=null,r,o=new Set){const u=[n||St,cn(e)];return r=r||("object"==typeof e?void 0:Ee(e)),new Mp(u,t||Nh(),r||null,o)}let Ma=(()=>{class e{static create(n,r){if(Array.isArray(n))return Np({name:""},r,n,"");{const o=n.name??"";return Np({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=b,e.NULL=new Rp,e.\u0275prov=tn({token:e,providedIn:"any",factory:()=>un(Rh)}),e.__NG_ELEMENT_ID__=-1,e})();function Cu(e,t=Pt.Default){const n=Et();return null===n?un(e,t):E(Lr(),n,Re(e),t)}function Vp(){throw new Error("invalid")}function hd(e,t){return e<<17|t<<2}function ha(e){return e>>17&32767}function Hh(e){return 2|e}function el(e){return(131068&e)>>2}function $h(e,t){return-131069&e|t<<2}function Wh(e){return 1|e}function eg(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],u=n[r+1];if(-1!==u){const h=e.data[u];Do(o),h.contentQueries(2,t[u],u)}}}function mc(e,t,n,r,o,u,h,v,w,k,H){const q=t.blueprint.slice();return q[0]=o,q[2]=76|r,(null!==H||e&&1024&e[2])&&(q[2]|=1024),cr(q),q[3]=q[15]=e,q[8]=n,q[10]=h||e&&e[10],q[11]=v||e&&e[11],q[12]=w||e&&e[12]||null,q[9]=k||e&&e[9]||null,q[6]=u,q[20]=function qd(){return Xu++}(),q[21]=H,q[16]=2==t.type?e[16]:q,q}function Du(e,t,n,r,o){let u=e.data[t];if(null===u)u=function Xh(e,t,n,r,o){const u=os(),h=ji(),w=e.data[t]=function _v(e,t,n,r,o,u){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?u:u&&u.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=w),null!==u&&(h?null==u.child&&null!==w.parent&&(u.child=w):null===u.next&&(u.next=w)),w}(e,t,n,r,o),function ms(){return Nt.lFrame.inI18n}()&&(u.flags|=64);else if(64&u.type){u.type=n,u.value=r,u.attrs=o;const h=function Ms(){const e=Nt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===h?-1:h.injectorIndex}return ei(u,!0),u}function wu(e,t,n,r){if(0===n)return-1;const o=t.length;for(let u=0;u<n;u++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function _c(e,t,n){F(t);try{const r=e.viewQuery;null!==r&&uf(1,r,n);const o=e.template;null!==o&&tg(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&eg(e,t),e.staticViewQueries&&uf(2,e.viewQuery,n);const u=e.components;null!==u&&function pv(e,t){for(let n=0;n<t.length;n++)kv(e,t[n])}(t,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,K()}}function Iu(e,t,n,r){const o=t[2];if(128!=(128&o)){F(t);try{cr(t),function Ns(e){return Nt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&tg(e,t,n,2,r);const h=3==(3&o);if(h){const k=e.preOrderCheckHooks;null!==k&&Dr(t,k,null)}else{const k=e.preOrderHooks;null!==k&&zr(t,k,0,null),jr(t,0)}if(function Ov(e){for(let t=sc(e);null!==t;t=pu(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const o=n[r],u=o[3];0==(512&o[2])&&ir(u,1),o[2]|=512}}}(t),function Nv(e){for(let t=sc(e);null!==t;t=pu(t))for(let n=10;n<t.length;n++){const r=t[n],o=r[1];rr(r)&&Iu(o,r,o.template,r[8])}}(t),null!==e.contentQueries&&eg(e,t),h){const k=e.contentCheckHooks;null!==k&&Dr(t,k)}else{const k=e.contentHooks;null!==k&&zr(t,k,1),jr(t,1)}!function hv(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)ct(~o);else{const u=o,h=n[++r],v=n[++r];oo(h,u),v(2,t[u])}}}finally{ct(-1)}}(e,t);const v=e.components;null!==v&&function fv(e,t){for(let n=0;n<t.length;n++)xv(e,t[n])}(t,v);const w=e.viewQuery;if(null!==w&&uf(2,w,r),h){const k=e.viewCheckHooks;null!==k&&Dr(t,k)}else{const k=e.viewHooks;null!==k&&zr(t,k,2),jr(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,ir(t[3],-1))}finally{K()}}}function gv(e,t,n,r){const o=t[10],h=fr(t);try{!h&&o.begin&&o.begin(),h&&_c(e,t,r),Iu(e,t,n,r)}finally{!h&&o.end&&o.end()}}function tg(e,t,n,r,o){const u=Le(),h=2&r;try{ct(-1),h&&t.length>22&&i(e,t,22,!1),n(r,o)}finally{ct(u)}}function ng(e,t,n){if(Ht(t)){const o=t.directiveEnd;for(let u=t.directiveStart;u<o;u++){const h=e.data[u];h.contentQueries&&h.contentQueries(1,n[u],u)}}}function ef(e,t,n){!ri()||(function Iv(e,t,n,r){const o=n.directiveStart,u=n.directiveEnd;e.firstCreatePass||wo(n,t),Ds(r,t);const h=n.initialInputs;for(let v=o;v<u;v++){const w=e.data[v],k=Dn(w);k&&Rv(t,n,w);const H=x(t,e,v,n);Ds(H,t),null!==h&&Mv(0,v-o,H,w,0,h),k&&(Mt(n.index,t)[8]=H)}}(e,t,n,z(n,t)),128==(128&n.flags)&&function Tv(e,t,n){const r=n.directiveStart,o=n.directiveEnd,u=n.index,h=function Eo(){return Nt.lFrame.currentDirectiveIndex}();try{ct(u);for(let v=r;v<o;v++){const w=e.data[v],k=t[v];Os(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&ug(w,k)}}finally{ct(-1),Os(h)}}(e,t,n))}function tf(e,t,n=z){const r=t.localNames;if(null!==r){let o=t.index+1;for(let u=0;u<r.length;u+=2){const h=r[u+1],v=-1===h?n(t,e):e[h];e[o++]=v}}}function rg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=gd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function gd(e,t,n,r,o,u,h,v,w,k){const H=22+r,q=H+o,we=function mv(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ar);return n}(H,q),Ge="function"==typeof k?k():k;return we[1]={type:e,blueprint:we,template:n,queries:null,viewQuery:v,declTNode:t,data:we.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:w,consts:Ge,incompleteFirstPass:!1}}function og(e,t,n,r){const o=gg(t);null===n?o.push(r):(o.push(n),e.firstCreatePass&&mg(e).push(r,o.length-1))}function ag(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const o=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,o):n[r]=[t,o]}return n}function Ho(e,t,n,r,o,u,h,v){const w=z(t,n);let H,k=t.inputs;!v&&null!=k&&(H=k[r])?(vg(e,n,H,r,o),nr(t)&&function Ev(e,t){const n=Mt(t,e);16&n[2]||(n[2]|=32)}(n,t.index)):3&t.type&&(r=function vv(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=h?h(o,t.value||"",r):o,$n(u)?u.setProperty(w,r,o):Kn(r)||(w.setProperty?w.setProperty(r,o):w[r]=o))}function nf(e,t,n,r){let o=!1;if(ri()){const u=function bv(e,t,n){const r=e.directiveRegistry;let o=null;if(r)for(let u=0;u<r.length;u++){const h=r[u];sd(n,h.selectors,!1)&&(o||(o=[]),uo(wo(n,t),e,h.type),Dn(h)?(cg(e,n),o.unshift(h)):o.push(h))}return o}(e,t,n),h=null===r?null:{"":-1};if(null!==u){o=!0,dg(n,e.data.length,u.length);for(let H=0;H<u.length;H++){const q=u[H];q.providersResolver&&q.providersResolver(q)}let v=!1,w=!1,k=wu(e,t,u.length,null);for(let H=0;H<u.length;H++){const q=u[H];n.mergedAttrs=Kr(n.mergedAttrs,q.hostAttrs),hg(e,n,t,k,q),Av(k,q,h),null!==q.contentQueries&&(n.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(n.flags|=128);const we=q.type.prototype;!v&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),v=!0),!w&&(we.ngOnChanges||we.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),w=!0),k++}!function yv(e,t){const r=t.directiveEnd,o=e.data,u=t.attrs,h=[];let v=null,w=null;for(let k=t.directiveStart;k<r;k++){const H=o[k],q=H.inputs,we=null===u||gc(t)?null:Pv(q,u);h.push(we),v=ag(q,k,v),w=ag(H.outputs,k,w)}null!==v&&(v.hasOwnProperty("class")&&(t.flags|=16),v.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=h,t.inputs=v,t.outputs=w}(e,n)}h&&function Sv(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const u=n[t[o+1]];if(null==u)throw new Je(-301,!1);r.push(t[o],u)}}}(n,r,h)}return n.mergedAttrs=Kr(n.mergedAttrs,n.attrs),o}function lg(e,t,n,r,o,u){const h=u.hostBindings;if(h){let v=e.hostBindingOpCodes;null===v&&(v=e.hostBindingOpCodes=[]);const w=~t.index;(function wv(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(v)!=w&&v.push(w),v.push(r,o,h)}}function ug(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function cg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Av(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Dn(t)&&(n[""]=e)}}function dg(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function hg(e,t,n,r,o){e.data[r]=o;const u=o.factory||(o.factory=gi(o.type)),h=new Gr(u,Dn(o),Cu);e.blueprint[r]=h,n[r]=h,lg(e,t,0,r,wu(e,n,o.hostVars,ar),o)}function Rv(e,t,n){const r=z(t,e),o=rg(n),u=e[10],h=md(e,mc(e,o,null,n.onPush?32:16,r,t,u,u.createRenderer(r,n),null,null,null));e[t.index]=h}function Pa(e,t,n,r,o,u){const h=z(e,t);!function rf(e,t,n,r,o,u,h){if(null==u)$n(e)?e.removeAttribute(t,o,n):t.removeAttribute(o);else{const v=null==h?Ue(u):h(u,r||"",o);$n(e)?e.setAttribute(t,o,v,n):n?t.setAttributeNS(n,o,v):t.setAttribute(o,v)}}(t[11],h,u,e.value,n,r,o)}function Mv(e,t,n,r,o,u){const h=u[t];if(null!==h){const v=r.setInput;for(let w=0;w<h.length;){const k=h[w++],H=h[w++],q=h[w++];null!==v?r.setInput(n,q,k,H):n[H]=q}}}function Pv(e,t){let n=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[r+1])),r+=2}else r+=2;else r+=4}return n}function fg(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function xv(e,t){const n=Mt(t,e);if(rr(n)){const r=n[1];48&n[2]?Iu(r,n,r.template,n[8]):n[5]>0&&sf(n)}}function sf(e){for(let r=sc(e);null!==r;r=pu(r))for(let o=10;o<r.length;o++){const u=r[o];if(512&u[2]){const h=u[1];Iu(h,u,h.template,u[8])}else u[5]>0&&sf(u)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const o=Mt(n[r],e);rr(o)&&o[5]>0&&sf(o)}}function kv(e,t){const n=Mt(t,e),r=n[1];(function Lv(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),_c(r,n,n[8])}function md(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function of(e){for(;e;){e[2]|=32;const t=Fl(e);if(si(e)&&!t)return e;e=t}return null}function pg(e){!function af(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=hu(n);if(null!==r){const o=r[1];gv(o,r,o.template,n)}}}(e[8])}function uf(e,t,n){Do(0),t(e,n)}const Uv=(()=>Promise.resolve(null))();function gg(e){return e[7]||(e[7]=[])}function mg(e){return e.cleanup||(e.cleanup=[])}function _g(e,t,n){return(null===e||Dn(e))&&(n=function A(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function yg(e,t){const n=e[9],r=n?n.get(Po,null):null;r&&r.handleError(t)}function vg(e,t,n,r,o){for(let u=0;u<n.length;){const h=n[u++],v=n[u++],w=t[h],k=e.data[h];null!==k.setInput?k.setInput(w,o,r,v):w[v]=o}}function tl(e,t,n){const r=M(t,e);!function ac(e,t,n){$n(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function _d(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,u=0;if(null!==t)for(let h=0;h<t.length;h++){const v=t[h];"number"==typeof v?u=v:1==u?o=Me(o,v):2==u&&(r=Me(r,v+": "+t[++h]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Yv(){const e=Lr();ur(Et()[1],e)}function df(e){let t=function Pg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Dn(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Je(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const h=e;h.inputs=hf(e.inputs),h.declaredInputs=hf(e.declaredInputs),h.outputs=hf(e.outputs);const v=o.hostBindings;v&&Xv(e,v);const w=o.viewQuery,k=o.contentQueries;if(w&&qv(e,w),k&&Jv(e,k),ie(e.inputs,o.inputs),ie(e.declaredInputs,o.declaredInputs),ie(e.outputs,o.outputs),Dn(o)&&o.data.animation){const H=e.data;H.animation=(H.animation||[]).concat(o.data.animation)}}const u=o.features;if(u)for(let h=0;h<u.length;h++){const v=u[h];v&&v.ngInherit&&v(e),v===df&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Qv(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Kr(o.hostAttrs,n=Kr(n,o.hostAttrs))}}(r)}function hf(e){return e===Cn?{}:e===St?[]:e}function qv(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function Jv(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,u)=>{t(r,o,u),n(r,o,u)}:t}function Xv(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}let yd=null;function Vl(){if(!yd){const e=Oe.Symbol;if(e&&e.iterator)yd=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(yd=r)}}}return yd}function yc(e){return!!ff(e)&&(Array.isArray(e)||!(e instanceof Map)&&Vl()in e)}function ff(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function no(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function pf(e,t,n,r){const o=Et();return no(o,_i(),t)&&(xn(),Pa(Ot(),o,e,t,n,r)),pf}function bu(e,t,n,r){return no(e,_i(),n)?t+Ue(n)+r:ar}function jg(e,t,n,r,o,u,h,v){const w=Et(),k=xn(),H=e+22,q=k.firstCreatePass?function oE(e,t,n,r,o,u,h,v,w){const k=t.consts,H=Du(t,e,4,h||null,Pn(k,v));nf(t,n,H,Pn(k,w)),ur(t,H);const q=H.tViews=gd(2,H,r,o,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,k);return null!==t.queries&&(t.queries.template(t,H),q.queries=t.queries.embeddedTView(H)),H}(H,k,w,t,n,r,o,u,h):k.data[H];ei(q,!1);const we=w[11].createComment("");mu(k,w,we,q),Ds(we,w),md(w,w[H]=fg(we,w,we,q)),Zr(q)&&ef(k,w,q),null!=h&&tf(w,q,v)}function Hg(e){return function mt(e,t){return e[t]}(function zo(){return Nt.lFrame.contextLView}(),22+e)}function gf(e,t,n){const r=Et();return no(r,_i(),t)&&Ho(xn(),Ot(),r,e,t,r[11],n,!1),gf}function mf(e,t,n,r,o){const h=o?"class":"style";vg(e,n,t.inputs[h],h,r)}function Ed(e,t,n,r){const o=Et(),u=xn(),h=22+e,v=o[11],w=o[h]=lc(v,t,function An(){return Nt.lFrame.currentNamespace}()),k=u.firstCreatePass?function lE(e,t,n,r,o,u,h){const v=t.consts,k=Du(t,e,2,o,Pn(v,u));return nf(t,n,k,Pn(v,h)),null!==k.attrs&&_d(k,k.attrs,!1),null!==k.mergedAttrs&&_d(k,k.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,k),k}(h,u,o,0,t,n,r):u.data[h];ei(k,!0);const H=k.mergedAttrs;null!==H&&$t(v,w,H);const q=k.classes;null!==q&&Xa(v,w,q);const we=k.styles;return null!==we&&pc(v,w,we),64!=(64&k.flags)&&mu(u,o,w,k),0===function Bi(){return Nt.lFrame.elementDepthCount}()&&Ds(w,o),function Ti(){Nt.lFrame.elementDepthCount++}(),Zr(k)&&(ef(u,o,k),ng(u,k,o)),null!==r&&tf(o,k),Ed}function Cd(){let e=Lr();ji()?so():(e=e.parent,ei(e,!1));const t=e;!function Vi(){Nt.lFrame.elementDepthCount--}();const n=xn();return n.firstCreatePass&&(ur(n,e),Ht(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ls(e){return 0!=(16&e.flags)}(t)&&mf(n,t,Et(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ao(e){return 0!=(32&e.flags)}(t)&&mf(n,t,Et(),t.stylesWithoutHost,!1),Cd}function _f(e,t,n,r){return Ed(e,t,n,r),Cd(),_f}function Dd(e,t,n){const r=Et(),o=xn(),u=e+22,h=o.firstCreatePass?function uE(e,t,n,r,o){const u=t.consts,h=Pn(u,r),v=Du(t,e,8,"ng-container",h);return null!==h&&_d(v,h,!0),nf(t,n,v,Pn(u,o)),null!==t.queries&&t.queries.elementStart(t,v),v}(u,o,r,t,n):o.data[u];ei(h,!0);const v=r[u]=r[11].createComment("");return mu(o,r,v,h),Ds(v,r),Zr(h)&&(ef(o,r,h),ng(o,h,r)),null!=n&&tf(r,h),Dd}function wd(){let e=Lr();const t=xn();return ji()?so():(e=e.parent,ei(e,!1)),t.firstCreatePass&&(ur(t,e),Ht(e)&&t.queries.elementEnd(e)),wd}function yf(e,t,n){return Dd(e,t,n),wd(),yf}function $g(){return Et()}function vf(e){return!!e&&"function"==typeof e.then}function Wg(e){return!!e&&"function"==typeof e.subscribe}const zg=Wg;function Ef(e,t,n,r){const o=Et(),u=xn(),h=Lr();return Gg(u,o,o[11],h,e,t,!!n,r),Ef}function Cf(e,t){const n=Lr(),r=Et(),o=xn();return Gg(o,r,_g(Co(o.data),n,r),n,e,t,!1),Cf}function Gg(e,t,n,r,o,u,h,v){const w=Zr(r),H=e.firstCreatePass&&mg(e),q=t[8],we=gg(t);let Ge=!0;if(3&r.type||v){const Gt=z(r,t),sn=v?v(Gt):Gt,Hn=we.length,Rt=v?Nn=>v(Ar(Nn[r.index])):r.index;if($n(n)){let Nn=null;if(!v&&w&&(Nn=function cE(e,t,n,r){const o=e.cleanup;if(null!=o)for(let u=0;u<o.length-1;u+=2){const h=o[u];if(h===n&&o[u+1]===r){const v=t[7],w=o[u+2];return v.length>w?v[w]:null}"string"==typeof h&&(u+=2)}return null}(e,t,o,r.index)),null!==Nn)(Nn.__ngLastListenerFn__||Nn).__ngNextListenerFn__=u,Nn.__ngLastListenerFn__=u,Ge=!1;else{u=Df(r,t,q,u,!1);const Br=n.listen(sn,o,u);we.push(u,Br),H&&H.push(o,Rt,Hn,Hn+1)}}else u=Df(r,t,q,u,!0),sn.addEventListener(o,u,h),we.push(u),H&&H.push(o,Rt,Hn,h)}else u=Df(r,t,q,u,!1);const yt=r.outputs;let Lt;if(Ge&&null!==yt&&(Lt=yt[o])){const Gt=Lt.length;if(Gt)for(let sn=0;sn<Gt;sn+=2){const vi=t[Lt[sn]][Lt[sn+1]].subscribe(u),zl=we.length;we.push(u,vi),H&&H.push(o,r.index,zl,-(zl+1))}}}function Kg(e,t,n,r){try{return!1!==n(r)}catch(o){return yg(e,o),!1}}function Df(e,t,n,r,o){return function u(h){if(h===Function)return r;of(2&e.flags?Mt(e.index,t):t);let w=Kg(t,0,r,h),k=u.__ngNextListenerFn__;for(;k;)w=Kg(t,0,k,h)&&w,k=k.__ngNextListenerFn__;return o&&!1===w&&(h.preventDefault(),h.returnValue=!1),w}}function Zg(e=1){return function pe(e){return(Nt.lFrame.contextLView=function ye(e,t){for(;e>0;)t=t[15],e--;return t}(e,Nt.lFrame.contextLView))[8]}(e)}function dE(e,t){let n=null;const r=function od(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const u=t[o];if("*"!==u){if(null===r?sd(e,u,!0):ad(r,u))return o}else n=o}return n}function Yg(e){const t=Et()[16][6];if(!t.projection){const r=t.projection=Zs(e?e.length:1,null),o=r.slice();let u=t.child;for(;null!==u;){const h=e?dE(u,e):0;null!==h&&(o[h]?o[h].projectionNext=u:r[h]=u,o[h]=u),u=u.next}}}function Qg(e,t=0,n){const r=Et(),o=xn(),u=Du(o,22+e,16,null,n||null);null===u.projection&&(u.projection=t),so(),64!=(64&u.flags)&&function Eh(e,t,n){fc(t[11],0,t,n,_h(e,n,t),ca(n.parent||t[6],n,t))}(o,r,u)}function wf(e,t,n){return If(e,"",t,"",n),wf}function If(e,t,n,r,o){const u=Et(),h=bu(u,t,n,r);return h!==ar&&Ho(xn(),Ot(),u,e,h,u[11],o,!1),If}function sm(e,t,n,r,o){const u=e[n+1],h=null===t;let v=r?ha(u):el(u),w=!1;for(;0!==v&&(!1===w||h);){const H=e[v+1];pE(e[v],t)&&(w=!0,e[v+1]=r?Wh(H):Hh(H)),v=r?ha(H):el(H)}w&&(e[n+1]=r?Hh(u):Wh(u))}function pE(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ys(e,t)>=0}const ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function om(e){return e.substring(ws.key,ws.keyEnd)}function am(e,t){const n=ws.textEnd;return n===t?-1:(t=ws.keyEnd=function yE(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ws.key=t,n),xu(e,t,n))}function xu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Tf(e,t,n){return pa(e,t,n,!1),Tf}function bf(e,t){return pa(e,t,null,!0),bf}function xa(e,t){for(let n=function mE(e){return function um(e){ws.key=0,ws.keyEnd=0,ws.value=0,ws.valueEnd=0,ws.textEnd=e.length}(e),am(e,xu(e,0,ws.textEnd))}(t);n>=0;n=am(t,n))Xi(e,om(t),!0)}function pa(e,t,n,r){const o=Et(),u=xn(),h=as(2);u.firstUpdatePass&&fm(u,e,h,r),t!==ar&&no(o,h,t)&&gm(u,u.data[Le()],o,o[11],e,o[h+1]=function RE(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ee(Bo(e)))),e}(t,n),r,h)}function hm(e,t){return t>=e.expandoStartIndex}function fm(e,t,n,r){const o=e.data;if(null===o[n+1]){const u=o[Le()],h=hm(e,n);_m(u,r)&&null===t&&!h&&(t=!1),t=function wE(e,t,n,r){const o=Co(e);let u=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Ec(n=Sf(null,e,t,n,r),t.attrs,r),u=null);else{const h=t.directiveStylingLast;if(-1===h||e[h]!==o)if(n=Sf(o,e,t,n,r),null===u){let w=function IE(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==el(r))return e[ha(r)]}(e,t,r);void 0!==w&&Array.isArray(w)&&(w=Sf(null,e,t,w[1],r),w=Ec(w,t.attrs,r),function TE(e,t,n,r){e[ha(n?t.classBindings:t.styleBindings)]=r}(e,t,r,w))}else u=function bE(e,t,n){let r;const o=t.directiveEnd;for(let u=1+t.directiveStylingLast;u<o;u++)r=Ec(r,e[u].hostAttrs,n);return Ec(r,t.attrs,n)}(e,t,r)}return void 0!==u&&(r?t.residualClasses=u:t.residualStyles=u),n}(o,u,t,r),function hE(e,t,n,r,o,u){let h=u?t.classBindings:t.styleBindings,v=ha(h),w=el(h);e[r]=n;let H,k=!1;if(Array.isArray(n)){const q=n;H=q[1],(null===H||Ys(q,H)>0)&&(k=!0)}else H=n;if(o)if(0!==w){const we=ha(e[v+1]);e[r+1]=hd(we,v),0!==we&&(e[we+1]=$h(e[we+1],r)),e[v+1]=function nv(e,t){return 131071&e|t<<17}(e[v+1],r)}else e[r+1]=hd(v,0),0!==v&&(e[v+1]=$h(e[v+1],r)),v=r;else e[r+1]=hd(w,0),0===v?v=r:e[w+1]=$h(e[w+1],r),w=r;k&&(e[r+1]=Hh(e[r+1])),sm(e,H,r,!0),sm(e,H,r,!1),function fE(e,t,n,r,o){const u=o?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof t&&Ys(u,t)>=0&&(n[r+1]=Wh(n[r+1]))}(t,H,e,r,u),h=hd(v,w),u?t.classBindings=h:t.styleBindings=h}(o,u,t,n,h,r)}}function Sf(e,t,n,r,o){let u=null;const h=n.directiveEnd;let v=n.directiveStylingLast;for(-1===v?v=n.directiveStart:v++;v<h&&(u=t[v],r=Ec(r,u.hostAttrs,o),u!==e);)v++;return null!==e&&(n.directiveStylingLast=v),r}function Ec(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let u=0;u<t.length;u++){const h=t[u];"number"==typeof h?o=h:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Xi(e,h,!!n||t[++u]))}return void 0===e?null:e}function gm(e,t,n,r,o,u,h,v){if(!(3&t.type))return;const w=e.data,k=w[v+1];Id(function Gp(e){return 1==(1&e)}(k)?mm(w,t,n,o,el(k),h):void 0)||(Id(u)||function zp(e){return 2==(2&e)}(k)&&(u=mm(w,null,n,o,v,h)),function ed(e,t,n,r,o){const u=$n(e);if(t)o?u?e.addClass(n,r):n.classList.add(r):u?e.removeClass(n,r):n.classList.remove(r);else{let h=-1===r.indexOf("-")?void 0:Jo.DashCase;if(null==o)u?e.removeStyle(n,r,h):n.style.removeProperty(r);else{const v="string"==typeof o&&o.endsWith("!important");v&&(o=o.slice(0,-10),h|=Jo.Important),u?e.setStyle(n,r,o,h):n.style.setProperty(r,o,v?"important":"")}}}(r,h,M(Le(),n),o,u))}function mm(e,t,n,r,o,u){const h=null===t;let v;for(;o>0;){const w=e[o],k=Array.isArray(w),H=k?w[1]:w,q=null===H;let we=n[o+1];we===ar&&(we=q?St:void 0);let Ge=q?To(we,r):H===r?we:void 0;if(k&&!Id(Ge)&&(Ge=To(w,r)),Id(Ge)&&(v=Ge,h))return v;const yt=e[o+1];o=h?ha(yt):el(yt)}if(null!==t){let w=u?t.residualClasses:t.residualStyles;null!=w&&(v=To(w,r))}return v}function Id(e){return void 0!==e}function _m(e,t){return 0!=(e.flags&(t?16:32))}function ym(e,t=""){const n=Et(),r=xn(),o=e+22,u=r.firstCreatePass?Du(r,o,1,t,null):r.data[o],h=n[o]=function oc(e,t){return $n(e)?e.createText(t):e.createTextNode(t)}(n[11],t);mu(r,n,h,u),ei(u,!1)}function Af(e){return Td("",e,""),Af}function Td(e,t,n){const r=Et(),o=bu(r,e,t,n);return o!==ar&&tl(r,Le(),o),Td}function Sm(e,t,n){!function ga(e,t,n,r){const o=xn(),u=as(2);o.firstUpdatePass&&fm(o,null,u,r);const h=Et();if(n!==ar&&no(h,u,n)){const v=o.data[Le()];if(_m(v,r)&&!hm(o,u)){let w=r?v.classesWithoutHost:v.stylesWithoutHost;null!==w&&(n=Me(w,n||"")),mf(o,v,h,n,r)}else!function AE(e,t,n,r,o,u,h,v){o===ar&&(o=St);let w=0,k=0,H=0<o.length?o[0]:null,q=0<u.length?u[0]:null;for(;null!==H||null!==q;){const we=w<o.length?o[w+1]:void 0,Ge=k<u.length?u[k+1]:void 0;let Lt,yt=null;H===q?(w+=2,k+=2,we!==Ge&&(yt=q,Lt=Ge)):null===q||null!==H&&H<q?(w+=2,yt=H):(k+=2,yt=q,Lt=Ge),null!==yt&&gm(e,t,n,r,yt,Lt,h,v),H=w<o.length?o[w]:null,q=k<u.length?u[k]:null}}(o,v,h,h[11],h[u+1],h[u+1]=function SE(e,t,n){if(null==n||""===n)return St;const r=[],o=Bo(n);if(Array.isArray(o))for(let u=0;u<o.length;u++)e(r,o[u],!0);else if("object"==typeof o)for(const u in o)o.hasOwnProperty(u)&&e(r,u,o[u]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,u)}}(Xi,xa,bu(Et(),e,t,n),!0)}function Rf(e,t,n){const r=Et();return no(r,_i(),t)&&Ho(xn(),Ot(),r,e,t,r[11],n,!0),Rf}function Mf(e,t,n){const r=Et();if(no(r,_i(),t)){const u=xn(),h=Ot();Ho(u,h,r,e,t,_g(Co(u.data),h,r),n,!0)}return Mf}const Hl=void 0;var ZE=["en",[["a","p"],["AM","PM"],Hl],[["AM","PM"],Hl,Hl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hl,"{1} 'at' {0}",Hl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KE(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ku={};function Pf(e){const t=function YE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Um(t);if(n)return n;const r=t.split("-")[0];if(n=Um(r),n)return n;if("en"===r)return ZE;throw new Error(`Missing locale data for the locale "${e}".`)}function Fm(e){return Pf(e)[jn.PluralCase]}function Um(e){return e in ku||(ku[e]=Oe.ng&&Oe.ng.common&&Oe.ng.common.locales&&Oe.ng.common.locales[e]),ku[e]}var jn=(()=>((jn=jn||{})[jn.LocaleId=0]="LocaleId",jn[jn.DayPeriodsFormat=1]="DayPeriodsFormat",jn[jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",jn[jn.DaysFormat=3]="DaysFormat",jn[jn.DaysStandalone=4]="DaysStandalone",jn[jn.MonthsFormat=5]="MonthsFormat",jn[jn.MonthsStandalone=6]="MonthsStandalone",jn[jn.Eras=7]="Eras",jn[jn.FirstDayOfWeek=8]="FirstDayOfWeek",jn[jn.WeekendRange=9]="WeekendRange",jn[jn.DateFormat=10]="DateFormat",jn[jn.TimeFormat=11]="TimeFormat",jn[jn.DateTimeFormat=12]="DateTimeFormat",jn[jn.NumberSymbols=13]="NumberSymbols",jn[jn.NumberFormats=14]="NumberFormats",jn[jn.CurrencyCode=15]="CurrencyCode",jn[jn.CurrencySymbol=16]="CurrencySymbol",jn[jn.CurrencyName=17]="CurrencyName",jn[jn.Currencies=18]="Currencies",jn[jn.Directionality=19]="Directionality",jn[jn.PluralCase=20]="PluralCase",jn[jn.ExtraData=21]="ExtraData",jn))();const Lu="en-US";let Bm=Lu;function xf(e,t,n,r,o){if(e=Re(e),Array.isArray(e))for(let u=0;u<e.length;u++)xf(e[u],t,n,r,o);else{const u=xn(),h=Et();let v=Bl(e)?e:Re(e.provide),w=Pp(e);const k=Lr(),H=1048575&k.providerIndexes,q=k.directiveStart,we=k.providerIndexes>>20;if(Bl(e)||!e.multi){const Ge=new Gr(w,o,Cu),yt=Lf(v,t,o?H:H+we,q);-1===yt?(uo(wo(k,h),u,v),kf(u,e,t.length),t.push(v),k.directiveStart++,k.directiveEnd++,o&&(k.providerIndexes+=1048576),n.push(Ge),h.push(Ge)):(n[yt]=Ge,h[yt]=Ge)}else{const Ge=Lf(v,t,H+we,q),yt=Lf(v,t,H,H+we),Lt=Ge>=0&&n[Ge],Gt=yt>=0&&n[yt];if(o&&!Gt||!o&&!Lt){uo(wo(k,h),u,v);const sn=function K0(e,t,n,r,o){const u=new Gr(e,n,Cu);return u.multi=[],u.index=t,u.componentProviders=0,c_(u,o,r&&!n),u}(o?G0:z0,n.length,o,r,w);!o&&Gt&&(n[yt].providerFactory=sn),kf(u,e,t.length,0),t.push(v),k.directiveStart++,k.directiveEnd++,o&&(k.providerIndexes+=1048576),n.push(sn),h.push(sn)}else kf(u,e,Ge>-1?Ge:yt,c_(n[o?yt:Ge],w,!o&&r));!o&&r&&Gt&&n[yt].componentProviders++}}}function kf(e,t,n,r){const o=Bl(t),u=function Ny(e){return!!e.useClass}(t);if(o||u){const w=(u?Re(t.useClass):t).prototype.ngOnDestroy;if(w){const k=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const H=k.indexOf(n);-1===H?k.push(n,[r,w]):k[H+1].push(r,w)}else k.push(n,w)}}}function c_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Lf(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function z0(e,t,n,r){return Ff(this.multi,[])}function G0(e,t,n,r){const o=this.multi;let u;if(this.providerFactory){const h=this.providerFactory.componentProviders,v=x(n,n[1],this.providerFactory.index,r);u=v.slice(0,h),Ff(o,u);for(let w=h;w<v.length;w++)u.push(v[w])}else u=[],Ff(o,u);return u}function Ff(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function d_(e,t=[]){return n=>{n.providersResolver=(r,o)=>function W0(e,t,n){const r=xn();if(r.firstCreatePass){const o=Dn(e);xf(n,r.data,r.blueprint,o,!0),xf(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class Y0{resolveComponentFactory(t){throw function Z0(e){const t=Error(`No component factory found for ${Ee(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Tc=(()=>{class e{}return e.NULL=new Y0,e})();class $l{}class f_{}class p_{}function q0(){return Uu(Lr(),Et())}function Uu(e,t){return new bc(z(e,t))}let bc=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=q0,e})();function J0(e){return e instanceof bc?e.nativeElement:e}class g_{}let X0=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function tC(){const e=Et(),n=Mt(Lr().index,e);return function eC(e){return e[11]}(lt(n)?n:e)}(),e})(),nC=(()=>{class e{}return e.\u0275prov=tn({token:e,providedIn:"root",factory:()=>null}),e})();class m_{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const __=new m_("14.0.3"),Uf={};function Md(e,t,n,r,o=!1){for(;null!==n;){const u=t[n.index];if(null!==u&&r.push(Ar(u)),Ct(u))for(let v=10;v<u.length;v++){const w=u[v],k=w[1].firstChild;null!==k&&Md(w[1],w,k,r)}const h=n.type;if(8&h)Md(e,t,n.child,r);else if(32&h){const v=rc(n,t);let w;for(;w=v();)r.push(w)}else if(16&h){const v=qc(t,n);if(Array.isArray(v))r.push(...v);else{const w=Fl(t[16]);Md(w[1],w,v,r,!0)}}n=o?n.projectionNext:n.next}return r}class Sc{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Md(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ct(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(uc(t,r),po(n,r))}this._attachedToViewContainer=!1}Gc(this._lView[1],this._lView)}onDestroy(t){og(this._lView[1],this._lView,null,t)}markForCheck(){of(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function lf(e,t,n){const r=t[10];r.begin&&r.begin();try{Iu(e,t,e.template,n)}catch(o){throw yg(t,o),o}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hh(e,t){Ul(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=t}}class rC extends Sc{constructor(t){super(t),this._view=t}detectChanges(){pg(this._view)}checkNoChanges(){}get context(){return null}}class Bf extends Tc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=oe(t);return new Vf(n,this.ngModule)}}function y_(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class sC{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const o=this.injector.get(t,Uf,r);return o!==Uf||n===Uf?o:this.parentInjector.get(t,n,r)}}class Vf extends p_{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Sh(e){return e.map(bh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return y_(this.componentDef.inputs)}get outputs(){return y_(this.componentDef.outputs)}create(t,n,r,o){let u=(o=o||this.ngModule)instanceof yu?o:o?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const h=u?new sC(t,u):t,v=h.get(g_,Yi),w=h.get(nC,null),k=v.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",q=r?function sg(e,t,n){if($n(e))return e.selectRootElement(t,n===ot.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(k,r,this.componentDef.encapsulation):lc(v.createRenderer(null,this.componentDef),H,function iC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(H)),we=this.componentDef.onPush?288:272,Ge=function Mg(e,t){return{components:[],scheduler:e||ih,clean:Uv,playerHandler:t||null,flags:0}}(),yt=gd(0,null,null,1,0,null,null,null,null,null),Lt=mc(null,yt,Ge,we,null,null,v,k,w,h,null);let Gt,sn;F(Lt);try{const Hn=function Ag(e,t,n,r,o,u){const h=n[1];n[22]=e;const w=Du(h,22,2,"#host",null),k=w.mergedAttrs=t.hostAttrs;null!==k&&(_d(w,k,!0),null!==e&&($t(o,e,k),null!==w.classes&&Xa(o,e,w.classes),null!==w.styles&&pc(o,e,w.styles)));const H=r.createRenderer(e,t),q=mc(n,rg(t),null,t.onPush?32:16,n[22],w,r,H,u||null,null,null);return h.firstCreatePass&&(uo(wo(w,n),h,t.type),cg(h,w),dg(w,n.length,1)),md(n,q),n[22]=q}(q,this.componentDef,Lt,v,k);if(q)if(r)$t(k,q,["ng-version",__.full]);else{const{attrs:Rt,classes:Nn}=function Ah(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let u=e[r];if("string"==typeof u)2===o?""!==u&&t.push(u,e[++r]):8===o&&n.push(u);else{if(!jo(o))break;o=u}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Rt&&$t(k,q,Rt),Nn&&Nn.length>0&&Xa(k,q,Nn.join(" "))}if(sn=it(yt,22),void 0!==n){const Rt=sn.projection=[];for(let Nn=0;Nn<this.ngContentSelectors.length;Nn++){const Br=n[Nn];Rt.push(null!=Br?Array.from(Br):null)}}Gt=function Rg(e,t,n,r,o){const u=n[1],h=function Dv(e,t,n){const r=Lr();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),hg(e,r,t,wu(e,t,1,null),n));const o=x(t,e,r.directiveStart,r);Ds(o,t);const u=z(r,t);return u&&Ds(u,t),o}(u,n,t);if(r.components.push(h),e[8]=h,null!==o)for(const w of o)w(h,t);if(t.contentQueries){const w=Lr();t.contentQueries(1,h,w.directiveStart)}const v=Lr();return!u.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ct(v.index),lg(n[1],v,0,v.directiveStart,v.directiveEnd,t),ug(t,h)),h}(Hn,this.componentDef,Lt,Ge,[Yv]),_c(yt,Lt,null)}finally{K()}return new aC(this.componentType,Gt,Uu(sn,Lt),Lt,sn)}}class aC extends class Q0{}{constructor(t,n,r,o,u){super(),this.location=r,this._rootLView=o,this._tNode=u,this.instance=n,this.hostView=this.changeDetectorRef=new rC(o),this.componentType=t}get injector(){return new dt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function lC(e,t){return new v_(e,t??null)}class v_ extends $l{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bf(this);const r=At(t);this._bootstrapComponents=ua(r.bootstrap),this._r3Injector=Op(t,n,[{provide:$l,useValue:this},{provide:Tc,useValue:this.componentFactoryResolver}],Ee(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(t)}get(t,n=Ma.THROW_IF_NOT_FOUND,r=Pt.Default){return t===Ma||t===$l||t===Rh?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class jf extends f_{constructor(t){super(),this.moduleType=t}create(t){return new v_(this.moduleType,t)}}class uC extends $l{constructor(t,n,r){super(),this.componentFactoryResolver=new Bf(this),this.instance=null;const o=new Mp([...t,{provide:$l,useValue:this},{provide:Tc,useValue:this.componentFactoryResolver}],n||Nh(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Hf(e,t=null,n=null){return new uC(e,t,n).injector}function $f(e){return t=>{setTimeout(e,void 0,t)}}const ka=class MC extends D.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,u=n||(()=>null),h=r;if(t&&"object"==typeof t){const w=t;o=w.next?.bind(w),u=w.error?.bind(w),h=w.complete?.bind(w)}this.__isAsync&&(u=$f(u),o&&(o=$f(o)),h&&(h=$f(h)));const v=super.subscribe({next:o,error:u,complete:h});return t instanceof T.w0&&t.add(v),v}};function PC(){return this._results[Vl()]()}class Pd{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Vl(),r=Pd.prototype;r[n]||(r[n]=PC)}get changes(){return this._changes||(this._changes=new ka)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=Si(t);(this._changesDetected=!function Tl(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],u=t[r];if(n&&(o=n(o),u=n(u)),u!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mc=(()=>{class e{}return e.__NG_ELEMENT_ID__=xC,e})();const NC=Mc,OC=class extends NC{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,o=mc(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);o[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(o[19]=h.createEmbeddedView(r)),_c(r,o,t),new Sc(o)}};function xC(){return Nd(Lr(),Et())}function Nd(e,t){return 4&e.type?new OC(t,e,Uu(e,t)):null}let Od=(()=>{class e{}return e.__NG_ELEMENT_ID__=kC,e})();function kC(){return S_(Lr(),Et())}const LC=Od,T_=class extends LC{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Uu(this._hostTNode,this._hostLView)}get injector(){return new dt(this._hostTNode,this._hostLView)}get parentInjector(){const t=cs(this._hostTNode,this._hostLView);if(yr(t)){const n=_s(t,this._hostLView),r=ci(t);return new dt(n[1].data[r+8],n)}return new dt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=b_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let o,u;"number"==typeof r?o=r:null!=r&&(o=r.index,u=r.injector);const h=t.createEmbeddedView(n||{},u);return this.insert(h,o),h}createComponent(t,n,r,o,u){const h=t&&!function Io(e){return"function"==typeof e}(t);let v;if(h)v=n;else{const q=n||{};v=q.index,r=q.injector,o=q.projectableNodes,u=q.environmentInjector||q.ngModuleRef}const w=h?t:new Vf(oe(t)),k=r||this.parentInjector;if(!u&&null==w.ngModule){const we=(h?k:this.parentInjector).get(yu,null);we&&(u=we)}const H=w.create(k,o,void 0,u);return this.insert(H.hostView,v),H}insert(t,n){const r=t._lView,o=r[1];if(function _r(e){return Ct(e[3])}(r)){const H=this.indexOf(t);if(-1!==H)this.detach(H);else{const q=r[3],we=new T_(q,q[6],q[3]);we.detach(we.indexOf(t))}}const u=this._adjustIndex(n),h=this._lContainer;!function ph(e,t,n,r){const o=10+r,u=n.length;r>0&&(n[o-1][4]=t),r<u-10?(t[4]=n[o],Ks(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const h=t[17];null!==h&&n!==h&&function gh(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(h,t);const v=t[19];null!==v&&v.insertView(e),t[2]|=64}(o,r,h,u);const v=Xo(u,h),w=r[11],k=gu(w,h[7]);return null!==k&&function dh(e,t,n,r,o,u){r[0]=o,r[6]=t,Ul(e,r,n,1,o,u)}(o,h[6],w,r,k,v),t.attachToViewContainerRef(),Ks(Wf(h),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=b_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=uc(this._lContainer,n);r&&(po(Wf(this._lContainer),n),Gc(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=uc(this._lContainer,n);return r&&null!=po(Wf(this._lContainer),n)?new Sc(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function b_(e){return e[8]}function Wf(e){return e[8]||(e[8]=[])}function S_(e,t){let n;const r=t[e.index];if(Ct(r))n=r;else{let o;if(8&e.type)o=Ar(r);else{const u=t[11];o=u.createComment("");const h=z(e,t);qa(u,gu(u,h),o,function vh(e,t){return $n(e)?e.nextSibling(t):t.nextSibling}(u,h),!1)}t[e.index]=n=fg(r,t,o,e),md(t,n)}return new T_(n,e,t)}class zf{constructor(t){this.queryList=t,this.matches=null}clone(){return new zf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let u=0;u<r;u++){const h=n.getByIndex(u);o.push(this.queries[h.indexInDeclarationView].clone())}return new Gf(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==L_(t,n).matches&&this.queries[n].setDirty()}}class A_{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Kf{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,u=this.getByIndex(r).embeddedTView(t,o);u&&(u.indexInDeclarationView=r,null!==n?n.push(u):n=[u])}return null!==n?new Kf(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Zf{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Zf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const u=r[o];this.matchTNodeWithReadOption(t,n,BC(n,u)),this.matchTNodeWithReadOption(t,n,S(n,t,u,!1,!1))}else r===Mc?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,S(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===bc||o===Od||o===Mc&&4&n.type)this.addMatch(n.index,-2);else{const u=S(n,t,o,!1,!1);null!==u&&this.addMatch(n.index,u)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function BC(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function jC(e,t,n,r){return-1===n?function VC(e,t){return 11&e.type?Uu(e,t):4&e.type?Nd(e,t):null}(t,e):-2===n?function HC(e,t,n){return n===bc?Uu(t,e):n===Mc?Nd(t,e):n===Od?S_(t,e):void 0}(e,t,r):x(e,e[1],n,t)}function R_(e,t,n,r){const o=t[19].queries[r];if(null===o.matches){const u=e.data,h=n.matches,v=[];for(let w=0;w<h.length;w+=2){const k=h[w];v.push(k<0?null:jC(t,u[k],h[w+1],n.metadata.read))}o.matches=v}return o.matches}function Yf(e,t,n,r){const o=e.queries.getByIndex(n),u=o.matches;if(null!==u){const h=R_(e,t,o,n);for(let v=0;v<u.length;v+=2){const w=u[v];if(w>0)r.push(h[v/2]);else{const k=u[v+1],H=t[-w];for(let q=10;q<H.length;q++){const we=H[q];we[17]===we[3]&&Yf(we[1],we,k,r)}if(null!==H[9]){const q=H[9];for(let we=0;we<q.length;we++){const Ge=q[we];Yf(Ge[1],Ge,k,r)}}}}}return r}function M_(e){const t=Et(),n=xn(),r=xs();Do(r+1);const o=L_(n,r);if(e.dirty&&fr(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const u=o.crossesNgTemplate?Yf(n,t,r,[]):R_(n,t,o,r);e.reset(u,J0),e.notifyOnChanges()}return!0}return!1}function P_(e,t,n){const r=xn();r.firstCreatePass&&(k_(r,new A_(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),x_(r,Et(),t)}function N_(e,t,n,r){const o=xn();if(o.firstCreatePass){const u=Lr();k_(o,new A_(t,n,r),u.index),function WC(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}x_(o,Et(),n)}function O_(){return function $C(e,t){return e[19].queries[t].queryList}(Et(),xs())}function x_(e,t,n){const r=new Pd(4==(4&n));og(e,t,r,r.destroy),null===t[19]&&(t[19]=new Gf),t[19].queries.push(new zf(r))}function k_(e,t,n){null===e.queries&&(e.queries=new Kf),e.queries.track(new Zf(t,n))}function L_(e,t){return e.queries.getByIndex(t)}function Vu(e){const t=oe(e)||ce(e)||Xe(e);return null!==t&&t.standalone}function kd(...e){}const ty=new Hr("Application Initializer");let Ld=(()=>{class e{constructor(n){this.appInits=n,this.resolve=kd,this.reject=kd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const u=this.appInits[o]();if(vf(u))n.push(u);else if(zg(u)){const h=new Promise((v,w)=>{u.subscribe({complete:v,error:w})});n.push(h)}}Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(un(ty,8))},e.\u0275prov=tn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ny=new Hr("AppId",{providedIn:"root",factory:function ry(){return`${ep()}${ep()}${ep()}`}});function ep(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iy=new Hr("Platform Initializer"),dD=new Hr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sy=new Hr("appBootstrapListener"),hD=new Hr("AnimationModuleType");let fD=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=tn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Fd=new Hr("LocaleId",{providedIn:"root",factory:()=>di(Fd,Pt.Optional|Pt.SkipSelf)||function pD(){return typeof $localize<"u"&&$localize.locale||Lu}()}),gD=new Hr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mD{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let _D=(()=>{class e{compileModuleSync(n){return new jf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),u=ua(At(n).declarations).reduce((h,v)=>{const w=oe(v);return w&&h.push(new Vf(w)),h},[]);return new mD(r,u)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=tn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const vD=(()=>Promise.resolve(0))();function tp(e){typeof Zone>"u"?vD.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class $o{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ka(!1),this.onMicrotaskEmpty=new ka(!1),this.onStable=new ka(!1),this.onError=new ka(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function ED(){let e=Oe.requestAnimationFrame,t=Oe.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function wD(e){const t=()=>{!function DD(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Oe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,rp(e),e.isCheckStableRunning=!0,np(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),rp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,u,h,v)=>{try{return oy(e),n.invokeTask(o,u,h,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),ay(e)}},onInvoke:(n,r,o,u,h,v,w)=>{try{return oy(e),n.invoke(o,u,h,v,w)}finally{e.shouldCoalesceRunChangeDetection&&t(),ay(e)}},onHasTask:(n,r,o,u)=>{n.hasTask(o,u),r===o&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,rp(e),np(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,r,o,u)=>(n.handleError(o,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$o.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($o.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const u=this._inner,h=u.scheduleEventTask("NgZoneEvent: "+o,t,CD,kd,kd);try{return u.runTask(h,n,r)}finally{u.cancelTask(h)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const CD={};function np(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function rp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function oy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ay(e){e._nesting--,np(e)}class ID{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ka,this.onMicrotaskEmpty=new ka,this.onStable=new ka,this.onError=new ka}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const ly=new Hr(""),uy=new Hr("");let ip,TD=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ip||(function bD(e){ip=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$o.assertNotInAngularZone(),tp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tp(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==u),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:u,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(un($o),un(cy),un(uy))},e.\u0275prov=tn({token:e,factory:e.\u0275fac}),e})(),cy=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ip?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=tn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Dl=null;const dy=new Hr("AllowMultipleToken"),hy=new Hr("PlatformOnDestroy");class RD{constructor(t,n){this.name=t,this.token=n}}function py(e,t,n=[]){const r=`Platform: ${t}`,o=new Hr(r);return(u=[])=>{let h=sp();if(!h||h.injector.get(dy,!1)){const v=[...n,...u,{provide:o,useValue:!0}];e?e(v):function MD(e){if(Dl&&!Dl.get(dy,!1))throw new Je(400,!1);Dl=e;const t=e.get(my);(function fy(e){const t=e.get(iy,null);t&&t.forEach(n=>n())})(e)}(function gy(e=[],t){return Ma.create({name:t,providers:[{provide:Mh,useValue:"platform"},{provide:hy,useValue:()=>Dl=null},...e]})}(v,r))}return function ND(e){const t=sp();if(!t)throw new Je(401,!1);return t}()}}function sp(){return Dl?.get(my)??null}let my=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function OD(e,t){let n;return n="noop"===e?new ID:("zone.js"===e?void 0:e)||new $o(t),n}(r?.ngZone,function _y(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),u=[{provide:$o,useValue:o}];return o.run(()=>{const h=Ma.create({providers:u,parent:this.injector,name:n.moduleType.name}),v=n.create(h),w=v.injector.get(Po,null);if(!w)throw new Je(402,!1);return o.runOutsideAngular(()=>{const k=o.onError.subscribe({next:H=>{w.handleError(H)}});v.onDestroy(()=>{Bd(this._modules,v),k.unsubscribe()})}),function yy(e,t,n){try{const r=n();return vf(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(w,o,()=>{const k=v.injector.get(Ld);return k.runInitializers(),k.donePromise.then(()=>(function Vm(e){Wt(e,"Expected localeId to be defined"),"string"==typeof e&&(Bm=e.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Fd,Lu)||Lu),this._moduleDoBootstrap(v),v))})})}bootstrapModule(n,r=[]){const o=vy({},r);return function SD(e,t,n){const r=new jf(n);return Promise.resolve(r)}(0,0,n).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(n){const r=n.injector.get(Ud);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Je(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._injector.get(hy,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(un(Ma))},e.\u0275prov=tn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function vy(e,t){return Array.isArray(t)?t.reduce(vy,e):{...e,...t}}let Ud=(()=>{class e{constructor(n,r,o,u){this._zone=n,this._injector=r,this._exceptionHandler=o,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new U.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new U.y(w=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{$o.assertNotInAngularZone(),tp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{$o.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{k.unsubscribe(),H.unsubscribe()}});this.isStable=(0,de.T)(h,v.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof p_;if(!this._initStatus.done)throw!o&&Vu(n),new Je(405,false);let u;u=o?n:this._injector.get(Tc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const h=function AD(e){return e.isBoundToModule}(u)?void 0:this._injector.get($l),w=u.create(Ma.NULL,[],r||u.selector,h),k=w.location.nativeElement,H=w.injector.get(ly,null);return H?.registerApplication(k),w.onDestroy(()=>{this.detachView(w.hostView),Bd(this.components,w),H?.unregisterApplication(k)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Bd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(sy,[]).concat(this._bootstrapListeners).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Je(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(un($o),un(Ma),un(Po),un(Ld))},e.\u0275prov=tn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Bd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Cy=!0,Dy=!1;function kD(){return Dy=!0,Cy}function LD(){if(Dy)throw new Error("Cannot enable prod mode after platform setup.");Cy=!1}let FD=(()=>{class e{}return e.__NG_ELEMENT_ID__=UD,e})();function UD(e){return function BD(e,t,n){if(nr(e)&&!n){const r=Mt(e.index,t);return new Sc(r,r)}return 47&e.type?new Sc(t[16],t):null}(Lr(),Et(),16==(16&e))}class by{constructor(){}supports(t){return yc(t)}create(t){return new zD(t)}}const WD=(e,t)=>t;class zD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||WD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,u=null;for(;n||r;){const h=!r||n&&n.currentIndex<Ay(r,o,u)?n:r,v=Ay(h,o,u),w=h.currentIndex;if(h===r)o--,r=r._nextRemoved;else if(n=n._next,null==h.previousIndex)o++;else{u||(u=[]);const k=v-o,H=w-o;if(k!=H){for(let we=0;we<k;we++){const Ge=we<u.length?u[we]:u[we]=0,yt=Ge+we;H<=yt&&yt<k&&(u[we]=Ge+1)}u[h.previousIndex]=H-k}}v!==w&&t(h,v,w)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!yc(t))throw new Je(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,u,h,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let v=0;v<this.length;v++)u=t[v],h=this._trackByFn(v,u),null!==n&&Object.is(n.trackById,h)?(r&&(n=this._verifyReinsertion(n,u,h,v)),Object.is(n.item,u)||this._addIdentityChange(n,u)):(n=this._mismatch(n,u,h,v),r=!0),n=n._next}else o=0,function iE(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Vl()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,v=>{h=this._trackByFn(o,v),null!==n&&Object.is(n.trackById,h)?(r&&(n=this._verifyReinsertion(n,v,h,o)),Object.is(n.item,v)||this._addIdentityChange(n,v)):(n=this._mismatch(n,v,h,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let u;return null===t?u=this._itTail:(u=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,u,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,u,o)):t=this._addAfter(new GD(n,r),u,o),t}_verifyReinsertion(t,n,r,o){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==u?t=this._reinsertAfter(u,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,u=t._nextRemoved;return null===o?this._removalsHead=u:o._nextRemoved=u,null===u?this._removalsTail=o:u._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Sy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class GD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Sy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new KD,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ay(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class Ry{constructor(){}supports(t){return t instanceof Map||ff(t)}create(){return new ZD}}class ZD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||ff(t)))throw new Je(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const u=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,u)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const u=o._prev,h=o._next;return u&&(u._next=h),h&&(h._prev=u),o._next=null,o._prev=null,o}const r=new YD(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class YD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function My(){return new cp([new by])}let cp=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||My()),deps:[[e,new Cs,new Es]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Je(901,!1)}}return e.\u0275prov=tn({token:e,providedIn:"root",factory:My}),e})();function Py(){return new dp([new Ry])}let dp=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Py()),deps:[[e,new Cs,new Es]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Je(901,!1)}}return e.\u0275prov=tn({token:e,providedIn:"root",factory:Py}),e})();const JD=py(null,"core",[]);let XD=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(un(Ud))},e.\u0275mod=dn({type:e}),e.\u0275inj=Fn({}),e})();function ew(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},1481:(kt,ke,O)=>{O.d(ke,{Dx:()=>Ie,H7:()=>At,b2:()=>Zt,q6:()=>Pt,se:()=>Ke});var D=O(6895),T=O(4650);class U extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class de extends U{static makeCurrent(){(0,D.HT)(new de)}onAndCancel(ae,X,fe){return ae.addEventListener(X,fe,!1),()=>{ae.removeEventListener(X,fe,!1)}}dispatchEvent(ae,X){ae.dispatchEvent(X)}remove(ae){ae.parentNode&&ae.parentNode.removeChild(ae)}createElement(ae,X){return(X=X||this.getDefaultDocument()).createElement(ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ae){return ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(ae){return ae instanceof DocumentFragment}getGlobalEventTarget(ae,X){return"window"===X?window:"document"===X?ae:"body"===X?ae.body:null}getBaseHref(ae){const X=function Te(){return le=le||document.querySelector("base"),le?le.getAttribute("href"):null}();return null==X?null:function Ee(me){ie=ie||document.createElement("a"),ie.setAttribute("href",me);const ae=ie.pathname;return"/"===ae.charAt(0)?ae:`/${ae}`}(X)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(ae){return(0,D.Mx)(document.cookie,ae)}}let ie,le=null;const Me=new T.OlP("TRANSITION_ID"),te=[{provide:T.ip1,useFactory:function Y(me,ae,X){return()=>{X.get(T.CZH).donePromise.then(()=>{const fe=(0,D.q)(),at=ae.querySelectorAll(`style[ng-transition="${me}"]`);for(let Vt=0;Vt<at.length;Vt++)fe.remove(at[Vt])})}},deps:[Me,D.K0,T.zs3],multi:!0}];let nt=(()=>{class me{build(){return new XMLHttpRequest}}return me.\u0275fac=function(X){return new(X||me)},me.\u0275prov=T.Yz7({token:me,factory:me.\u0275fac}),me})();const ze=new T.OlP("EventManagerPlugins");let Je=(()=>{class me{constructor(X,fe){this._zone=fe,this._eventNameToPlugin=new Map,X.forEach(at=>at.manager=this),this._plugins=X.slice().reverse()}addEventListener(X,fe,at){return this._findPluginFor(fe).addEventListener(X,fe,at)}addGlobalEventListener(X,fe,at){return this._findPluginFor(fe).addGlobalEventListener(X,fe,at)}getZone(){return this._zone}_findPluginFor(X){const fe=this._eventNameToPlugin.get(X);if(fe)return fe;const at=this._plugins;for(let Vt=0;Vt<at.length;Vt++){const Bn=at[Vt];if(Bn.supports(X))return this._eventNameToPlugin.set(X,Bn),Bn}throw new Error(`No event manager plugin found for event ${X}`)}}return me.\u0275fac=function(X){return new(X||me)(T.LFG(ze),T.LFG(T.R0b))},me.\u0275prov=T.Yz7({token:me,factory:me.\u0275fac}),me})();class ft{constructor(ae){this._doc=ae}addGlobalEventListener(ae,X,fe){const at=(0,D.q)().getGlobalEventTarget(this._doc,ae);if(!at)throw new Error(`Unsupported event target ${at} for event ${X}`);return this.addEventListener(at,X,fe)}}let Ue=(()=>{class me{constructor(){this._stylesSet=new Set}addStyles(X){const fe=new Set;X.forEach(at=>{this._stylesSet.has(at)||(this._stylesSet.add(at),fe.add(at))}),this.onStylesAdded(fe)}onStylesAdded(X){}getAllStyles(){return Array.from(this._stylesSet)}}return me.\u0275fac=function(X){return new(X||me)},me.\u0275prov=T.Yz7({token:me,factory:me.\u0275fac}),me})(),$e=(()=>{class me extends Ue{constructor(X){super(),this._doc=X,this._hostNodes=new Map,this._hostNodes.set(X.head,[])}_addStylesToHost(X,fe,at){X.forEach(Vt=>{const Bn=this._doc.createElement("style");Bn.textContent=Vt,at.push(fe.appendChild(Bn))})}addHost(X){const fe=[];this._addStylesToHost(this._stylesSet,X,fe),this._hostNodes.set(X,fe)}removeHost(X){const fe=this._hostNodes.get(X);fe&&fe.forEach(_t),this._hostNodes.delete(X)}onStylesAdded(X){this._hostNodes.forEach((fe,at)=>{this._addStylesToHost(X,at,fe)})}ngOnDestroy(){this._hostNodes.forEach(X=>X.forEach(_t))}}return me.\u0275fac=function(X){return new(X||me)(T.LFG(D.K0))},me.\u0275prov=T.Yz7({token:me,factory:me.\u0275fac}),me})();function _t(me){(0,D.q)().remove(me)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ve=/%COMP%/g;function Ce(me,ae,X){for(let fe=0;fe<ae.length;fe++){let at=ae[fe];Array.isArray(at)?Ce(me,at,X):(at=at.replace(Ve,me),X.push(at))}return X}function Ne(me){return ae=>{if("__ngUnwrap__"===ae)return me;!1===me(ae)&&(ae.preventDefault(),ae.returnValue=!1)}}let Ke=(()=>{class me{constructor(X,fe,at){this.eventManager=X,this.sharedStylesHost=fe,this.appId=at,this.rendererByCompId=new Map,this.defaultRenderer=new Be(X)}createRenderer(X,fe){if(!X||!fe)return this.defaultRenderer;switch(fe.encapsulation){case T.ifc.Emulated:{let at=this.rendererByCompId.get(fe.id);return at||(at=new Wt(this.eventManager,this.sharedStylesHost,fe,this.appId),this.rendererByCompId.set(fe.id,at)),at.applyToHost(X),at}case 1:case T.ifc.ShadowDom:return new ht(this.eventManager,this.sharedStylesHost,X,fe);default:if(!this.rendererByCompId.has(fe.id)){const at=Ce(fe.id,fe.styles,[]);this.sharedStylesHost.addStyles(at),this.rendererByCompId.set(fe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return me.\u0275fac=function(X){return new(X||me)(T.LFG(Je),T.LFG($e),T.LFG(T.AFp))},me.\u0275prov=T.Yz7({token:me,factory:me.\u0275fac}),me})();class Be{constructor(ae){this.eventManager=ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ae,X){return X?document.createElementNS(pt[X]||X,ae):document.createElement(ae)}createComment(ae){return document.createComment(ae)}createText(ae){return document.createTextNode(ae)}appendChild(ae,X){(xt(ae)?ae.content:ae).appendChild(X)}insertBefore(ae,X,fe){ae&&(xt(ae)?ae.content:ae).insertBefore(X,fe)}removeChild(ae,X){ae&&ae.removeChild(X)}selectRootElement(ae,X){let fe="string"==typeof ae?document.querySelector(ae):ae;if(!fe)throw new Error(`The selector "${ae}" did not match any elements`);return X||(fe.textContent=""),fe}parentNode(ae){return ae.parentNode}nextSibling(ae){return ae.nextSibling}setAttribute(ae,X,fe,at){if(at){X=at+":"+X;const Vt=pt[at];Vt?ae.setAttributeNS(Vt,X,fe):ae.setAttribute(X,fe)}else ae.setAttribute(X,fe)}removeAttribute(ae,X,fe){if(fe){const at=pt[fe];at?ae.removeAttributeNS(at,X):ae.removeAttribute(`${fe}:${X}`)}else ae.removeAttribute(X)}addClass(ae,X){ae.classList.add(X)}removeClass(ae,X){ae.classList.remove(X)}setStyle(ae,X,fe,at){at&(T.JOm.DashCase|T.JOm.Important)?ae.style.setProperty(X,fe,at&T.JOm.Important?"important":""):ae.style[X]=fe}removeStyle(ae,X,fe){fe&T.JOm.DashCase?ae.style.removeProperty(X):ae.style[X]=""}setProperty(ae,X,fe){ae[X]=fe}setValue(ae,X){ae.nodeValue=X}listen(ae,X,fe){return"string"==typeof ae?this.eventManager.addGlobalEventListener(ae,X,Ne(fe)):this.eventManager.addEventListener(ae,X,Ne(fe))}}function xt(me){return"TEMPLATE"===me.tagName&&void 0!==me.content}class Wt extends Be{constructor(ae,X,fe,at){super(ae),this.component=fe;const Vt=Ce(at+"-"+fe.id,fe.styles,[]);X.addStyles(Vt),this.contentAttr=function L(me){return"_ngcontent-%COMP%".replace(Ve,me)}(at+"-"+fe.id),this.hostAttr=function Ze(me){return"_nghost-%COMP%".replace(Ve,me)}(at+"-"+fe.id)}applyToHost(ae){super.setAttribute(ae,this.hostAttr,"")}createElement(ae,X){const fe=super.createElement(ae,X);return super.setAttribute(fe,this.contentAttr,""),fe}}class ht extends Be{constructor(ae,X,fe,at){super(ae),this.sharedStylesHost=X,this.hostEl=fe,this.shadowRoot=fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Vt=Ce(at.id,at.styles,[]);for(let Bn=0;Bn<Vt.length;Bn++){const gr=document.createElement("style");gr.textContent=Vt[Bn],this.shadowRoot.appendChild(gr)}}nodeOrShadowRoot(ae){return ae===this.hostEl?this.shadowRoot:ae}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ae,X){return super.appendChild(this.nodeOrShadowRoot(ae),X)}insertBefore(ae,X,fe){return super.insertBefore(this.nodeOrShadowRoot(ae),X,fe)}removeChild(ae,X){return super.removeChild(this.nodeOrShadowRoot(ae),X)}parentNode(ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ae)))}}let hn=(()=>{class me extends ft{constructor(X){super(X)}supports(X){return!0}addEventListener(X,fe,at){return X.addEventListener(fe,at,!1),()=>this.removeEventListener(X,fe,at)}removeEventListener(X,fe,at){return X.removeEventListener(fe,at)}}return me.\u0275fac=function(X){return new(X||me)(T.LFG(D.K0))},me.\u0275prov=T.Yz7({token:me,factory:me.\u0275fac}),me})();const nn=["alt","control","meta","shift"],tn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fn={alt:me=>me.altKey,control:me=>me.ctrlKey,meta:me=>me.metaKey,shift:me=>me.shiftKey};let fn=(()=>{class me extends ft{constructor(X){super(X)}supports(X){return null!=me.parseEventName(X)}addEventListener(X,fe,at){const Vt=me.parseEventName(fe),Bn=me.eventCallback(Vt.fullKey,at,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(X,Vt.domEventName,Bn))}static parseEventName(X){const fe=X.toLowerCase().split("."),at=fe.shift();if(0===fe.length||"keydown"!==at&&"keyup"!==at)return null;const Vt=me._normalizeKey(fe.pop());let Bn="";if(nn.forEach(rn=>{const wr=fe.indexOf(rn);wr>-1&&(fe.splice(wr,1),Bn+=rn+".")}),Bn+=Vt,0!=fe.length||0===Vt.length)return null;const gr={};return gr.domEventName=at,gr.fullKey=Bn,gr}static getEventFullKey(X){let fe="",at=function Pr(me){let ae=me.key;if(null==ae){if(ae=me.keyIdentifier,null==ae)return"Unidentified";ae.startsWith("U+")&&(ae=String.fromCharCode(parseInt(ae.substring(2),16)),3===me.location&&Jt.hasOwnProperty(ae)&&(ae=Jt[ae]))}return tn[ae]||ae}(X);return at=at.toLowerCase()," "===at?at="space":"."===at&&(at="dot"),nn.forEach(Vt=>{Vt!=at&&Fn[Vt](X)&&(fe+=Vt+".")}),fe+=at,fe}static eventCallback(X,fe,at){return Vt=>{me.getEventFullKey(Vt)===X&&at.runGuarded(()=>fe(Vt))}}static _normalizeKey(X){return"esc"===X?"escape":X}}return me.\u0275fac=function(X){return new(X||me)(T.LFG(D.K0))},me.\u0275prov=T.Yz7({token:me,factory:me.\u0275fac}),me})();const Pt=(0,T.eFA)(T._c5,"browser",[{provide:T.Lbi,useValue:D.bD},{provide:T.g9A,useValue:function mr(){de.makeCurrent()},multi:!0},{provide:D.K0,useFactory:function sr(){return(0,T.RDi)(document),document},deps:[]}]),Tn=new T.OlP(""),bn=[{provide:T.rWj,useClass:class Re{addToWindow(ae){T.dqk.getAngularTestability=(fe,at=!0)=>{const Vt=ae.findTestabilityInTree(fe,at);if(null==Vt)throw new Error("Could not find testability for element.");return Vt},T.dqk.getAllAngularTestabilities=()=>ae.getAllTestabilities(),T.dqk.getAllAngularRootElements=()=>ae.getAllRootElements(),T.dqk.frameworkStabilizers||(T.dqk.frameworkStabilizers=[]),T.dqk.frameworkStabilizers.push(fe=>{const at=T.dqk.getAllAngularTestabilities();let Vt=at.length,Bn=!1;const gr=function(rn){Bn=Bn||rn,Vt--,0==Vt&&fe(Bn)};at.forEach(function(rn){rn.whenStable(gr)})})}findTestabilityInTree(ae,X,fe){return null==X?null:ae.getTestability(X)??(fe?(0,D.q)().isShadowRoot(X)?this.findTestabilityInTree(ae,X.host,!0):this.findTestabilityInTree(ae,X.parentElement,!0):null)}},deps:[]},{provide:T.lri,useClass:T.dDg,deps:[T.R0b,T.eoX,T.rWj]},{provide:T.dDg,useClass:T.dDg,deps:[T.R0b,T.eoX,T.rWj]}],an=[{provide:T.zSh,useValue:"root"},{provide:T.qLn,useFactory:function lr(){return new T.qLn},deps:[]},{provide:ze,useClass:hn,multi:!0,deps:[D.K0,T.R0b,T.Lbi]},{provide:ze,useClass:fn,multi:!0,deps:[D.K0]},{provide:Ke,useClass:Ke,deps:[Je,$e,T.AFp]},{provide:T.FYo,useExisting:Ke},{provide:Ue,useExisting:$e},{provide:$e,useClass:$e,deps:[D.K0]},{provide:Je,useClass:Je,deps:[ze,T.R0b]},{provide:D.JF,useClass:nt,deps:[]},[]];let Zt=(()=>{class me{constructor(X){}static withServerTransition(X){return{ngModule:me,providers:[{provide:T.AFp,useValue:X.appId},{provide:Me,useExisting:T.AFp},te]}}}return me.\u0275fac=function(X){return new(X||me)(T.LFG(Tn,12))},me.\u0275mod=T.oAB({type:me}),me.\u0275inj=T.cJS({providers:[...an,...bn],imports:[D.ez,T.hGG]}),me})(),Ie=(()=>{class me{constructor(X){this._doc=X}getTitle(){return this._doc.title}setTitle(X){this._doc.title=X||""}}return me.\u0275fac=function(X){return new(X||me)(T.LFG(D.K0))},me.\u0275prov=T.Yz7({token:me,factory:function(X){let fe=null;return fe=X?new X:function he(){return new Ie((0,T.LFG)(D.K0))}(),fe},providedIn:"root"}),me})();typeof window<"u"&&window;let At=(()=>{class me{}return me.\u0275fac=function(X){return new(X||me)},me.\u0275prov=T.Yz7({token:me,factory:function(X){let fe=null;return fe=X?new(X||me):T.LFG(st),fe},providedIn:"root"}),me})(),st=(()=>{class me extends At{constructor(X){super(),this._doc=X}sanitize(X,fe){if(null==fe)return null;switch(X){case T.q3G.NONE:return fe;case T.q3G.HTML:return(0,T.qzn)(fe,"HTML")?(0,T.z3N)(fe):(0,T.EiD)(this._doc,String(fe)).toString();case T.q3G.STYLE:return(0,T.qzn)(fe,"Style")?(0,T.z3N)(fe):fe;case T.q3G.SCRIPT:if((0,T.qzn)(fe,"Script"))return(0,T.z3N)(fe);throw new Error("unsafe value used in a script context");case T.q3G.URL:return(0,T.yhl)(fe),(0,T.qzn)(fe,"URL")?(0,T.z3N)(fe):(0,T.mCW)(String(fe));case T.q3G.RESOURCE_URL:if((0,T.qzn)(fe,"ResourceURL"))return(0,T.z3N)(fe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${X} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(X){return(0,T.JVY)(X)}bypassSecurityTrustStyle(X){return(0,T.L6k)(X)}bypassSecurityTrustScript(X){return(0,T.eBb)(X)}bypassSecurityTrustUrl(X){return(0,T.LAX)(X)}bypassSecurityTrustResourceUrl(X){return(0,T.pB0)(X)}}return me.\u0275fac=function(X){return new(X||me)(T.LFG(D.K0))},me.\u0275prov=T.Yz7({token:me,factory:function(X){let fe=null;return fe=X?new X:function Yt(me){return new st(me.get(D.K0))}(T.LFG(T.zs3)),fe},providedIn:"root"}),me})()},284:(kt,ke,O)=>{O.d(ke,{gz:()=>Jr,F0:()=>Fr,yS:()=>ls,Bz:()=>Ji,lC:()=>Wo});var D=O(6895),T=O(4650),U=O(8306),de=O(727),le=O(4482),Te=O(5403);function ie(){return(0,le.e)((E,y)=>{let g=null;E._refCount++;const S=(0,Te.x)(y,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(g=null);const x=E._connection,G=g;g=null,x&&(!G||x===G)&&x.unsubscribe(),y.unsubscribe()});E.subscribe(S),S.closed||(g=E.connect())})}class Ee extends U.y{constructor(y,g){super(),this.source=y,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,le.A)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new de.w0;const g=this.getSubject();y.add(this.source.subscribe((0,Te.x)(g,void 0,()=>{this._teardown(),g.complete()},S=>{this._teardown(),g.error(S)},()=>this._teardown()))),y.closed&&(this._connection=null,y=de.w0.EMPTY)}return y}refCount(){return ie()(this)}}var Me=O(8996),Y=O(9646),te=O(1135),Re=O(9841),nt=O(2843),ze=O(6805),Je=O(7272),ft=O(9770),Ue=O(515),$e=O(7579),_t=O(9300);function pt(E){return E<=0?()=>Ue.E:(0,le.e)((y,g)=>{let S=[];y.subscribe((0,Te.x)(g,x=>{S.push(x),E<S.length&&S.shift()},()=>{for(const x of S)g.next(x);g.complete()},void 0,()=>{S=null}))})}var Ve=O(8068),be=O(6590),je=O(4671),ge=O(4004),Ze=O(3900),Ce=O(5698),Ne=O(8675),Fe=O(5026),Ke=O(262),Be=O(4351),gt=O(590),Tt=O(5577),xt=O(8505),Wt=O(8746),ht=O(8189),hn=O(1481);class nn{constructor(y,g){this.id=y,this.url=g}}class Xt extends nn{constructor(y,g,S="imperative",x=null){super(y,g),this.type=0,this.navigationTrigger=S,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tn extends nn{constructor(y,g,S){super(y,g),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jt extends nn{constructor(y,g,S){super(y,g),this.reason=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fn extends nn{constructor(y,g,S){super(y,g),this.error=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fn extends nn{constructor(y,g,S,x){super(y,g),this.urlAfterRedirects=S,this.state=x,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr extends nn{constructor(y,g,S,x){super(y,g),this.urlAfterRedirects=S,this.state=x,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr extends nn{constructor(y,g,S,x,G){super(y,g),this.urlAfterRedirects=S,this.state=x,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Un extends nn{constructor(y,g,S,x){super(y,g),this.urlAfterRedirects=S,this.state=x,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class On extends nn{constructor(y,g,S,x){super(y,g),this.urlAfterRedirects=S,this.state=x,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lr{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sr{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pt{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(y,g,S){this.routerEvent=y,this.position=g,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zt="primary";class vr{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const g=this.params[y];return Array.isArray(g)?g[0]:g}return null}getAll(y){if(this.has(y)){const g=this.params[y];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function Vn(E){return new vr(E)}const rt="ngNavigationCancelingError";function he(E){const y=Error("NavigationCancelingError: "+E);return y[rt]=!0,y}function ot(E,y,g){const S=g.path.split("/");if(S.length>E.length||"full"===g.pathMatch&&(y.hasChildren()||S.length<E.length))return null;const x={};for(let G=0;G<S.length;G++){const re=S[G],_e=E[G];if(re.startsWith(":"))x[re.substring(1)]=_e;else if(re!==_e.path)return null}return{consumed:E.slice(0,S.length),posParams:x}}function ut(E,y){const g=E?Object.keys(E):void 0,S=y?Object.keys(y):void 0;if(!g||!S||g.length!=S.length)return!1;let x;for(let G=0;G<g.length;G++)if(x=g[G],!Rn(E[x],y[x]))return!1;return!0}function Rn(E,y){if(Array.isArray(E)&&Array.isArray(y)){if(E.length!==y.length)return!1;const g=[...E].sort(),S=[...y].sort();return g.every((x,G)=>S[G]===x)}return E===y}function Cn(E){return Array.prototype.concat.apply([],E)}function St(E){return E.length>0?E[E.length-1]:null}function on(E,y){for(const g in E)E.hasOwnProperty(g)&&y(E[g],g)}function mn(E){return(0,T.CqO)(E)?E:(0,T.QGY)(E)?(0,Me.D)(Promise.resolve(E)):(0,Y.of)(E)}const ue={exact:function J(E,y,g){if(!oe(E.segments,y.segments)||!dn(E.segments,y.segments,g)||E.numberOfChildren!==y.numberOfChildren)return!1;for(const S in y.children)if(!E.children[S]||!J(E.children[S],y.children[S],g))return!1;return!0},subset:bt},ee={exact:function Ae(E,y){return ut(E,y)},subset:function tt(E,y){return Object.keys(y).length<=Object.keys(E).length&&Object.keys(y).every(g=>Rn(E[g],y[g]))},ignored:()=>!0};function Se(E,y,g){return ue[g.paths](E.root,y.root,g.matrixParams)&&ee[g.queryParams](E.queryParams,y.queryParams)&&!("exact"===g.fragment&&E.fragment!==y.fragment)}function bt(E,y,g){return Ut(E,y,y.segments,g)}function Ut(E,y,g,S){if(E.segments.length>g.length){const x=E.segments.slice(0,g.length);return!(!oe(x,g)||y.hasChildren()||!dn(x,g,S))}if(E.segments.length===g.length){if(!oe(E.segments,g)||!dn(E.segments,g,S))return!1;for(const x in y.children)if(!E.children[x]||!bt(E.children[x],y.children[x],S))return!1;return!0}{const x=g.slice(0,E.segments.length),G=g.slice(E.segments.length);return!!(oe(E.segments,x)&&dn(E.segments,x,S)&&E.children[Zt])&&Ut(E.children[Zt],y,G,S)}}function dn(E,y,g){return y.every((S,x)=>ee[g](E[x].parameters,S.parameters))}class yn{constructor(y,g,S){this.root=y,this.queryParams=g,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return Yt.serialize(this)}}class zt{constructor(y,g){this.segments=y,this.children=g,this.parent=null,on(g,(S,x)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return st(this)}}class pn{constructor(y,g){this.path=y,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=Vn(this.parameters)),this._parameterMap}toString(){return Bn(this)}}function oe(E,y){return E.length===y.length&&E.every((g,S)=>g.path===y[S].path)}class Xe{}class At{parse(y){const g=new Gi(y);return new yn(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(y){const g=`/${Ft(y.root,!0)}`,S=function rn(E){const y=Object.keys(E).map(g=>{const S=E[g];return Array.isArray(S)?S.map(x=>`${ae(g)}=${ae(x)}`).join("&"):`${ae(g)}=${ae(S)}`}).filter(g=>!!g);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${g}${S}${"string"==typeof y.fragment?`#${function X(E){return encodeURI(E)}(y.fragment)}`:""}`}}const Yt=new At;function st(E){return E.segments.map(y=>Bn(y)).join("/")}function Ft(E,y){if(!E.hasChildren())return st(E);if(y){const g=E.children[Zt]?Ft(E.children[Zt],!1):"",S=[];return on(E.children,(x,G)=>{G!==Zt&&S.push(`${G}:${Ft(x,!1)}`)}),S.length>0?`${g}(${S.join("//")})`:g}{const g=function ce(E,y){let g=[];return on(E.children,(S,x)=>{x===Zt&&(g=g.concat(y(S,x)))}),on(E.children,(S,x)=>{x!==Zt&&(g=g.concat(y(S,x)))}),g}(E,(S,x)=>x===Zt?[Ft(E.children[Zt],!1)]:[`${x}:${Ft(S,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Zt]?`${st(E)}/${g[0]}`:`${st(E)}/(${g.join("//")})`}}function me(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ae(E){return me(E).replace(/%3B/gi,";")}function fe(E){return me(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function at(E){return decodeURIComponent(E)}function Vt(E){return at(E.replace(/\+/g,"%20"))}function Bn(E){return`${fe(E.path)}${function gr(E){return Object.keys(E).map(y=>`;${fe(y)}=${fe(E[y])}`).join("")}(E.parameters)}`}const wr=/^[^\/()?;=#]+/;function hi(E){const y=E.match(wr);return y?y[0]:""}const Yr=/^[^=?&#]+/,Or=/^[^&#]+/;class Gi{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(y.length>0||Object.keys(g).length>0)&&(S[Zt]=new zt(y,g)),S}parseSegment(){const y=hi(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(y),new pn(at(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const g=hi(this.remaining);if(!g)return;this.capture(g);let S="";if(this.consumeOptional("=")){const x=hi(this.remaining);x&&(S=x,this.capture(S))}y[at(g)]=at(S)}parseQueryParam(y){const g=function fi(E){const y=E.match(Yr);return y?y[0]:""}(this.remaining);if(!g)return;this.capture(g);let S="";if(this.consumeOptional("=")){const re=function pi(E){const y=E.match(Or);return y?y[0]:""}(this.remaining);re&&(S=re,this.capture(S))}const x=Vt(g),G=Vt(S);if(y.hasOwnProperty(x)){let re=y[x];Array.isArray(re)||(re=[re],y[x]=re),re.push(G)}else y[x]=G}parseParens(y){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=hi(this.remaining),x=this.remaining[S.length];if("/"!==x&&")"!==x&&";"!==x)throw new Error(`Cannot parse url '${this.url}'`);let G;S.indexOf(":")>-1?(G=S.slice(0,S.indexOf(":")),this.capture(G),this.capture(":")):y&&(G=Zt);const re=this.parseChildren();g[G]=1===Object.keys(re).length?re[Zt]:new zt([],re),this.consumeOptional("//")}return g}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new Error(`Expected "${y}".`)}}class xr{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const g=this.pathFromRoot(y);return g.length>1?g[g.length-2]:null}children(y){const g=Ei(y,this._root);return g?g.children.map(S=>S.value):[]}firstChild(y){const g=Ei(y,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(y){const g=Ir(y,this._root);return g.length<2?[]:g[g.length-2].children.map(x=>x.value).filter(x=>x!==y)}pathFromRoot(y){return Ir(y,this._root).map(g=>g.value)}}function Ei(E,y){if(E===y.value)return y;for(const g of y.children){const S=Ei(E,g);if(S)return S}return null}function Ir(E,y){if(E===y.value)return[y];for(const g of y.children){const S=Ir(E,g);if(S.length)return S.unshift(y),S}return[]}class Yn{constructor(y,g){this.value=y,this.children=g}toString(){return`TreeNode(${this.value})`}}function Ki(E){const y={};return E&&E.children.forEach(g=>y[g.value.outlet]=g),y}class ps extends xr{constructor(y,g){super(y),this.snapshot=g,lt(this,y)}toString(){return this.snapshot.toString()}}function Ci(E,y){const g=function xi(E,y){const re=new De([],{},{},"",{},Zt,y,null,E.root,-1,{});return new Ye("",new Yn(re,[]))}(E,y),S=new te.X([new pn("",{})]),x=new te.X({}),G=new te.X({}),re=new te.X({}),_e=new te.X(""),dt=new Jr(S,x,re,_e,G,Zt,y,g.root);return dt.snapshot=g.root,new ps(new Yn(dt,[]),g)}class Jr{constructor(y,g,S,x,G,re,_e,dt){this.url=y,this.params=g,this.queryParams=S,this.fragment=x,this.data=G,this.outlet=re,this.component=_e,this._futureSnapshot=dt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ge.U)(y=>Vn(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ge.U)(y=>Vn(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Di(E,y="emptyOnly"){const g=E.pathFromRoot;let S=0;if("always"!==y)for(S=g.length-1;S>=1;){const x=g[S],G=g[S-1];if(x.routeConfig&&""===x.routeConfig.path)S--;else{if(G.component)break;S--}}return function Pe(E){return E.reduce((y,g)=>({params:{...y.params,...g.params},data:{...y.data,...g.data},resolve:{...g.data,...y.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(S))}class De{constructor(y,g,S,x,G,re,_e,dt,Bt,Zn,Kt,br){this.url=y,this.params=g,this.queryParams=S,this.fragment=x,this.data=G,this.outlet=re,this.component=_e,this.routeConfig=dt,this._urlSegment=Bt,this._lastPathIndex=Zn,this._correctedLastPathIndex=br??Zn,this._resolve=Kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ye extends xr{constructor(y,g){super(g),this.url=y,lt(this,g)}toString(){return Ct(this._root)}}function lt(E,y){y.value._routerState=E,y.children.forEach(g=>lt(E,g))}function Ct(E){const y=E.children.length>0?` { ${E.children.map(Ct).join(", ")} } `:"";return`${E.value}${y}`}function Ht(E){if(E.snapshot){const y=E.snapshot,g=E._futureSnapshot;E.snapshot=g,ut(y.queryParams,g.queryParams)||E.queryParams.next(g.queryParams),y.fragment!==g.fragment&&E.fragment.next(g.fragment),ut(y.params,g.params)||E.params.next(g.params),function Oe(E,y){if(E.length!==y.length)return!1;for(let g=0;g<E.length;++g)if(!ut(E[g],y[g]))return!1;return!0}(y.url,g.url)||E.url.next(g.url),ut(y.data,g.data)||E.data.next(g.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function nr(E,y){const g=ut(E.params,y.params)&&function He(E,y){return oe(E,y)&&E.every((g,S)=>ut(g.parameters,y[S].parameters))}(E.url,y.url);return g&&!(!E.parent!=!y.parent)&&(!E.parent||nr(E.parent,y.parent))}function Dn(E,y,g){if(g&&E.shouldReuseRoute(y.value,g.value.snapshot)){const S=g.value;S._futureSnapshot=y.value;const x=function si(E,y,g){return y.children.map(S=>{for(const x of g.children)if(E.shouldReuseRoute(S.value,x.value.snapshot))return Dn(E,S,x);return Dn(E,S)})}(E,y,g);return new Yn(S,x)}{if(E.shouldAttach(y.value)){const G=E.retrieve(y.value);if(null!==G){const re=G.route;return re.value._futureSnapshot=y.value,re.children=y.children.map(_e=>Dn(E,_e)),re}}const S=function rs(E){return new Jr(new te.X(E.url),new te.X(E.params),new te.X(E.queryParams),new te.X(E.fragment),new te.X(E.data),E.outlet,E.component,E)}(y.value),x=y.children.map(G=>Dn(E,G));return new Yn(S,x)}}function oi(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Qr(E){return"object"==typeof E&&null!=E&&E.outlets}function wi(E,y,g,S,x){let G={};if(S&&on(S,(_e,dt)=>{G[dt]=Array.isArray(_e)?_e.map(Bt=>`${Bt}`):`${_e}`}),E===y)return new yn(g,G,x);const re=Xr(E,y,g);return new yn(re,G,x)}function Xr(E,y,g){const S={};return on(E.children,(x,G)=>{S[G]=x===y?g:Xr(x,y,g)}),new zt(E.segments,S)}class Vs{constructor(y,g,S){if(this.isAbsolute=y,this.numberOfDoubleDots=g,this.commands=S,y&&S.length>0&&oi(S[0]))throw new Error("Root segment cannot have matrix parameters");const x=S.find(Qr);if(x&&x!==St(S))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ro{constructor(y,g,S){this.segmentGroup=y,this.processChildren=g,this.index=S}}function li(E,y,g){if(E||(E=new zt([],{})),0===E.segments.length&&E.hasChildren())return or(E,y,g);const S=function js(E,y,g){let S=0,x=y;const G={match:!1,pathIndex:0,commandIndex:0};for(;x<E.segments.length;){if(S>=g.length)return G;const re=E.segments[x],_e=g[S];if(Qr(_e))break;const dt=`${_e}`,Bt=S<g.length-1?g[S+1]:null;if(x>0&&void 0===dt)break;if(dt&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!Er(dt,Bt,re))return G;S+=2}else{if(!Er(dt,{},re))return G;S++}x++}return{match:!0,pathIndex:x,commandIndex:S}}(E,y,g),x=g.slice(S.commandIndex);if(S.match&&S.pathIndex<E.segments.length){const G=new zt(E.segments.slice(0,S.pathIndex),{});return G.children[Zt]=new zt(E.segments.slice(S.pathIndex),E.children),or(G,0,x)}return S.match&&0===x.length?new zt(E.segments,{}):S.match&&!E.hasChildren()?As(E,y,g):S.match?or(E,0,x):As(E,y,g)}function or(E,y,g){if(0===g.length)return new zt(E.segments,{});{const S=function Mn(E){return Qr(E[0])?E[0].outlets:{[Zt]:E}}(g),x={};return on(S,(G,re)=>{"string"==typeof G&&(G=[G]),null!==G&&(x[re]=li(E.children[re],y,G))}),on(E.children,(G,re)=>{void 0===S[re]&&(x[re]=G)}),new zt(E.segments,x)}}function As(E,y,g){const S=E.segments.slice(0,y);let x=0;for(;x<g.length;){const G=g[x];if(Qr(G)){const dt=Is(G.outlets);return new zt(S,dt)}if(0===x&&oi(g[0])){S.push(new pn(E.segments[y].path,Ri(g[0]))),x++;continue}const re=Qr(G)?G.outlets[Zt]:`${G}`,_e=x<g.length-1?g[x+1]:null;re&&_e&&oi(_e)?(S.push(new pn(re,Ri(_e))),x+=2):(S.push(new pn(re,{})),x++)}return new zt(S,{})}function Is(E){const y={};return on(E,(g,S)=>{"string"==typeof g&&(g=[g]),null!==g&&(y[S]=As(new zt([],{}),0,g))}),y}function Ri(E){const y={};return on(E,(g,S)=>y[S]=`${g}`),y}function Er(E,y,g){return E==g.path&&ut(y,g.parameters)}class Qn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tr,this.attachRef=null}}class Tr{constructor(){this.contexts=new Map}onChildOutletCreated(y,g){const S=this.getOrCreateContext(y);S.outlet=g,this.contexts.set(y,S)}onChildOutletDestroyed(y){const g=this.getContext(y);g&&(g.outlet=null,g.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let g=this.getContext(y);return g||(g=new Qn,this.contexts.set(y,g)),g}getContext(y){return this.contexts.get(y)||null}}let Wo=(()=>{class E{constructor(g,S,x,G,re){this.parentContexts=g,this.location=S,this.changeDetector=G,this.environmentInjector=re,this.activated=null,this._activatedRoute=null,this.activateEvents=new T.vpe,this.deactivateEvents=new T.vpe,this.attachEvents=new T.vpe,this.detachEvents=new T.vpe,this.name=x||Zt,g.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const g=this.parentContexts.getContext(this.name);g&&g.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,S){this.activated=g,this._activatedRoute=S,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,S){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=g;const x=this.location,re=g._futureSnapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,dt=new gi(g,_e,x.injector);if(S&&function Vr(E){return!!E.resolveComponentFactory}(S)){const Bt=S.resolveComponentFactory(re);this.activated=x.createComponent(Bt,x.length,dt)}else this.activated=x.createComponent(re,{index:x.length,injector:dt,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(g){return new(g||E)(T.Y36(Tr),T.Y36(T.s_b),T.$8M("name"),T.Y36(T.sBO),T.Y36(T.lqb))},E.\u0275dir=T.lG2({type:E,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),E})();class gi{constructor(y,g,S){this.route=y,this.childContexts=g,this.parent=S}get(y,g){return y===Jr?this.route:y===Tr?this.childContexts:this.parent.get(y,g)}}let Li=(()=>{class E{}return E.\u0275fac=function(g){return new(g||E)},E.\u0275cmp=T.Xpm({type:E,selectors:[["ng-component"]],decls:1,vars:0,template:function(g,S){1&g&&T._UZ(0,"router-outlet")},dependencies:[Wo],encapsulation:2}),E})();function Fi(E,y){return E.providers&&!E._injector&&(E._injector=(0,T.MMx)(E.providers,y,`Route: ${E.path}`)),E._injector??y}function Ts(E){const y=E.children&&E.children.map(Ts),g=y?{...E,children:y}:{...E};return!g.component&&!g.loadComponent&&(y||g.loadChildren)&&g.outlet&&g.outlet!==Zt&&(g.component=Li),g}function ti(E){return E.outlet||Zt}function ni(E,y){const g=E.filter(S=>ti(S)===y);return g.push(...E.filter(S=>ti(S)!==y)),g}function Rs(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let y=E.parent;y;y=y.parent){const g=y.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class kn{constructor(y,g,S,x){this.routeReuseStrategy=y,this.futureState=g,this.currState=S,this.forwardEvent=x}activate(y){const g=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,S,y),Ht(this.futureState.root),this.activateChildRoutes(g,S,y)}deactivateChildRoutes(y,g,S){const x=Ki(g);y.children.forEach(G=>{const re=G.value.outlet;this.deactivateRoutes(G,x[re],S),delete x[re]}),on(x,(G,re)=>{this.deactivateRouteAndItsChildren(G,S)})}deactivateRoutes(y,g,S){const x=y.value,G=g?g.value:null;if(x===G)if(x.component){const re=S.getContext(x.outlet);re&&this.deactivateChildRoutes(y,g,re.children)}else this.deactivateChildRoutes(y,g,S);else G&&this.deactivateRouteAndItsChildren(g,S)}deactivateRouteAndItsChildren(y,g){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,g):this.deactivateRouteAndOutlet(y,g)}detachAndStoreRouteSubtree(y,g){const S=g.getContext(y.value.outlet),x=S&&y.value.component?S.children:g,G=Ki(y);for(const re of Object.keys(G))this.deactivateRouteAndItsChildren(G[re],x);if(S&&S.outlet){const re=S.outlet.detach(),_e=S.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:re,route:y,contexts:_e})}}deactivateRouteAndOutlet(y,g){const S=g.getContext(y.value.outlet),x=S&&y.value.component?S.children:g,G=Ki(y);for(const re of Object.keys(G))this.deactivateRouteAndItsChildren(G[re],x);S&&S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated(),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(y,g,S){const x=Ki(g);y.children.forEach(G=>{this.activateRoutes(G,x[G.value.outlet],S),this.forwardEvent(new Tn(G.value.snapshot))}),y.children.length&&this.forwardEvent(new tr(y.value.snapshot))}activateRoutes(y,g,S){const x=y.value,G=g?g.value:null;if(Ht(x),x===G)if(x.component){const re=S.getOrCreateContext(x.outlet);this.activateChildRoutes(y,g,re.children)}else this.activateChildRoutes(y,g,S);else if(x.component){const re=S.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const _e=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),re.children.onOutletReAttached(_e.contexts),re.attachRef=_e.componentRef,re.route=_e.route.value,re.outlet&&re.outlet.attach(_e.componentRef,_e.route.value),Ht(_e.route.value),this.activateChildRoutes(y,null,re.children)}else{const _e=Rs(x.snapshot),dt=_e?.get(T._Vd)??null;re.attachRef=null,re.route=x,re.resolver=dt,re.injector=_e,re.outlet&&re.outlet.activateWith(x,re.injector),this.activateChildRoutes(y,null,re.children)}}else this.activateChildRoutes(y,null,S)}}function mi(E){return"function"==typeof E}function ss(E){return E instanceof yn}const A=Symbol("INITIAL_VALUE");function $(){return(0,Ze.w)(E=>(0,Re.a)(E.map(y=>y.pipe((0,Ce.q)(1),(0,Ne.O)(A)))).pipe((0,Fe.R)((y,g)=>{let S=!1;return g.reduce((x,G,re)=>x!==A?x:(G===A&&(S=!0),S||!1!==G&&re!==g.length-1&&!ss(G)?x:G),y)},A),(0,_t.h)(y=>y!==A),(0,ge.U)(y=>ss(y)?y:!0===y),(0,Ce.q)(1)))}const M={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function z(E,y,g){if(""===y.path)return"full"===y.pathMatch&&(E.hasChildren()||g.length>0)?{...M}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const x=(y.matcher||ot)(g,E,y);if(!x)return{...M};const G={};on(x.posParams,(_e,dt)=>{G[dt]=_e.path});const re=x.consumed.length>0?{...G,...x.consumed[x.consumed.length-1].parameters}:G;return{matched:!0,consumedSegments:x.consumed,remainingSegments:g.slice(x.consumed.length),parameters:re,positionalParamSegments:x.posParams??{}}}function ve(E,y,g,S,x="corrected"){if(g.length>0&&function Mt(E,y,g){return g.some(S=>rr(E,y,S)&&ti(S)!==Zt)}(E,g,S)){const re=new zt(y,function mt(E,y,g,S){const x={};x[Zt]=S,S._sourceSegment=E,S._segmentIndexShift=y.length;for(const G of g)if(""===G.path&&ti(G)!==Zt){const re=new zt([],{});re._sourceSegment=E,re._segmentIndexShift=y.length,x[ti(G)]=re}return x}(E,y,S,new zt(g,E.children)));return re._sourceSegment=E,re._segmentIndexShift=y.length,{segmentGroup:re,slicedSegments:[]}}if(0===g.length&&function fr(E,y,g){return g.some(S=>rr(E,y,S))}(E,g,S)){const re=new zt(E.segments,function it(E,y,g,S,x,G){const re={};for(const _e of S)if(rr(E,g,_e)&&!x[ti(_e)]){const dt=new zt([],{});dt._sourceSegment=E,dt._segmentIndexShift="legacy"===G?E.segments.length:y.length,re[ti(_e)]=dt}return{...x,...re}}(E,y,g,S,E.children,x));return re._sourceSegment=E,re._segmentIndexShift=y.length,{segmentGroup:re,slicedSegments:g}}const G=new zt(E.segments,E.children);return G._sourceSegment=E,G._segmentIndexShift=y.length,{segmentGroup:G,slicedSegments:g}}function rr(E,y,g){return(!(E.hasChildren()||y.length>0)||"full"!==g.pathMatch)&&""===g.path}function _r(E,y,g,S){return!!(ti(E)===S||S!==Zt&&rr(y,g,E))&&("**"===E.path||z(y,E,g).matched)}function Pn(E,y,g){return 0===y.length&&!E.children[g]}class cr{constructor(y){this.segmentGroup=y||null}}class ir{constructor(y){this.urlTree=y}}function Nt(E){return(0,nt._)(new cr(E))}function Pi(E){return(0,nt._)(new ir(E))}class Vi{constructor(y,g,S,x,G){this.injector=y,this.configLoader=g,this.urlSerializer=S,this.urlTree=x,this.config=G,this.allowRedirects=!0}apply(){const y=ve(this.urlTree.root,[],[],this.config).segmentGroup,g=new zt(y.segments,y.children);return this.expandSegmentGroup(this.injector,this.config,g,Zt).pipe((0,ge.U)(G=>this.createUrlTree(Qi(G),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ke.K)(G=>{if(G instanceof ir)return this.allowRedirects=!1,this.match(G.urlTree);throw G instanceof cr?this.noMatchError(G):G}))}match(y){return this.expandSegmentGroup(this.injector,this.config,y.root,Zt).pipe((0,ge.U)(x=>this.createUrlTree(Qi(x),y.queryParams,y.fragment))).pipe((0,Ke.K)(x=>{throw x instanceof cr?this.noMatchError(x):x}))}noMatchError(y){return new Error(`Cannot match any routes. URL Segment: '${y.segmentGroup}'`)}createUrlTree(y,g,S){const x=y.segments.length>0?new zt([],{[Zt]:y}):y;return new yn(x,g,S)}expandSegmentGroup(y,g,S,x){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(y,g,S).pipe((0,ge.U)(G=>new zt([],G))):this.expandSegment(y,S,g,S.segments,x,!0)}expandChildren(y,g,S){const x=[];for(const G of Object.keys(S.children))"primary"===G?x.unshift(G):x.push(G);return(0,Me.D)(x).pipe((0,Be.b)(G=>{const re=S.children[G],_e=ni(g,G);return this.expandSegmentGroup(y,_e,re,G).pipe((0,ge.U)(dt=>({segment:dt,outlet:G})))}),(0,Fe.R)((G,re)=>(G[re.outlet]=re.segment,G),{}),function wt(E,y){const g=arguments.length>=2;return S=>S.pipe(E?(0,_t.h)((x,G)=>E(x,G,S)):je.y,pt(1),g?(0,be.d)(y):(0,Ve.T)(()=>new ze.K))}())}expandSegment(y,g,S,x,G,re){return(0,Me.D)(S).pipe((0,Be.b)(_e=>this.expandSegmentAgainstRoute(y,g,S,_e,x,G,re).pipe((0,Ke.K)(Bt=>{if(Bt instanceof cr)return(0,Y.of)(null);throw Bt}))),(0,gt.P)(_e=>!!_e),(0,Ke.K)((_e,dt)=>{if(_e instanceof ze.K||"EmptyError"===_e.name)return Pn(g,x,G)?(0,Y.of)(new zt([],{})):Nt(g);throw _e}))}expandSegmentAgainstRoute(y,g,S,x,G,re,_e){return _r(x,g,G,re)?void 0===x.redirectTo?this.matchSegmentAgainstRoute(y,g,x,G,re):_e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,g,S,x,G,re):Nt(g):Nt(g)}expandSegmentAgainstRouteUsingRedirect(y,g,S,x,G,re){return"**"===x.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,S,x,re):this.expandRegularSegmentAgainstRouteUsingRedirect(y,g,S,x,G,re)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,g,S,x){const G=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Pi(G):this.lineralizeSegments(S,G).pipe((0,Tt.z)(re=>{const _e=new zt(re,{});return this.expandSegment(y,_e,g,re,x,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,g,S,x,G,re){const{matched:_e,consumedSegments:dt,remainingSegments:Bt,positionalParamSegments:Zn}=z(g,x,G);if(!_e)return Nt(g);const Kt=this.applyRedirectCommands(dt,x.redirectTo,Zn);return x.redirectTo.startsWith("/")?Pi(Kt):this.lineralizeSegments(x,Kt).pipe((0,Tt.z)(br=>this.expandSegment(y,g,S,br.concat(Bt),re,!1)))}matchSegmentAgainstRoute(y,g,S,x,G){if("**"===S.path)return y=Fi(S,y),S.loadChildren?(S._loadedRoutes?(0,Y.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(y,S)).pipe((0,ge.U)(Kt=>(S._loadedRoutes=Kt.routes,S._loadedInjector=Kt.injector,new zt(x,{})))):(0,Y.of)(new zt(x,{}));const{matched:re,consumedSegments:_e,remainingSegments:dt}=z(g,S,x);return re?(y=Fi(S,y),this.getChildConfig(y,S,x).pipe((0,Tt.z)(Zn=>{const Kt=Zn.injector??y,br=Zn.routes,{segmentGroup:Ur,slicedSegments:$i}=ve(g,_e,dt,br),Ni=new zt(Ur.segments,Ur.children);if(0===$i.length&&Ni.hasChildren())return this.expandChildren(Kt,br,Ni).pipe((0,ge.U)(fo=>new zt(_e,fo)));if(0===br.length&&0===$i.length)return(0,Y.of)(new zt(_e,{}));const ho=ti(S)===G;return this.expandSegment(Kt,Ni,br,$i,ho?Zt:G,!0).pipe((0,ge.U)(Gs=>new zt(_e.concat(Gs.segments),Gs.children)))}))):Nt(g)}getChildConfig(y,g,S){return g.children?(0,Y.of)({routes:g.children,injector:y}):g.loadChildren?void 0!==g._loadedRoutes?(0,Y.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):this.runCanLoadGuards(y,g,S).pipe((0,Tt.z)(x=>x?this.configLoader.loadChildren(y,g).pipe((0,xt.b)(G=>{g._loadedRoutes=G.routes,g._loadedInjector=G.injector})):function Bi(E){return(0,nt._)(he(`Cannot load children because the guard of the route "path: '${E.path}'" returned false`))}(g))):(0,Y.of)({routes:[],injector:y})}runCanLoadGuards(y,g,S){const x=g.canLoad;if(!x||0===x.length)return(0,Y.of)(!0);const G=x.map(re=>{const _e=y.get(re);let dt;if(function $n(E){return E&&mi(E.canLoad)}(_e))dt=_e.canLoad(g,S);else{if(!mi(_e))throw new Error("Invalid CanLoad guard");dt=_e(g,S)}return mn(dt)});return(0,Y.of)(G).pipe($(),(0,xt.b)(re=>{if(!ss(re))return;const _e=he(`Redirecting to "${this.urlSerializer.serialize(re)}"`);throw _e.url=re,_e}),(0,ge.U)(re=>!0===re))}lineralizeSegments(y,g){let S=[],x=g.root;for(;;){if(S=S.concat(x.segments),0===x.numberOfChildren)return(0,Y.of)(S);if(x.numberOfChildren>1||!x.children[Zt])return(0,nt._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${y.redirectTo}'`));x=x.children[Zt]}}applyRedirectCommands(y,g,S){return this.applyRedirectCreatreUrlTree(g,this.urlSerializer.parse(g),y,S)}applyRedirectCreatreUrlTree(y,g,S,x){const G=this.createSegmentGroup(y,g.root,S,x);return new yn(G,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(y,g){const S={};return on(y,(x,G)=>{if("string"==typeof x&&x.startsWith(":")){const _e=x.substring(1);S[G]=g[_e]}else S[G]=x}),S}createSegmentGroup(y,g,S,x){const G=this.createSegments(y,g.segments,S,x);let re={};return on(g.children,(_e,dt)=>{re[dt]=this.createSegmentGroup(y,_e,S,x)}),new zt(G,re)}createSegments(y,g,S,x){return g.map(G=>G.path.startsWith(":")?this.findPosParam(y,G,x):this.findOrReturn(G,S))}findPosParam(y,g,S){const x=S[g.path.substring(1)];if(!x)throw new Error(`Cannot redirect to '${y}'. Cannot find '${g.path}'.`);return x}findOrReturn(y,g){let S=0;for(const x of g){if(x.path===y.path)return g.splice(S),x;S++}return y}}function Qi(E){const y={};for(const S of Object.keys(E.children)){const G=Qi(E.children[S]);(G.segments.length>0||G.hasChildren())&&(y[S]=G)}return function ri(E){if(1===E.numberOfChildren&&E.children[Zt]){const y=E.children[Zt];return new zt(E.segments.concat(y.segments),y.children)}return E}(new zt(E.segments,y))}class Et{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class xn{constructor(y,g){this.component=y,this.route=g}}function vo(E,y,g){const S=E._root;return os(S,y?y._root:null,g,[S.value])}function Lr(E,y,g){return(Rs(y)??g).get(E)}function os(E,y,g,S,x={canDeactivateChecks:[],canActivateChecks:[]}){const G=Ki(y);return E.children.forEach(re=>{(function Ms(E,y,g,S,x={canDeactivateChecks:[],canActivateChecks:[]}){const G=E.value,re=y?y.value:null,_e=g?g.getContext(E.value.outlet):null;if(re&&G.routeConfig===re.routeConfig){const dt=function ei(E,y,g){if("function"==typeof g)return g(E,y);switch(g){case"pathParamsChange":return!oe(E.url,y.url);case"pathParamsOrQueryParamsChange":return!oe(E.url,y.url)||!ut(E.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nr(E,y)||!ut(E.queryParams,y.queryParams);default:return!nr(E,y)}}(re,G,G.routeConfig.runGuardsAndResolvers);dt?x.canActivateChecks.push(new Et(S)):(G.data=re.data,G._resolvedData=re._resolvedData),os(E,y,G.component?_e?_e.children:null:g,S,x),dt&&_e&&_e.outlet&&_e.outlet.isActivated&&x.canDeactivateChecks.push(new xn(_e.outlet.component,re))}else re&&ji(y,_e,x),x.canActivateChecks.push(new Et(S)),os(E,null,G.component?_e?_e.children:null:g,S,x)})(re,G[re.value.outlet],g,S.concat([re.value]),x),delete G[re.value.outlet]}),on(G,(re,_e)=>ji(re,g.getContext(_e),x)),x}function ji(E,y,g){const S=Ki(E),x=E.value;on(S,(G,re)=>{ji(G,x.component?y?y.children.getContext(re):null:y,g)}),g.canDeactivateChecks.push(new xn(x.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,x))}class as{}function ms(E){return new U.y(y=>y.error(E))}class oo{constructor(y,g,S,x,G,re){this.rootComponentType=y,this.config=g,this.urlTree=S,this.url=x,this.paramsInheritanceStrategy=G,this.relativeLinkResolution=re}recognize(){const y=ve(this.urlTree.root,[],[],this.config.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution).segmentGroup,g=this.processSegmentGroup(this.config,y,Zt);if(null===g)return null;const S=new De([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),x=new Yn(S,g),G=new Ye(this.url,x);return this.inheritParamsAndData(G._root),G}inheritParamsAndData(y){const g=y.value,S=Di(g,this.paramsInheritanceStrategy);g.params=Object.freeze(S.params),g.data=Object.freeze(S.data),y.children.forEach(x=>this.inheritParamsAndData(x))}processSegmentGroup(y,g,S){return 0===g.segments.length&&g.hasChildren()?this.processChildren(y,g):this.processSegment(y,g,g.segments,S)}processChildren(y,g){const S=[];for(const G of Object.keys(g.children)){const re=g.children[G],_e=ni(y,G),dt=this.processSegmentGroup(_e,re,G);if(null===dt)return null;S.push(...dt)}const x=xs(S);return function Eo(E){E.sort((y,g)=>y.value.outlet===Zt?-1:g.value.outlet===Zt?1:y.value.outlet.localeCompare(g.value.outlet))}(x),x}processSegment(y,g,S,x){for(const G of y){const re=this.processSegmentAgainstRoute(G,g,S,x);if(null!==re)return re}return Pn(g,S,x)?[]:null}processSegmentAgainstRoute(y,g,S,x){if(y.redirectTo||!_r(y,g,S,x))return null;let G,re=[],_e=[];if("**"===y.path){const Ur=S.length>0?St(S).parameters:{},$i=bs(g)+S.length;G=new De(S,Ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,f(y),ti(y),y.component??y._loadedComponent??null,y,Ko(g),$i,m(y),$i)}else{const Ur=z(g,y,S);if(!Ur.matched)return null;re=Ur.consumedSegments,_e=Ur.remainingSegments;const $i=bs(g)+re.length;G=new De(re,Ur.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,f(y),ti(y),y.component??y._loadedComponent??null,y,Ko(g),$i,m(y),$i)}const dt=function Os(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(y),{segmentGroup:Bt,slicedSegments:Zn}=ve(g,re,_e,dt.filter(Ur=>void 0===Ur.redirectTo),this.relativeLinkResolution);if(0===Zn.length&&Bt.hasChildren()){const Ur=this.processChildren(dt,Bt);return null===Ur?null:[new Yn(G,Ur)]}if(0===dt.length&&0===Zn.length)return[new Yn(G,[])];const Kt=ti(y)===x,br=this.processSegment(dt,Bt,Zn,Kt?Zt:x);return null===br?null:[new Yn(G,br)]}}function Co(E){const y=E.value.routeConfig;return y&&""===y.path&&void 0===y.redirectTo}function xs(E){const y=[],g=new Set;for(const S of E){if(!Co(S)){y.push(S);continue}const x=y.find(G=>S.value.routeConfig===G.value.routeConfig);void 0!==x?(x.children.push(...S.children),g.add(x)):y.push(S)}for(const S of g){const x=xs(S.children);y.push(new Yn(S.value,x))}return y.filter(S=>!g.has(S))}function Ko(E){let y=E;for(;y._sourceSegment;)y=y._sourceSegment;return y}function bs(E){let y=E,g=y._segmentIndexShift??0;for(;y._sourceSegment;)y=y._sourceSegment,g+=y._segmentIndexShift??0;return g-1}function f(E){return E.data||{}}function m(E){return E.resolve||{}}const B=Symbol("RouteTitle");function Ot(E){return"string"==typeof E.title||null===E.title}function Qt(E){return(0,Ze.w)(y=>{const g=E(y);return g?(0,Me.D)(g).pipe((0,ge.U)(()=>y)):(0,Y.of)(y)})}class Sn extends class qn{shouldDetach(y){return!1}store(y,g){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,g){return y.routeConfig===g.routeConfig}}{}const Wn=new T.OlP("ROUTES");let ur=(()=>{class E{constructor(g,S){this.injector=g,this.compiler=S,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,Y.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const S=mn(g.loadComponent()).pipe((0,xt.b)(G=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=G}),(0,Wt.x)(()=>{this.componentLoaders.delete(g)})),x=new Ee(S,()=>new $e.x).pipe(ie());return this.componentLoaders.set(g,x),x}loadChildren(g,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,Y.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const G=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,ge.U)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(S);let dt,Bt,Zn=!1;Array.isArray(_e)?Bt=_e:(dt=_e.create(g).injector,Bt=Cn(dt.get(Wn,[],T.XFs.Self|T.XFs.Optional)));return{routes:Bt.map(Ts),injector:dt}}),(0,Wt.x)(()=>{this.childrenLoaders.delete(S)})),re=new Ee(G,()=>new $e.x).pipe(ie());return this.childrenLoaders.set(S,re),re}loadModuleFactoryOrRoutes(g){return mn(g()).pipe((0,Tt.z)(S=>S instanceof T.YKP||Array.isArray(S)?(0,Y.of)(S):(0,Me.D)(this.compiler.compileModuleAsync(S))))}}return E.\u0275fac=function(g){return new(g||E)(T.LFG(T.zs3),T.LFG(T.Sil))},E.\u0275prov=T.Yz7({token:E,factory:E.\u0275fac}),E})();class zr{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,g){return y}}function Rr(E){throw E}function ai(E,y,g){return y.parse("/")}const Mr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fr=(()=>{class E{constructor(g,S,x,G,re,_e,dt){this.rootComponentType=g,this.urlSerializer=S,this.rootContexts=x,this.location=G,this.config=dt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $e.x,this.errorHandler=Rr,this.malformedUriErrorHandler=ai,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Y.of)(void 0),this.urlHandlingStrategy=new zr,this.routeReuseStrategy=new Sn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=re.get(ur),this.configLoader.onLoadEndListener=br=>this.triggerEvent(new lr(br)),this.configLoader.onLoadStartListener=br=>this.triggerEvent(new mr(br)),this.ngModule=re.get(T.h0i),this.console=re.get(T.c2e);const Kt=re.get(T.R0b);this.isNgZoneEnabled=Kt instanceof T.R0b&&T.R0b.isInAngularZone(),this.resetConfig(dt),this.currentUrlTree=function _n(){return new yn(new zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ci(this.currentUrlTree,this.rootComponentType),this.transitions=new te.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(g){const S=this.events;return g.pipe((0,_t.h)(x=>0!==x.id),(0,ge.U)(x=>({...x,extractedUrl:this.urlHandlingStrategy.extract(x.rawUrl)})),(0,Ze.w)(x=>{let G=!1,re=!1;return(0,Y.of)(x).pipe((0,xt.b)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ze.w)(_e=>{const dt=this.browserUrlTree.toString(),Bt=!this.navigated||_e.extractedUrl.toString()!==dt||dt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Bt)&&this.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return bi(_e.source)&&(this.browserUrlTree=_e.extractedUrl),(0,Y.of)(_e).pipe((0,Ze.w)(Kt=>{const br=this.transitions.getValue();return S.next(new Xt(Kt.id,this.serializeUrl(Kt.extractedUrl),Kt.source,Kt.restoredState)),br!==this.transitions.getValue()?Ue.E:Promise.resolve(Kt)}),function In(E,y,g,S){return(0,Ze.w)(x=>function Ti(E,y,g,S,x){return new Vi(E,y,g,S,x).apply()}(E,y,g,x.extractedUrl,S).pipe((0,ge.U)(G=>({...x,urlAfterRedirects:G}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xt.b)(Kt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Kt.urlAfterRedirects}}),function R(E,y,g,S,x){return(0,Tt.z)(G=>function $s(E,y,g,S,x="emptyOnly",G="legacy"){try{const re=new oo(E,y,g,S,x,G).recognize();return null===re?ms(new as):(0,Y.of)(re)}catch(re){return ms(re)}}(E,y,G.urlAfterRedirects,g(G.urlAfterRedirects),S,x).pipe((0,ge.U)(re=>({...G,targetSnapshot:re}))))}(this.rootComponentType,this.config,Kt=>this.serializeUrl(Kt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xt.b)(Kt=>{if("eager"===this.urlUpdateStrategy){if(!Kt.extras.skipLocationChange){const Ur=this.urlHandlingStrategy.merge(Kt.urlAfterRedirects,Kt.rawUrl);this.setBrowserUrl(Ur,Kt)}this.browserUrlTree=Kt.urlAfterRedirects}const br=new fn(Kt.id,this.serializeUrl(Kt.extractedUrl),this.serializeUrl(Kt.urlAfterRedirects),Kt.targetSnapshot);S.next(br)}));if(Bt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:br,extractedUrl:Ur,source:$i,restoredState:Ni,extras:ho}=_e,zs=new Xt(br,this.serializeUrl(Ur),$i,Ni);S.next(zs);const Gs=Ci(Ur,this.rootComponentType).snapshot;return(0,Y.of)({..._e,targetSnapshot:Gs,urlAfterRedirects:Ur,extras:{...ho,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=_e.rawUrl,_e.resolve(null),Ue.E}),(0,xt.b)(_e=>{const dt=new Pr(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot);this.triggerEvent(dt)}),(0,ge.U)(_e=>({..._e,guards:vo(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)})),function so(E,y){return(0,Tt.z)(g=>{const{targetSnapshot:S,currentSnapshot:x,guards:{canActivateChecks:G,canDeactivateChecks:re}}=g;return 0===re.length&&0===G.length?(0,Y.of)({...g,guardsResult:!0}):function ko(E,y,g,S){return(0,Me.D)(E).pipe((0,Tt.z)(x=>function Ns(E,y,g,S,x){const G=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,Y.of)(!0);const re=G.map(_e=>{const dt=Lr(_e,y,x);let Bt;if(function Ar(E){return E&&mi(E.canDeactivate)}(dt))Bt=mn(dt.canDeactivate(E,y,g,S));else{if(!mi(dt))throw new Error("Invalid CanDeactivate guard");Bt=mn(dt(E,y,g,S))}return Bt.pipe((0,gt.P)())});return(0,Y.of)(re).pipe($())}(x.component,x.route,g,y,S)),(0,gt.P)(x=>!0!==x,!0))}(re,S,x,E).pipe((0,Tt.z)(_e=>_e&&function gs(E){return"boolean"==typeof E}(_e)?function zo(E,y,g,S){return(0,Me.D)(y).pipe((0,Be.b)(x=>(0,Je.z)(function Ps(E,y){return null!==E&&y&&y(new sr(E)),(0,Y.of)(!0)}(x.route.parent,S),function Go(E,y){return null!==E&&y&&y(new Pt(E)),(0,Y.of)(!0)}(x.route,S),function ui(E,y,g){const S=y[y.length-1],G=y.slice(0,y.length-1).reverse().map(re=>function Cr(E){const y=E.routeConfig?E.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:E,guards:y}:null}(re)).filter(re=>null!==re).map(re=>(0,ft.P)(()=>{const _e=re.guards.map(dt=>{const Bt=Lr(dt,re.node,g);let Zn;if(function Sr(E){return E&&mi(E.canActivateChild)}(Bt))Zn=mn(Bt.canActivateChild(S,E));else{if(!mi(Bt))throw new Error("Invalid CanActivateChild guard");Zn=mn(Bt(S,E))}return Zn.pipe((0,gt.P)())});return(0,Y.of)(_e).pipe($())}));return(0,Y.of)(G).pipe($())}(E,x.path,g),function ii(E,y,g){const S=y.routeConfig?y.routeConfig.canActivate:null;if(!S||0===S.length)return(0,Y.of)(!0);const x=S.map(G=>(0,ft.P)(()=>{const re=Lr(G,y,g);let _e;if(function Yi(E){return E&&mi(E.canActivate)}(re))_e=mn(re.canActivate(y,E));else{if(!mi(re))throw new Error("Invalid CanActivate guard");_e=mn(re(y,E))}return _e.pipe((0,gt.P)())}));return(0,Y.of)(x).pipe($())}(E,x.route,g))),(0,gt.P)(x=>!0!==x,!0))}(S,G,E,y):(0,Y.of)(_e)),(0,ge.U)(_e=>({...g,guardsResult:_e})))})}(this.ngModule.injector,_e=>this.triggerEvent(_e)),(0,xt.b)(_e=>{if(ss(_e.guardsResult)){const Bt=he(`Redirecting to "${this.serializeUrl(_e.guardsResult)}"`);throw Bt.url=_e.guardsResult,Bt}const dt=new pr(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.triggerEvent(dt)}),(0,_t.h)(_e=>!!_e.guardsResult||(this.restoreHistory(_e),this.cancelNavigationTransition(_e,""),!1)),Qt(_e=>{if(_e.guards.canActivateChecks.length)return(0,Y.of)(_e).pipe((0,xt.b)(dt=>{const Bt=new Un(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Bt)}),(0,Ze.w)(dt=>{let Bt=!1;return(0,Y.of)(dt).pipe(function K(E,y){return(0,Tt.z)(g=>{const{targetSnapshot:S,guards:{canActivateChecks:x}}=g;if(!x.length)return(0,Y.of)(g);let G=0;return(0,Me.D)(x).pipe((0,Be.b)(re=>function pe(E,y,g,S){const x=E.routeConfig,G=E._resolve;return void 0!==x?.title&&!Ot(x)&&(G[B]=x.title),function ye(E,y,g,S){const x=function Le(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===x.length)return(0,Y.of)({});const G={};return(0,Me.D)(x).pipe((0,Tt.z)(re=>function ct(E,y,g,S){const x=Lr(E,y,S);return mn(x.resolve?x.resolve(y,g):x(y,g))}(E[re],y,g,S).pipe((0,gt.P)(),(0,xt.b)(_e=>{G[re]=_e}))),pt(1),function L(E){return(0,ge.U)(()=>E)}(G),(0,Ke.K)(re=>re instanceof ze.K?Ue.E:(0,nt._)(re)))}(G,E,y,S).pipe((0,ge.U)(re=>(E._resolvedData=re,E.data=Di(E,g).resolve,x&&Ot(x)&&(E.data[B]=x.title),null)))}(re.route,S,E,y)),(0,xt.b)(()=>G++),pt(1),(0,Tt.z)(re=>G===x.length?(0,Y.of)(g):Ue.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xt.b)({next:()=>Bt=!0,complete:()=>{Bt||(this.restoreHistory(dt),this.cancelNavigationTransition(dt,"At least one route resolver didn't emit any value."))}}))}),(0,xt.b)(dt=>{const Bt=new On(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Bt)}))}),Qt(()=>this.afterPreactivation()),Qt(_e=>{const dt=Bt=>{const Zn=[];Bt.routeConfig?.loadComponent&&!Bt.routeConfig._loadedComponent&&Zn.push(this.configLoader.loadComponent(Bt.routeConfig).pipe((0,xt.b)(Kt=>{Bt.component=Kt}),(0,ge.U)(()=>{})));for(const Kt of Bt.children)Zn.push(...dt(Kt));return Zn};return(0,Re.a)(dt(_e.targetSnapshot.root)).pipe((0,be.d)(),(0,Ce.q)(1))}),(0,ge.U)(_e=>{const dt=function Zr(E,y,g){const S=Dn(E,y._root,g?g._root:void 0);return new ps(S,y)}(this.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return{..._e,targetRouterState:dt}}),(0,xt.b)(_e=>{this.currentUrlTree=_e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_e.urlAfterRedirects,_e.rawUrl),this.routerState=_e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_e),this.browserUrlTree=_e.urlAfterRedirects)}),((E,y,g)=>(0,ge.U)(S=>(new kn(y,S.targetRouterState,S.currentRouterState,g).activate(E),S)))(this.rootContexts,this.routeReuseStrategy,_e=>this.triggerEvent(_e)),(0,xt.b)({next(){G=!0},complete(){G=!0}}),(0,Wt.x)(()=>{G||re||this.cancelNavigationTransition(x,`Navigation ID ${x.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===x.id&&(this.currentNavigation=null)}),(0,Ke.K)(_e=>{if(re=!0,function Ie(E){return E&&E[rt]}(_e)){const dt=ss(_e.url);dt||(this.navigated=!0,this.restoreHistory(x,!0));const Bt=new Jt(x.id,this.serializeUrl(x.extractedUrl),_e.message);if(S.next(Bt),dt){const Zn=this.urlHandlingStrategy.merge(_e.url,this.rawUrlTree),Kt={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bi(x.source)};this.scheduleNavigation(Zn,"imperative",null,Kt,{resolve:x.resolve,reject:x.reject,promise:x.promise})}else x.resolve(!1)}else{this.restoreHistory(x,!0);const dt=new Fn(x.id,this.serializeUrl(x.extractedUrl),_e);S.next(dt);try{x.resolve(this.errorHandler(_e))}catch(Bt){x.reject(Bt)}}return Ue.E}))}))}resetRootComponentType(g){this.rootComponentType=g,this.routerState.root.component=this.rootComponentType}setTransition(g){this.transitions.next({...this.transitions.value,...g})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const S="popstate"===g.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{const x={replaceUrl:!0},G=g.state?.navigationId?g.state:null;if(G){const _e={...G};delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(x.state=_e)}const re=this.parseUrl(g.url);this.scheduleNavigation(re,S,G,x)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(g){this.events.next(g)}resetConfig(g){this.config=g.map(Ts),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,S={}){const{relativeTo:x,queryParams:G,fragment:re,queryParamsHandling:_e,preserveFragment:dt}=S,Bt=x||this.routerState.root,Zn=dt?this.currentUrlTree.fragment:re;let Kt=null;switch(_e){case"merge":Kt={...this.currentUrlTree.queryParams,...G};break;case"preserve":Kt=this.currentUrlTree.queryParams;break;default:Kt=G||null}return null!==Kt&&(Kt=this.removeEmptyProps(Kt)),function Bs(E,y,g,S,x){if(0===g.length)return wi(y.root,y.root,y.root,S,x);const G=function ki(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Vs(!0,0,E);let y=0,g=!1;const S=E.reduce((x,G,re)=>{if("object"==typeof G&&null!=G){if(G.outlets){const _e={};return on(G.outlets,(dt,Bt)=>{_e[Bt]="string"==typeof dt?dt.split("/"):dt}),[...x,{outlets:_e}]}if(G.segmentPath)return[...x,G.segmentPath]}return"string"!=typeof G?[...x,G]:0===re?(G.split("/").forEach((_e,dt)=>{0==dt&&"."===_e||(0==dt&&""===_e?g=!0:".."===_e?y++:""!=_e&&x.push(_e))}),x):[...x,G]},[]);return new Vs(g,y,S)}(g);return G.toRoot()?wi(y.root,y.root,new zt([],{}),S,x):function re(dt){const Bt=function dr(E,y,g,S){return E.isAbsolute?new ro(y.root,!0,0):-1===S?new ro(g,g===y.root,0):function hr(E,y,g){let S=E,x=y,G=g;for(;G>x;){if(G-=x,S=S.parent,!S)throw new Error("Invalid number of '../'");x=S.segments.length}return new ro(S,!1,x-G)}(g,S+(oi(E.commands[0])?0:1),E.numberOfDoubleDots)}(G,y,E.snapshot?._urlSegment,dt),Zn=Bt.processChildren?or(Bt.segmentGroup,Bt.index,G.commands):li(Bt.segmentGroup,Bt.index,G.commands);return wi(y.root,Bt.segmentGroup,Zn,S,x)}(E.snapshot?._lastPathIndex)}(Bt,this.currentUrlTree,g,Kt,Zn??null)}navigateByUrl(g,S={skipLocationChange:!1}){const x=ss(g)?g:this.parseUrl(g),G=this.urlHandlingStrategy.merge(x,this.rawUrlTree);return this.scheduleNavigation(G,"imperative",null,S)}navigate(g,S={skipLocationChange:!1}){return function qi(E){for(let y=0;y<E.length;y++){const g=E[y];if(null==g)throw new Error(`The requested path contains ${g} segment at index ${y}`)}}(g),this.navigateByUrl(this.createUrlTree(g,S),S)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let S;try{S=this.urlSerializer.parse(g)}catch(x){S=this.malformedUriErrorHandler(x,this.urlSerializer,g)}return S}isActive(g,S){let x;if(x=!0===S?{...Mr}:!1===S?{...Gr}:S,ss(g))return Se(this.currentUrlTree,g,x);const G=this.parseUrl(g);return Se(this.currentUrlTree,G,x)}removeEmptyProps(g){return Object.keys(g).reduce((S,x)=>{const G=g[x];return null!=G&&(S[x]=G),S},{})}processNavigations(){this.navigations.subscribe(g=>{this.navigated=!0,this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId,this.events.next(new tn(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),g.resolve(!0)},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}scheduleNavigation(g,S,x,G,re){if(this.disposed)return Promise.resolve(!1);let _e,dt,Bt;re?(_e=re.resolve,dt=re.reject,Bt=re.promise):Bt=new Promise((br,Ur)=>{_e=br,dt=Ur});const Zn=++this.navigationId;let Kt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(x=this.location.getState()),Kt=x&&x.\u0275routerPageId?x.\u0275routerPageId:G.replaceUrl||G.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Kt=0,this.setTransition({id:Zn,targetPageId:Kt,source:S,restoredState:x,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:g,extras:G,resolve:_e,reject:dt,promise:Bt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Bt.catch(br=>Promise.reject(br))}setBrowserUrl(g,S){const x=this.urlSerializer.serialize(g),G={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.isCurrentPathEqualTo(x)||S.extras.replaceUrl?this.location.replaceState(x,"",G):this.location.go(x,"",G)}restoreHistory(g,S=!1){if("computed"===this.canceledNavigationResolution){const x=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===x?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===x&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(x)}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(g,S){const x=new Jt(g.id,this.serializeUrl(g.extractedUrl),S);this.triggerEvent(x),g.resolve(!1)}generateNgRouterState(g,S){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:S}:{navigationId:g}}}return E.\u0275fac=function(g){T.$Z()},E.\u0275prov=T.Yz7({token:E,factory:E.\u0275fac}),E})();function bi(E){return"imperative"!==E}let ls=(()=>{class E{constructor(g,S,x){this.router=g,this.route=S,this.locationStrategy=x,this.commands=null,this.href=null,this.onChanges=new $e.x,this.subscription=g.events.subscribe(G=>{G instanceof tn&&this.updateTargetUrlAndHref()})}set routerLink(g){this.commands=null!=g?Array.isArray(g)?g:[g]:null}ngOnChanges(g){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(g,S,x,G,re){if(0!==g||S||x||G||re||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const _e={skipLocationChange:(0,T.D6c)(this.skipLocationChange),replaceUrl:(0,T.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_e),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,T.D6c)(this.preserveFragment)})}}return E.\u0275fac=function(g){return new(g||E)(T.Y36(Fr),T.Y36(Jr),T.Y36(D.S$))},E.\u0275dir=T.lG2({type:E,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(g,S){1&g&&T.NdJ("click",function(G){return S.onClick(G.button,G.ctrlKey,G.shiftKey,G.altKey,G.metaKey)}),2&g&&T.uIk("target",S.target)("href",S.href,T.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[T.TTD]}),E})();class en{buildTitle(y){let g,S=y.root;for(;void 0!==S;)g=this.getResolvedTitleForRoute(S)??g,S=S.children.find(x=>x.outlet===Zt);return g}getResolvedTitleForRoute(y){return y.data[B]}}let $t=(()=>{class E extends en{constructor(g){super(),this.title=g}updateTitle(g){const S=this.buildTitle(g);void 0!==S&&this.title.setTitle(S)}}return E.\u0275fac=function(g){return new(g||E)(T.LFG(hn.Dx))},E.\u0275prov=T.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class ln{}class Kr{preload(y,g){return(0,Y.of)(null)}}let Jn=(()=>{class E{constructor(g,S,x,G,re){this.router=g,this.injector=x,this.preloadingStrategy=G,this.loader=re}setUpPreloading(){this.subscription=this.router.events.pipe((0,_t.h)(g=>g instanceof tn),(0,Be.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,S){const x=[];for(const G of S){G.providers&&!G._injector&&(G._injector=(0,T.MMx)(G.providers,g,`Route: ${G.path}`));const re=G._injector??g,_e=G._loadedInjector??re;G.loadChildren&&!G._loadedRoutes||G.loadComponent&&!G._loadedComponent?x.push(this.preloadConfig(re,G)):(G.children||G._loadedRoutes)&&x.push(this.processRoutes(_e,G.children??G._loadedRoutes))}return(0,Me.D)(x).pipe((0,ht.J)())}preloadConfig(g,S){return this.preloadingStrategy.preload(S,()=>{let x;x=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(g,S):(0,Y.of)(null);const G=x.pipe((0,Tt.z)(re=>null===re?(0,Y.of)(void 0):(S._loadedRoutes=re.routes,S._loadedInjector=re.injector,this.processRoutes(re.injector??g,re.routes))));if(S.loadComponent&&!S._loadedComponent){const re=this.loader.loadComponent(S);return(0,Me.D)([G,re]).pipe((0,ht.J)())}return G})}}return E.\u0275fac=function(g){return new(g||E)(T.LFG(Fr),T.LFG(T.Sil),T.LFG(T.lqb),T.LFG(ln),T.LFG(ur))},E.\u0275prov=T.Yz7({token:E,factory:E.\u0275fac}),E})(),yr=(()=>{class E{constructor(g,S,x={}){this.router=g,this.viewportScroller=S,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration=x.scrollPositionRestoration||"disabled",x.anchorScrolling=x.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(g=>{g instanceof Xt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof tn&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.router.parseUrl(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(g=>{g instanceof bn&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,S){this.router.triggerEvent(new bn(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return E.\u0275fac=function(g){T.$Z()},E.\u0275prov=T.Yz7({token:E,factory:E.\u0275fac}),E})();const vn=new T.OlP("ROUTER_CONFIGURATION"),_s=new T.OlP("ROUTER_FORROOT_GUARD"),ys=[D.Ye,{provide:Xe,useClass:At},{provide:Fr,useFactory:function Ls(E,y,g,S,x,G,re={},_e,dt,Bt,Zn){const Kt=new Fr(null,E,y,g,S,x,Cn(G));return Bt&&(Kt.urlHandlingStrategy=Bt),Zn&&(Kt.routeReuseStrategy=Zn),Kt.titleStrategy=dt??_e,function wo(E,y){E.errorHandler&&(y.errorHandler=E.errorHandler),E.malformedUriErrorHandler&&(y.malformedUriErrorHandler=E.malformedUriErrorHandler),E.onSameUrlNavigation&&(y.onSameUrlNavigation=E.onSameUrlNavigation),E.paramsInheritanceStrategy&&(y.paramsInheritanceStrategy=E.paramsInheritanceStrategy),E.relativeLinkResolution&&(y.relativeLinkResolution=E.relativeLinkResolution),E.urlUpdateStrategy&&(y.urlUpdateStrategy=E.urlUpdateStrategy),E.canceledNavigationResolution&&(y.canceledNavigationResolution=E.canceledNavigationResolution)}(re,Kt),Kt},deps:[Xe,Tr,D.Ye,T.zs3,T.Sil,Wn,vn,$t,[en,new T.FiY],[class Dr{},new T.FiY],[class Gn{},new T.FiY]]},Tr,{provide:Jr,useFactory:function Fs(E){return E.routerState.root},deps:[Fr]},Jn,Kr,class Kn{preload(y,g){return g().pipe((0,Ke.K)(()=>(0,Y.of)(null)))}},{provide:vn,useValue:{enableTracing:!1}},ur];function Nr(){return new T.PXZ("Router",Fr)}let Ji=(()=>{class E{constructor(g,S){}static forRoot(g,S){return{ngModule:E,providers:[ys,us(g),{provide:_s,useFactory:vs,deps:[[Fr,new T.FiY,new T.tp0]]},{provide:vn,useValue:S||{}},{provide:D.S$,useFactory:ks,deps:[D.lw,[new T.tBr(D.mr),new T.FiY],vn]},{provide:yr,useFactory:qr,deps:[Fr,D.EM,vn]},{provide:ln,useExisting:S&&S.preloadingStrategy?S.preloadingStrategy:Kr},{provide:T.PXZ,multi:!0,useFactory:Nr},[Ws,{provide:T.ip1,multi:!0,useFactory:cs,deps:[Ws]},{provide:Zo,useFactory:uo,deps:[Ws]},{provide:T.tb,multi:!0,useExisting:Zo}]]}}static forChild(g){return{ngModule:E,providers:[us(g)]}}}return E.\u0275fac=function(g){return new(g||E)(T.LFG(_s,8),T.LFG(Fr,8))},E.\u0275mod=T.oAB({type:E}),E.\u0275inj=T.cJS({}),E})();function qr(E,y,g){return g.scrollOffset&&y.setOffset(g.scrollOffset),new yr(E,y,g)}function ks(E,y,g={}){return g.useHash?new D.Do(E,y):new D.b0(E,y)}function vs(E){return"guarded"}function us(E){return[{provide:T.deG,multi:!0,useValue:E},{provide:Wn,multi:!0,useValue:E}]}let Ws=(()=>{class E{constructor(g){this.injector=g,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $e.x}appInitializer(){return this.injector.get(D.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let S=null;const x=new Promise(_e=>S=_e),G=this.injector.get(Fr),re=this.injector.get(vn);return"disabled"===re.initialNavigation?(G.setUpLocationChangeListener(),S(!0)):"enabledBlocking"===re.initialNavigation?(G.afterPreactivation=()=>this.initNavigation?(0,Y.of)(void 0):(this.initNavigation=!0,S(!0),this.resultOfPreactivationDone),G.initialNavigation()):S(!0),x})}bootstrapListener(g){const S=this.injector.get(vn),x=this.injector.get(Jn),G=this.injector.get(yr),re=this.injector.get(Fr),_e=this.injector.get(T.z2F);g===_e.components[0]&&(("enabledNonBlocking"===S.initialNavigation||void 0===S.initialNavigation)&&re.initialNavigation(),x.setUpPreloading(),G.init(),re.resetRootComponentType(_e.componentTypes[0]),this.resultOfPreactivationDone.next(void 0),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return E.\u0275fac=function(g){return new(g||E)(T.LFG(T.zs3))},E.\u0275prov=T.Yz7({token:E,factory:E.\u0275fac}),E})();function cs(E){return E.appInitializer.bind(E)}function uo(E){return E.bootstrapListener.bind(E)}const Zo=new T.OlP("Router Initializer")},3942:(kt,ke,O)=>{O.d(ke,{Z:()=>Je});var D=O(2090),T=O(4859),U=O(9681),de=O(1877);class le{constructor(Ue,$e){this._delegate=Ue,this.firebase=$e,(0,U._addComponent)(Ue,new T.wA("app-compat",()=>this,"PUBLIC")),this.container=Ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this._delegate.automaticDataCollectionEnabled=Ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ue=>{this._delegate.checkDestroyed(),Ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Ue,$e=U._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(Ue);return!pt.isInitialized()&&"EXPLICIT"===(null===(_t=pt.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:$e})}_removeServiceInstance(Ue,$e=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ue).clearInstance($e)}_addComponent(Ue){(0,U._addComponent)(this._delegate,Ue)}_addOrOverwriteComponent(Ue){(0,U._addOrOverwriteComponent)(this._delegate,Ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new D.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function Me(){const ft=function Ee(ft){const Ue={},$e={__esModule:!0,initializeApp:function Ve(ge,L={}){const Ze=U.initializeApp(ge,L);if((0,D.r3)(Ue,Ze.name))return Ue[Ze.name];const Ce=new ft(Ze,$e);return Ue[Ze.name]=Ce,Ce},app:pt,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function je(ge){const L=ge.name,Ze=L.replace("-compat","");if(U._registerComponent(ge)&&"PUBLIC"===ge.type){const Ce=(Ne=pt())=>{if("function"!=typeof Ne[Ze])throw ie.create("invalid-app-argument",{appName:L});return Ne[Ze]()};void 0!==ge.serviceProps&&(0,D.ZB)(Ce,ge.serviceProps),$e[Ze]=Ce,ft.prototype[Ze]=function(...Ne){return this._getService.bind(this,L).apply(this,ge.multipleInstances?Ne:[])}}return"PUBLIC"===ge.type?$e[Ze]:null},removeApp:function _t(ge){delete Ue[ge]},useAsService:function wt(ge,L){return"serverAuth"===L?null:L},modularAPIs:U}};function pt(ge){if(!(0,D.r3)(Ue,ge=ge||U._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:ge});return Ue[ge]}return $e.default=$e,Object.defineProperty($e,"apps",{get:function be(){return Object.keys(Ue).map(ge=>Ue[ge])}}),pt.App=ft,$e}(le);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function Ue($e){(0,D.ZB)(ft,$e)},createSubscribe:D.ne,ErrorFactory:D.LL,deepExtend:D.ZB}),ft}(),te=new de.Yd("@firebase/app-compat");if((0,D.jU)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=Y;!function ze(ft){(0,U.registerVersion)("@firebase/app-compat","0.1.28",ft)}()},9681:(kt,ke,O)=>{O.r(ke),O.d(ke,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>mr,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>tn,_apps:()=>hn,_clearComponents:()=>Pr,_components:()=>nn,_getProvider:()=>Fn,_registerComponent:()=>Jt,_removeServiceInstance:()=>fn,deleteApp:()=>Pt,getApp:()=>sr,getApps:()=>tr,initializeApp:()=>lr,onLog:()=>an,registerVersion:()=>bn,setLogLevel:()=>Zt});var D=O(5861),T=O(4859),U=O(1877),de=O(2090),le=O(8766);class Te{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function ie(Ae){return"VERSION"===Ae.getComponent()?.type}(tt)){const bt=tt.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(tt=>tt).join(" ")}}const Ee="@firebase/app",Y=new U.Yd("@firebase/app"),Wt="[DEFAULT]",ht={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,nn=new Map;function Xt(Ae,J){try{Ae.container.addComponent(J)}catch(tt){Y.debug(`Component ${J.name} failed to register with FirebaseApp ${Ae.name}`,tt)}}function tn(Ae,J){Ae.container.addOrOverwriteComponent(J)}function Jt(Ae){const J=Ae.name;if(nn.has(J))return Y.debug(`There were multiple attempts to register component ${J}.`),!1;nn.set(J,Ae);for(const tt of hn.values())Xt(tt,Ae);return!0}function Fn(Ae,J){const tt=Ae.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),Ae.container.getProvider(J)}function fn(Ae,J,tt=Wt){Fn(Ae,J).clearInstance(tt)}function Pr(){nn.clear()}const Un=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class On{constructor(J,tt,bt){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new T.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const mr="9.8.4";function lr(Ae,J={}){"object"!=typeof J&&(J={name:J});const tt=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},J),bt=tt.name;if("string"!=typeof bt||!bt)throw Un.create("bad-app-name",{appName:String(bt)});const Ut=hn.get(bt);if(Ut){if((0,de.vZ)(Ae,Ut.options)&&(0,de.vZ)(tt,Ut.config))return Ut;throw Un.create("duplicate-app",{appName:bt})}const dn=new T.H0(bt);for(const zt of nn.values())dn.addComponent(zt);const yn=new On(Ae,tt,dn);return hn.set(bt,yn),yn}function sr(Ae=Wt){const J=hn.get(Ae);if(!J)throw Un.create("no-app",{appName:Ae});return J}function tr(){return Array.from(hn.values())}function Pt(Ae){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,D.Z)(function*(Ae){const J=Ae.name;hn.has(J)&&(hn.delete(J),yield Promise.all(Ae.container.getProviders().map(tt=>tt.delete())),Ae.isDeleted=!0)})).apply(this,arguments)}function bn(Ae,J,tt){var bt;let Ut=null!==(bt=ht[Ae])&&void 0!==bt?bt:Ae;tt&&(Ut+=`-${tt}`);const dn=Ut.match(/\s|\//),yn=J.match(/\s|\//);if(dn||yn){const zt=[`Unable to register library "${Ut}" with version "${J}":`];return dn&&zt.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),dn&&yn&&zt.push("and"),yn&&zt.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void Y.warn(zt.join(" "))}Jt(new T.wA(`${Ut}-version`,()=>({library:Ut,version:J}),"VERSION"))}function an(Ae,J){if(null!==Ae&&"function"!=typeof Ae)throw Un.create("invalid-log-argument");(0,U.Am)(Ae,J)}function Zt(Ae){(0,U.Ub)(Ae)}const rt="firebase-heartbeat-store";let he=null;function Ie(){return he||(he=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(Ae,J)=>{0===J&&Ae.createObjectStore(rt)}}).catch(Ae=>{throw Un.create("storage-open",{originalErrorMessage:Ae.message})})),he}function Oe(){return(Oe=(0,D.Z)(function*(Ae){var J;try{return(yield Ie()).transaction(rt).objectStore(rt).get(Cn(Ae))}catch(tt){throw Un.create("storage-get",{originalErrorMessage:null===(J=tt)||void 0===J?void 0:J.message})}})).apply(this,arguments)}function ut(Ae,J){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,D.Z)(function*(Ae,J){var tt;try{const Ut=(yield Ie()).transaction(rt,"readwrite");return yield Ut.objectStore(rt).put(J,Cn(Ae)),Ut.done}catch(bt){throw Un.create("storage-set",{originalErrorMessage:null===(tt=bt)||void 0===tt?void 0:tt.message})}})).apply(this,arguments)}function Cn(Ae){return`${Ae.name}!${Ae.options.appId}`}class on{constructor(J){this.container=J,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new ue(tt),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var J=this;return(0,D.Z)(function*(){const bt=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=mn();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!J._heartbeatsCache.heartbeats.some(dn=>dn.date===Ut))return J._heartbeatsCache.heartbeats.push({date:Ut,agent:bt}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(dn=>{const yn=new Date(dn.date).valueOf();return Date.now()-yn<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,D.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const tt=mn(),{heartbeatsToSend:bt,unsentEntries:Ut}=function _n(Ae,J=1024){const tt=[];let bt=Ae.slice();for(const Ut of Ae){const dn=tt.find(yn=>yn.agent===Ut.agent);if(dn){if(dn.dates.push(Ut.date),ee(tt)>J){dn.dates.pop();break}}else if(tt.push({agent:Ut.agent,dates:[Ut.date]}),ee(tt)>J){tt.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:bt}}(J._heartbeatsCache.heartbeats),dn=(0,de.L)(JSON.stringify({version:2,heartbeats:bt}));return J._heartbeatsCache.lastSentHeartbeatDate=tt,Ut.length>0?(J._heartbeatsCache.heartbeats=Ut,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),dn})()}}function mn(){return(new Date).toISOString().substring(0,10)}class ue{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,D.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,D.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function ot(Ae){return Oe.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var tt=this;return(0,D.Z)(function*(){var bt;if(yield tt._canUseIndexedDBPromise){const dn=yield tt.read();return ut(tt.app,{lastSentHeartbeatDate:null!==(bt=J.lastSentHeartbeatDate)&&void 0!==bt?bt:dn.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var tt=this;return(0,D.Z)(function*(){var bt;if(yield tt._canUseIndexedDBPromise){const dn=yield tt.read();return ut(tt.app,{lastSentHeartbeatDate:null!==(bt=J.lastSentHeartbeatDate)&&void 0!==bt?bt:dn.lastSentHeartbeatDate,heartbeats:[...dn.heartbeats,...J.heartbeats]})}})()}}function ee(Ae){return(0,de.L)(JSON.stringify({version:2,heartbeats:Ae})).length}!function Se(Ae){Jt(new T.wA("platform-logger",J=>new Te(J),"PRIVATE")),Jt(new T.wA("heartbeat",J=>new on(J),"PRIVATE")),bn(Ee,"0.7.27",Ae),bn(Ee,"0.7.27","esm2017"),bn("fire-js","")}("")},4859:(kt,ke,O)=>{O.d(ke,{H0:()=>Ee,wA:()=>U,zt:()=>le});var D=O(5861),T=O(2090);class U{constructor(Y,te,Re){this.name=Y,this.instanceFactory=te,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const de="[DEFAULT]";class le{constructor(Y,te){this.name=Y,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const te=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(te)){const Re=new T.BH;if(this.instancesDeferred.set(te,Re),this.isInitialized(te)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:te});nt&&Re.resolve(nt)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(Y){var te;const Re=this.normalizeInstanceIdentifier(Y?.identifier),nt=null!==(te=Y?.optional)&&void 0!==te&&te;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(ze){if(nt)return null;throw ze}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function ie(Me){return"EAGER"===Me.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[te,Re]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(te);try{const ze=this.getOrInitializeService({instanceIdentifier:nt});Re.resolve(ze)}catch{}}}}clearInstance(Y=de){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,D.Z)(function*(){const te=Array.from(Y.instances.values());yield Promise.all([...te.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...te.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=de){return this.instances.has(Y)}getOptions(Y=de){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:te={}}=Y,Re=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:Re,options:te});for(const[ze,Je]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(ze)&&Je.resolve(nt);return nt}onInit(Y,te){var Re;const nt=this.normalizeInstanceIdentifier(te),ze=null!==(Re=this.onInitCallbacks.get(nt))&&void 0!==Re?Re:new Set;ze.add(Y),this.onInitCallbacks.set(nt,ze);const Je=this.instances.get(nt);return Je&&Y(Je,nt),()=>{ze.delete(Y)}}invokeOnInitCallbacks(Y,te){const Re=this.onInitCallbacks.get(te);if(Re)for(const nt of Re)try{nt(Y,te)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:te={}}){let Re=this.instances.get(Y);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=Y,Me===de?void 0:Me),options:te}),this.instances.set(Y,Re),this.instancesOptions.set(Y,te),this.invokeOnInitCallbacks(Re,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,Re)}catch{}var Me;return Re||null}normalizeInstanceIdentifier(Y=de){return this.component?this.component.multipleInstances?Y:de:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const te=this.getProvider(Y.name);if(te.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);te.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const te=new le(Y,this);return this.providers.set(Y,te),te}getProviders(){return Array.from(this.providers.values())}}},1877:(kt,ke,O)=>{O.d(ke,{Am:()=>Me,Ub:()=>Ee,Yd:()=>ie,in:()=>T});const D=[];var T=(()=>{return(Y=T||(T={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",T;var Y})();const U={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},de=T.INFO,le={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},Te=(Y,te,...Re)=>{if(te<Y.logLevel)return;const nt=(new Date).toISOString(),ze=le[te];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[ze](`[${nt}]  ${Y.name}:`,...Re)};class ie{constructor(te){this.name=te,this._logLevel=de,this._logHandler=Te,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in T))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?U[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...te),this._logHandler(this,T.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...te),this._logHandler(this,T.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,T.INFO,...te),this._logHandler(this,T.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,T.WARN,...te),this._logHandler(this,T.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,T.ERROR,...te),this._logHandler(this,T.ERROR,...te)}}function Ee(Y){D.forEach(te=>{te.setLogLevel(Y)})}function Me(Y,te){for(const Re of D){let nt=null;te&&te.level&&(nt=U[te.level]),Re.userLogHandler=null===Y?null:(ze,Je,...ft)=>{const Ue=ft.map($e=>{if(null==$e)return null;if("string"==typeof $e)return $e;if("number"==typeof $e||"boolean"==typeof $e)return $e.toString();if($e instanceof Error)return $e.message;try{return JSON.stringify($e)}catch{return null}}).filter($e=>$e).join(" ");Je>=(nt??ze.logLevel)&&Y({level:T[Je].toLowerCase(),message:Ue,args:ft,type:ze.name})}}}},8766:(kt,ke,O)=>{O.d(ke,{Lj:()=>Ve,X3:()=>pt});var D=O(5861);let U,de;const ie=new WeakMap,Ee=new WeakMap,Me=new WeakMap,Y=new WeakMap,te=new WeakMap;let ze={get(L,Ze,Ce){if(L instanceof IDBTransaction){if("done"===Ze)return Ee.get(L);if("objectStoreNames"===Ze)return L.objectStoreNames||Me.get(L);if("store"===Ze)return Ce.objectStoreNames[1]?void 0:Ce.objectStore(Ce.objectStoreNames[0])}return $e(L[Ze])},set:(L,Ze,Ce)=>(L[Ze]=Ce,!0),has:(L,Ze)=>L instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in L};function Ue(L){return"function"==typeof L?function ft(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(L)?function(...Ze){return L.apply(_t(this),Ze),$e(ie.get(this))}:function(...Ze){return $e(L.apply(_t(this),Ze))}:function(Ze,...Ce){const Ne=L.call(_t(this),Ze,...Ce);return Me.set(Ne,Ze.sort?Ze.sort():[Ze]),$e(Ne)}}(L):(L instanceof IDBTransaction&&function nt(L){if(Ee.has(L))return;const Ze=new Promise((Ce,Ne)=>{const Fe=()=>{L.removeEventListener("complete",Ke),L.removeEventListener("error",Be),L.removeEventListener("abort",Be)},Ke=()=>{Ce(),Fe()},Be=()=>{Ne(L.error||new DOMException("AbortError","AbortError")),Fe()};L.addEventListener("complete",Ke),L.addEventListener("error",Be),L.addEventListener("abort",Be)});Ee.set(L,Ze)}(L),((L,Ze)=>Ze.some(Ce=>L instanceof Ce))(L,function le(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(L,ze):L)}function $e(L){if(L instanceof IDBRequest)return function Re(L){const Ze=new Promise((Ce,Ne)=>{const Fe=()=>{L.removeEventListener("success",Ke),L.removeEventListener("error",Be)},Ke=()=>{Ce($e(L.result)),Fe()},Be=()=>{Ne(L.error),Fe()};L.addEventListener("success",Ke),L.addEventListener("error",Be)});return Ze.then(Ce=>{Ce instanceof IDBCursor&&ie.set(Ce,L)}).catch(()=>{}),te.set(Ze,L),Ze}(L);if(Y.has(L))return Y.get(L);const Ze=Ue(L);return Ze!==L&&(Y.set(L,Ze),te.set(Ze,L)),Ze}const _t=L=>te.get(L);function pt(L,Ze,{blocked:Ce,upgrade:Ne,blocking:Fe,terminated:Ke}={}){const Be=indexedDB.open(L,Ze),gt=$e(Be);return Ne&&Be.addEventListener("upgradeneeded",Tt=>{Ne($e(Be.result),Tt.oldVersion,Tt.newVersion,$e(Be.transaction))}),Ce&&Be.addEventListener("blocked",()=>Ce()),gt.then(Tt=>{Ke&&Tt.addEventListener("close",()=>Ke()),Fe&&Tt.addEventListener("versionchange",()=>Fe())}).catch(()=>{}),gt}function Ve(L,{blocked:Ze}={}){const Ce=indexedDB.deleteDatabase(L);return Ze&&Ce.addEventListener("blocked",()=>Ze()),$e(Ce).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],wt=new Map;function ge(L,Ze){if(!(L instanceof IDBDatabase)||Ze in L||"string"!=typeof Ze)return;if(wt.get(Ze))return wt.get(Ze);const Ce=Ze.replace(/FromIndex$/,""),Ne=Ze!==Ce,Fe=je.includes(Ce);if(!(Ce in(Ne?IDBIndex:IDBObjectStore).prototype)||!Fe&&!be.includes(Ce))return;const Ke=function(){var Be=(0,D.Z)(function*(gt,...Tt){const xt=this.transaction(gt,Fe?"readwrite":"readonly");let Wt=xt.store;return Ne&&(Wt=Wt.index(Tt.shift())),(yield Promise.all([Wt[Ce](...Tt),Fe&&xt.done]))[0]});return function(Tt){return Be.apply(this,arguments)}}();return wt.set(Ze,Ke),Ke}!function Je(L){ze=L(ze)}(L=>({...L,get:(Ze,Ce,Ne)=>ge(Ze,Ce)||L.get(Ze,Ce,Ne),has:(Ze,Ce)=>!!ge(Ze,Ce)||L.has(Ze,Ce)}))},5861:(kt,ke,O)=>{function D(U,de,le,Te,ie,Ee,Me){try{var Y=U[Ee](Me),te=Y.value}catch(Re){return void le(Re)}Y.done?de(te):Promise.resolve(te).then(Te,ie)}function T(U){return function(){var de=this,le=arguments;return new Promise(function(Te,ie){var Ee=U.apply(de,le);function Me(te){D(Ee,Te,ie,Me,Y,"next",te)}function Y(te){D(Ee,Te,ie,Me,Y,"throw",te)}Me(void 0)})}}O.d(ke,{Z:()=>T})}},kt=>{kt(kt.s=4066)}]);